<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Flea for DSPy ‚Äî Crypto Tools for DSPy Programs</title>
<meta name="description" content="Integrate Purple Flea APIs into DSPy programs. Custom DSPy Tools for wallet, trading, casino, and domain APIs. Works with DSPy Modules and ReAct agents.">
<link rel="canonical" href="https://purpleflea.com/for-dspy/">
<meta property="og:title" content="Purple Flea for DSPy ‚Äî Crypto Tools for DSPy Programs">
<meta property="og:description" content="DSPy-compatible wrappers for Purple Flea APIs. Wallet, trading, casino, and domain tools for DSPy ReAct agents and optimizable modules.">
<meta property="og:url" content="https://purpleflea.com/for-dspy/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Purple Flea">
<meta property="og:image" content="https://purpleflea.com/flea.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@purpleflea">
<meta name="twitter:title" content="Purple Flea for DSPy Programs">
<meta name="twitter:description" content="DSPy tools for crypto wallets, 275 perp markets, casino games, domain registration. Optimizer-compatible, assertion-ready.">
<meta name="twitter:image" content="https://purpleflea.com/flea.jpg">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Purple Flea DSPy Integration",
  "url": "https://purpleflea.com/for-dspy/",
  "applicationCategory": "DeveloperApplication",
  "description": "DSPy Tool wrappers for Purple Flea APIs ‚Äî crypto wallets, perpetual futures, casino, and domain registration for DSPy programs.",
  "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"}
}
</script>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üü£</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --purple: #A855F7;
  --purple-dim: #7C3AED;
  --purple-glow: rgba(168, 85, 247, 0.3);
  --purple-subtle: rgba(168, 85, 247, 0.08);
  --bg: #09090B;
  --bg-card: rgba(255, 255, 255, 0.03);
  --bg-card-hover: rgba(255, 255, 255, 0.06);
  --border: rgba(255, 255, 255, 0.06);
  --border-hover: rgba(168, 85, 247, 0.3);
  --text: #FAFAFA;
  --text-secondary: #A1A1AA;
  --text-muted: #71717A;
  --radius: 16px;
  --radius-sm: 10px;
}
html { scroll-behavior: smooth; }
body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; overflow-x: hidden; -webkit-font-smoothing: antialiased; }
body::before { content: ''; position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.025; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E"); background-repeat: repeat; background-size: 180px; }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(168, 85, 247, 0.3); border-radius: 3px; }
::selection { background: rgba(168, 85, 247, 0.4); color: white; }
.container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
.reveal.visible { opacity: 1; transform: translateY(0); }
.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }

/* NAV */
nav { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 16px 0; transition: all 0.3s ease; }
nav.scrolled { background: rgba(9, 9, 11, 0.8); backdrop-filter: blur(20px) saturate(1.5); border-bottom: 1px solid var(--border); }
.nav-inner { display: flex; align-items: center; justify-content: space-between; max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.nav-logo { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 18px; text-decoration: none; color: var(--text); }
.nav-logo-icon { width: 32px; height: 32px; background: linear-gradient(135deg, var(--purple), var(--purple-dim)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
.nav-links { display: flex; align-items: center; gap: 32px; list-style: none; }
.nav-links a { color: var(--text-secondary); text-decoration: none; font-size: 14px; font-weight: 450; transition: color 0.2s; }
.nav-links a:hover { color: var(--text); }
.nav-cta { display: inline-flex; align-items: center; gap: 6px; padding: 8px 18px; background: var(--purple); color: white !important; border-radius: 8px; font-weight: 500; font-size: 14px; text-decoration: none; transition: all 0.2s; }
.nav-cta:hover { background: var(--purple-dim); transform: translateY(-1px); }
@media (max-width: 768px) { .nav-links { display: none; } }

/* HERO */
.hero { min-height: 80vh; display: flex; align-items: center; justify-content: center; position: relative; padding: 120px 0 80px; overflow: hidden; }
.hero-bg { position: absolute; inset: 0; overflow: hidden; }
.hero-gradient-1 { position: absolute; top: -30%; left: 50%; transform: translateX(-50%); width: 900px; height: 600px; background: radial-gradient(ellipse, rgba(168, 85, 247, 0.15) 0%, transparent 70%); filter: blur(60px); }
.hero-grid { position: absolute; inset: 0; background-image: linear-gradient(rgba(168, 85, 247, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(168, 85, 247, 0.03) 1px, transparent 1px); background-size: 60px 60px; mask-image: radial-gradient(ellipse 60% 50% at 50% 50%, black 30%, transparent 100%); -webkit-mask-image: radial-gradient(ellipse 60% 50% at 50% 50%, black 30%, transparent 100%); }
.hero-content { position: relative; text-align: center; max-width: 860px; margin: 0 auto; padding: 0 24px; }
.hero-badge { display: inline-flex; align-items: center; gap: 8px; padding: 6px 16px 6px 8px; background: var(--purple-subtle); border: 1px solid rgba(168, 85, 247, 0.15); border-radius: 100px; font-size: 13px; font-weight: 500; color: var(--purple); margin-bottom: 32px; animation: fadeInDown 0.8s ease; }
.hero-badge-dot { width: 8px; height: 8px; background: var(--purple); border-radius: 50%; animation: badge-pulse 2s ease-in-out infinite; }
@keyframes badge-pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes gradient-shift { 0% { background-position: 0% center; } 50% { background-position: 100% center; } 100% { background-position: 0% center; } }
.hero h1 { font-size: clamp(2.5rem, 6vw, 4.5rem); font-weight: 800; line-height: 1.05; letter-spacing: -0.03em; margin-bottom: 24px; animation: fadeInUp 0.8s ease 0.1s both; }
.hero h1 .gradient { background: linear-gradient(135deg, var(--purple) 0%, #C084FC 50%, var(--purple) 100%); background-size: 200% auto; -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; animation: gradient-shift 5s ease infinite; }
.hero-desc { font-size: clamp(1rem, 2vw, 1.2rem); color: var(--text-secondary); margin-bottom: 40px; line-height: 1.7; animation: fadeInUp 0.8s ease 0.2s both; }
.hero-actions { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; animation: fadeInUp 0.8s ease 0.3s both; }
.btn-primary { display: inline-flex; align-items: center; gap: 8px; padding: 14px 28px; background: var(--purple); color: white; border-radius: var(--radius-sm); font-weight: 600; font-size: 15px; text-decoration: none; transition: all 0.2s; box-shadow: 0 0 30px rgba(168, 85, 247, 0.3); }
.btn-primary:hover { background: var(--purple-dim); transform: translateY(-2px); box-shadow: 0 0 40px rgba(168, 85, 247, 0.5); }
.btn-secondary { display: inline-flex; align-items: center; gap: 8px; padding: 14px 28px; background: var(--bg-card); color: var(--text); border-radius: var(--radius-sm); font-weight: 500; font-size: 15px; text-decoration: none; border: 1px solid var(--border); transition: all 0.2s; }
.btn-secondary:hover { border-color: var(--border-hover); background: var(--bg-card-hover); transform: translateY(-2px); }

/* SECTIONS */
section { padding: 100px 0; position: relative; }
.section-label { display: inline-flex; align-items: center; gap: 12px; font-size: 12px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--purple); margin-bottom: 20px; }
.section-label::before { content: ''; width: 24px; height: 1px; background: var(--purple); }
.section-title { font-size: clamp(2rem, 4vw, 3rem); font-weight: 800; letter-spacing: -0.02em; margin-bottom: 20px; }
.section-desc { font-size: 1.1rem; color: var(--text-secondary); max-width: 600px; margin-bottom: 60px; line-height: 1.7; }
.section-divider { border: none; height: 1px; background: linear-gradient(90deg, transparent, var(--border), transparent); margin: 0; }

/* CODE BLOCK */
.code-block { background: rgba(0,0,0,0.4); border: 1px solid var(--border); border-radius: var(--radius); padding: 28px; font-family: 'JetBrains Mono', monospace; font-size: 13.5px; line-height: 1.7; overflow-x: auto; position: relative; }
.code-block .code-header { display: flex; align-items: center; gap: 8px; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
.code-dot { width: 12px; height: 12px; border-radius: 50%; }
.code-dot.red { background: #EF4444; }
.code-dot.yellow { background: #FBBF24; }
.code-dot.green { background: #22C55E; }
.code-filename { margin-left: 8px; font-size: 12px; color: var(--text-muted); }
.kw { color: #C084FC; }
.fn { color: #93C5FD; }
.st { color: #86EFAC; }
.cm { color: var(--text-muted); font-style: italic; }
.num { color: #FDE68A; }
.cls { color: #F9A8D4; }
.at { color: #A855F7; }

/* GRID */
.grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; }
@media (max-width: 768px) { .grid-2, .grid-3 { grid-template-columns: 1fr; } }

/* CARDS */
.card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 32px; transition: all 0.3s ease; }
.card:hover { background: var(--bg-card-hover); border-color: var(--border-hover); transform: translateY(-4px); box-shadow: 0 20px 60px rgba(0,0,0,0.4), 0 0 30px rgba(168,85,247,0.05); }
.card-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-bottom: 20px; }
.card-icon.purple { background: rgba(168, 85, 247, 0.15); }
.card-icon.blue { background: rgba(96, 165, 250, 0.15); }
.card-icon.green { background: rgba(34, 197, 94, 0.15); }
.card-icon.orange { background: rgba(251, 146, 60, 0.15); }
.card h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 10px; }
.card p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }

/* INSTALL BANNER */
.install-banner { background: rgba(168, 85, 247, 0.06); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: var(--radius); padding: 20px 28px; display: flex; align-items: center; gap: 16px; margin-bottom: 48px; font-family: 'JetBrains Mono', monospace; font-size: 14px; }
.install-banner .pip { color: var(--text-muted); }
.install-banner .pkg { color: var(--purple); font-weight: 600; }
.copy-btn { margin-left: auto; padding: 6px 14px; background: var(--purple-subtle); border: 1px solid var(--border-hover); color: var(--purple); border-radius: 6px; font-size: 12px; cursor: pointer; font-family: inherit; transition: all 0.2s; }
.copy-btn:hover { background: rgba(168,85,247,0.15); }

/* STEPS */
.steps { display: flex; flex-direction: column; gap: 0; }
.step { display: flex; gap: 24px; padding: 32px 0; border-bottom: 1px solid var(--border); }
.step:last-child { border-bottom: none; }
.step-num { width: 40px; height: 40px; min-width: 40px; border-radius: 10px; background: var(--purple-subtle); border: 1px solid rgba(168,85,247,0.2); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 14px; color: var(--purple); }
.step-content h3 { font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; }
.step-content p { color: var(--text-secondary); font-size: 0.9rem; }

/* TOOLS TABLE */
.tools-table { width: 100%; border-collapse: collapse; }
.tools-table th { text-align: left; padding: 12px 16px; font-size: 12px; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; color: var(--text-muted); border-bottom: 1px solid var(--border); }
.tools-table td { padding: 14px 16px; font-size: 14px; border-bottom: 1px solid var(--border); vertical-align: top; }
.tools-table tr:last-child td { border-bottom: none; }
.tools-table tr:hover td { background: var(--bg-card); }
.tools-table .tool-name { font-family: 'JetBrains Mono', monospace; color: var(--purple); font-size: 13px; }
.tools-table .tool-desc { color: var(--text-secondary); }
.tools-table .badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 500; }
.badge-casino { background: rgba(168,85,247,0.15); color: var(--purple); }
.badge-trading { background: rgba(34,197,94,0.15); color: #22C55E; }
.badge-wallet { background: rgba(96,165,250,0.15); color: #60A5FA; }
.badge-domains { background: rgba(52,211,153,0.15); color: #34D399; }

/* CTA SECTION */
.cta-section { text-align: center; padding: 100px 0; }
.cta-box { background: linear-gradient(135deg, rgba(168,85,247,0.08) 0%, rgba(124,58,237,0.05) 100%); border: 1px solid rgba(168,85,247,0.2); border-radius: 24px; padding: 80px 40px; position: relative; overflow: hidden; }
.cta-box::before { content: ''; position: absolute; top: -50%; left: 50%; transform: translateX(-50%); width: 600px; height: 400px; background: radial-gradient(ellipse, rgba(168,85,247,0.1) 0%, transparent 70%); filter: blur(40px); pointer-events: none; }
.cta-box h2 { font-size: clamp(2rem, 4vw, 3rem); font-weight: 800; letter-spacing: -0.02em; margin-bottom: 20px; position: relative; }
.cta-box p { color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 40px; position: relative; }

/* FOOTER */
footer { padding: 60px 0 40px; border-top: 1px solid var(--border); }
.footer-top { display: grid; grid-template-columns: 1fr 2fr; gap: 60px; margin-bottom: 60px; }
.footer-brand p { color: var(--text-secondary); font-size: 14px; margin-top: 16px; max-width: 260px; line-height: 1.6; }
.footer-columns { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
.footer-col h4 { font-size: 13px; font-weight: 600; margin-bottom: 16px; }
.footer-col ul { list-style: none; display: flex; flex-direction: column; gap: 10px; }
.footer-col a { color: var(--text-muted); text-decoration: none; font-size: 13px; transition: color 0.2s; }
.footer-col a:hover { color: var(--text); }
.footer-bottom { display: flex; align-items: center; justify-content: space-between; padding-top: 24px; border-top: 1px solid var(--border); }
.footer-bottom p { color: var(--text-muted); font-size: 13px; }
.footer-social { display: flex; gap: 24px; }
.footer-social a { color: var(--text-muted); text-decoration: none; font-size: 13px; transition: color 0.2s; }
.footer-social a:hover { color: var(--text); }
@media (max-width: 768px) { .footer-top { grid-template-columns: 1fr; gap: 40px; } .footer-columns { grid-template-columns: repeat(2, 1fr); } .footer-bottom { flex-direction: column; gap: 16px; text-align: center; } }

/* RELATED LINKS */
.related-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
@media (max-width: 768px) { .related-grid { grid-template-columns: 1fr; } }
.related-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 20px 24px; text-decoration: none; color: var(--text); display: block; transition: all 0.2s; }
.related-card:hover { border-color: var(--border-hover); background: var(--bg-card-hover); transform: translateY(-2px); }
.related-card .label { font-size: 11px; color: var(--purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 6px; }
.related-card .title { font-size: 14px; font-weight: 600; }
.related-card .desc { font-size: 13px; color: var(--text-muted); margin-top: 4px; }
</style>
</head>
<body>

<nav id="navbar">
  <div class="nav-inner">
    <a href="/" class="nav-logo">
      <div class="nav-logo-icon">&#9830;</div>
      Purple Flea
    </a>
    <ul class="nav-links">
      <li><a href="/docs">Docs</a></li>
      <li><a href="/for-agents">For Agents</a></li>
      <li><a href="/integrations">Integrations</a></li>
      <li><a href="/pricing">Pricing</a></li>
      <li><a href="https://wallet.purpleflea.com" target="_blank" class="nav-cta">Get Started ‚Üí</a></li>
    </ul>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg">
    <div class="hero-gradient-1"></div>
    <div class="hero-grid"></div>
  </div>
  <div class="hero-content">
    <div class="hero-badge">
      <div class="hero-badge-dot"></div>
      Stanford DSPy Integration
    </div>
    <h1>Purple Flea for<br><span class="gradient">DSPy Programs</span></h1>
    <p class="hero-desc">
      Integrate Purple Flea APIs into <code style="background:rgba(168,85,247,0.1);padding:2px 8px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:0.9em">dspy.ReAct</code> agents and optimizable modules.
      Give your DSPy programs a crypto wallet, 275 perpetual markets, provably fair casino,
      and domain registration ‚Äî then let MIPRO optimize the prompts automatically.
    </p>
    <div class="hero-actions">
      <a href="https://pypi.org/project/purpleflea-dspy/" class="btn-primary" target="_blank">pip install ‚Üí</a>
      <a href="/docs" class="btn-secondary">Read the Docs</a>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- INTRO + INSTALL -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">What is DSPy</div>
      <h2 class="section-title">Algorithmically optimized<br>LLM pipelines.</h2>
      <p class="section-desc">
        DSPy is Stanford's framework for building LLM applications that can be optimized ‚Äî not just prompted. Instead of writing brittle prompt strings by hand, you write DSPy programs using Signatures and Modules, then use DSPy's optimizers (like MIPRO or BootstrapFewShot) to automatically find the best prompts for your use case.
      </p>
      <p style="color:var(--text-secondary);font-size:1rem;line-height:1.7;max-width:700px;margin-bottom:60px;">
        Purple Flea provides <code style="font-family:'JetBrains Mono',monospace;color:var(--purple)">dspy.Tool</code>-compatible wrappers for every Purple Flea API endpoint. This means your DSPy <code style="font-family:'JetBrains Mono',monospace">ReAct</code> agents can call real financial tools ‚Äî checking wallet balances, opening leveraged positions, placing provably fair bets, registering domains ‚Äî while the rest of your program remains fully optimizable. The tools plug into DSPy's reasoning loop without breaking the optimizer's ability to improve surrounding prompts and few-shot examples.
      </p>
    </div>

    <div class="reveal reveal-delay-1">
      <div class="install-banner">
        <span class="pip">$</span>
        <span class="pkg">pip install purpleflea-dspy</span>
        <button class="copy-btn" onclick="navigator.clipboard.writeText('pip install purpleflea-dspy').then(()=>{this.textContent='Copied!';setTimeout(()=>this.textContent='Copy',1500)})">Copy</button>
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- REACT AGENT -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">ReAct Pattern</div>
      <h2 class="section-title">dspy.ReAct with<br>Purple Flea tools.</h2>
      <p class="section-desc">
        DSPy's <code style="font-family:'JetBrains Mono',monospace;color:var(--purple)">ReAct</code> module implements the Reason + Act loop natively. Pass Purple Flea tools to the constructor and your agent can reason about financial actions and execute them.
      </p>
    </div>
    <div class="reveal reveal-delay-1">
      <div class="code-block">
        <div class="code-header">
          <div class="code-dot red"></div>
          <div class="code-dot yellow"></div>
          <div class="code-dot green"></div>
          <span class="code-filename">react_agent.py</span>
        </div>
<span class="kw">import</span> dspy
<span class="kw">from</span> purpleflea_dspy <span class="kw">import</span> wallet_balance, open_trade, flip_coin

<span class="cm"># Configure DSPy LM backend</span>
dspy.configure(lm=dspy.LM(<span class="st">"openai/gpt-4o"</span>))

<span class="cm"># Create a ReAct agent with Purple Flea tools</span>
react = dspy.ReAct(
    <span class="st">"Given a portfolio goal, take appropriate financial actions"</span>,
    tools=[wallet_balance, open_trade, flip_coin]
)

<span class="cm"># The agent reasons step by step before each tool call</span>
result = react(goal=<span class="st">"Check ETH balance and invest 10% in BTC-PERP long"</span>)
<span class="fn">print</span>(result.answer)
<span class="cm"># "ETH balance: 3.5 ETH. Invested 0.35 ETH in BTC-PERP long at 5x leverage."</span>
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- SIGNATURES -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">DSPy Signatures</div>
      <h2 class="section-title">Typed financial task<br>signatures.</h2>
      <p class="section-desc">
        DSPy Signatures define the input/output contract for a module. Purple Flea trading decisions are a natural fit ‚Äî structured inputs like portfolio state and market data map cleanly to structured trade action outputs.
      </p>
    </div>
    <div class="reveal reveal-delay-1">
      <div class="code-block">
        <div class="code-header">
          <div class="code-dot red"></div>
          <div class="code-dot yellow"></div>
          <div class="code-dot green"></div>
          <span class="code-filename">trading_signature.py</span>
        </div>
<span class="kw">import</span> dspy
<span class="kw">from</span> purpleflea_dspy <span class="kw">import</span> open_trade, get_price

<span class="kw">class</span> <span class="cls">TradingSignature</span>(dspy.Signature):
    <span class="st">"""Autonomous crypto trading decision"""</span>
    portfolio_state: <span class="cls">str</span> = dspy.InputField()
    market_data: <span class="cls">str</span> = dspy.InputField()
    action: <span class="cls">str</span> = dspy.OutputField(desc=<span class="st">"trade to execute or 'hold'"</span>)
    reasoning: <span class="cls">str</span> = dspy.OutputField()

<span class="kw">class</span> <span class="cls">TradingModule</span>(dspy.Module):
    <span class="kw">def</span> <span class="fn">__init__</span>(self):
        self.decide = dspy.Predict(TradingSignature)

    <span class="kw">def</span> <span class="fn">forward</span>(self, portfolio_state, market_data):
        <span class="cm"># DSPy decides what action to take</span>
        decision = self.decide(
            portfolio_state=portfolio_state,
            market_data=market_data
        )
        <span class="cm"># Execute the action via Purple Flea if not 'hold'</span>
        <span class="kw">if</span> decision.action != <span class="st">"hold"</span>:
            result = open_trade(action=decision.action)
            <span class="kw">return</span> dspy.Prediction(action=decision.action,
                                       reasoning=decision.reasoning,
                                       result=result)
        <span class="kw">return</span> dspy.Prediction(action=<span class="st">"hold"</span>, reasoning=decision.reasoning)
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- MIPRO OPTIMIZATION -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">MIPRO Optimizer</div>
      <h2 class="section-title">Optimize your trading module<br>with historical data.</h2>
      <p class="section-desc">
        DSPy's MIPRO optimizer can automatically find better prompts and few-shot examples for your Purple Flea trading module. Feed it historical trade data ‚Äî inputs, decisions, and outcomes ‚Äî and MIPRO will optimize the module to make more profitable decisions.
      </p>
    </div>
    <div class="reveal reveal-delay-1">
      <div class="code-block">
        <div class="code-header">
          <div class="code-dot red"></div>
          <div class="code-dot yellow"></div>
          <div class="code-dot green"></div>
          <span class="code-filename">optimize.py</span>
        </div>
<span class="kw">import</span> dspy
<span class="kw">from</span> dspy.teleprompt <span class="kw">import</span> MIPROv2

<span class="cm"># Build training set from historical trade data</span>
trainset = [
    dspy.Example(
        portfolio_state=<span class="st">"2.1 ETH, 0 open positions"</span>,
        market_data=<span class="st">"BTC +3.2% 24h, ETH +1.8% 24h, funding rate +0.01%"</span>,
        action=<span class="st">"open BTC-PERP long 0.2 ETH 5x"</span>,
        reasoning=<span class="st">"Bullish momentum, positive funding not extreme"</span>
    ).with_inputs(<span class="st">"portfolio_state"</span>, <span class="st">"market_data"</span>)
    <span class="cm"># ... more historical examples</span>
]

<span class="kw">def</span> <span class="fn">profitability_metric</span>(example, prediction, trace=<span class="kw">None</span>):
    <span class="cm"># Score predictions by simulated P&amp;L on historical outcomes</span>
    <span class="kw">return</span> evaluate_trade_outcome(example, prediction.action)

<span class="cm"># MIPRO automatically optimizes prompts for your trading module</span>
optimizer = MIPROv2(metric=profitability_metric, num_candidates=<span class="num">10</span>)
trading_module = TradingModule()
optimized = optimizer.compile(trading_module, trainset=trainset)

<span class="cm"># Save the optimized program</span>
optimized.save(<span class="st">"optimized_trader.json"</span>)
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- ASSERTIONS -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">Risk Guardrails</div>
      <h2 class="section-title">DSPy assertions for<br>financial safety.</h2>
      <p class="section-desc">
        DSPy's assertion framework lets you enforce constraints on your program's outputs. For financial agents, this is essential: use <code style="font-family:'JetBrains Mono',monospace;color:var(--purple)">dspy.Assert</code> to enforce position sizing limits, maximum bet sizes, and drawdown controls ‚Äî DSPy will retry the prediction if the assertion fails.
      </p>
    </div>
    <div class="reveal reveal-delay-1">
      <div class="code-block">
        <div class="code-header">
          <div class="code-dot red"></div>
          <div class="code-dot yellow"></div>
          <div class="code-dot green"></div>
          <span class="code-filename">guardrails.py</span>
        </div>
<span class="kw">import</span> dspy
<span class="kw">from</span> purpleflea_dspy <span class="kw">import</span> wallet_balance, flip_coin, open_trade

<span class="kw">class</span> <span class="cls">SafeGamblingModule</span>(dspy.Module):
    <span class="kw">def</span> <span class="fn">__init__</span>(self):
        self.decide_bet = dspy.Predict(<span class="st">"bankroll: str, target_multiplier: float -> bet_size: float, side: str"</span>)

    <span class="kw">def</span> <span class="fn">forward</span>(self, bankroll_eth, target_multiplier):
        bankroll = <span class="cls">float</span>(bankroll_eth)
        decision = self.decide_bet(
            bankroll=<span class="cls">str</span>(bankroll),
            target_multiplier=target_multiplier
        )
        bet_size = decision.bet_size

        <span class="cm"># Hard assertion: never bet more than 2% of bankroll</span>
        <span class="cm"># DSPy will retry the prediction if this fails</span>
        dspy.Assert(
            bet_size &lt; <span class="num">0.02</span> * bankroll,
            <span class="st">"Never bet more than 2% of bankroll"</span>
        )

        <span class="cm"># Soft suggestion: prefer bets under 1%</span>
        dspy.Suggest(
            bet_size &lt; <span class="num">0.01</span> * bankroll,
            <span class="st">"Optimal Kelly sizing suggests under 1% per bet"</span>
        )

        result = flip_coin(bet_eth=bet_size, side=decision.side)
        <span class="kw">return</span> dspy.Prediction(result=result, bet_size=bet_size)

<span class="cm"># Risk guardrails for trading positions</span>
dspy.Assert(
    leverage &lt;= <span class="num">10</span>,
    <span class="st">"Maximum leverage is 10x for risk management"</span>
)
dspy.Assert(
    position_size_eth &lt; <span class="num">0.05</span> * portfolio_eth,
    <span class="st">"No single position over 5% of portfolio"</span>
)
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- FEATURES -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">Features</div>
      <h2 class="section-title">Built for optimizable programs.</h2>
    </div>
    <div class="grid-3">
      <div class="card reveal reveal-delay-1">
        <div class="card-icon purple">üî¨</div>
        <h3>Optimizer compatible</h3>
        <p>Purple Flea tools are transparent to DSPy's optimizers. MIPRO and BootstrapFewShot can freely optimize the prompts and examples surrounding tool calls.</p>
      </div>
      <div class="card reveal reveal-delay-2">
        <div class="card-icon blue">üõ°Ô∏è</div>
        <h3>Assertion support</h3>
        <p>Use <code style="font-family:'JetBrains Mono',monospace">dspy.Assert</code> and <code style="font-family:'JetBrains Mono',monospace">dspy.Suggest</code> to enforce position limits, bet caps, and drawdown controls directly in your module.</p>
      </div>
      <div class="card reveal reveal-delay-3">
        <div class="card-icon green">üß©</div>
        <h3>Modular composition</h3>
        <p>Combine Purple Flea tools with other DSPy modules ‚Äî retrieval, classification, summarization ‚Äî in arbitrarily deep program graphs.</p>
      </div>
      <div class="card reveal reveal-delay-1">
        <div class="card-icon orange">üåê</div>
        <h3>Any LM backend</h3>
        <p>Works with OpenAI, Anthropic, Google, Mistral, and any local model via DSPy's <code style="font-family:'JetBrains Mono',monospace">dspy.LM</code> interface. No model lock-in.</p>
      </div>
      <div class="card reveal reveal-delay-2">
        <div class="card-icon purple">üìä</div>
        <h3>275 perpetual markets</h3>
        <p>Access all Hyperliquid perp markets from your DSPy programs. Up to 50x leverage, no KYC, available to any model in your pipeline.</p>
      </div>
      <div class="card reveal reveal-delay-3">
        <div class="card-icon blue">üí∏</div>
        <h3>Referral commissions</h3>
        <p>Every Purple Flea API call your DSPy program makes earns you a commission ‚Äî 20% on trading fees, 10% on casino, 15% on domains.</p>
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<!-- RELATED -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">Also available</div>
      <h2 class="section-title">More integrations.</h2>
    </div>
    <div class="related-grid reveal reveal-delay-1">
      <a href="/for-langchain/" class="related-card">
        <div class="label">LangChain</div>
        <div class="title">Purple Flea for LangChain</div>
        <div class="desc">BaseTool wrappers for LangChain agents</div>
      </a>
      <a href="/python-sdk/" class="related-card">
        <div class="label">Python SDK</div>
        <div class="title">Python SDK</div>
        <div class="desc">Direct API access without a framework</div>
      </a>
      <a href="/trading-api/" class="related-card">
        <div class="label">API Docs</div>
        <div class="title">Trading API</div>
        <div class="desc">275 perpetual markets, REST + WebSocket</div>
      </a>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="container">
    <div class="cta-box reveal">
      <h2>Build DSPy programs with<br><span style="color:var(--purple)">real financial capabilities.</span></h2>
      <p>Free to start. Optimizer-compatible. Earn commissions on every API call your program makes.</p>
      <div class="hero-actions">
        <a href="https://wallet.purpleflea.com" class="btn-primary" target="_blank">Register your agent ‚Üí</a>
        <a href="/docs" class="btn-secondary">Read the docs</a>
      </div>
    </div>
  </div>
</section>

<hr class="section-divider">

<footer>
  <div class="container">
    <div class="footer-top">
      <div class="footer-brand">
        <a href="/" class="nav-logo">
          <div class="nav-logo-icon">&#9830;</div>
          Purple Flea
        </a>
        <p>AI-first infrastructure for autonomous agents. Built for machines, verified by math.</p>
      </div>
      <div class="footer-columns">
        <div class="footer-col">
          <h4>Products</h4>
          <ul>
            <li><a href="https://casino.purpleflea.com" target="_blank">Casino</a></li>
            <li><a href="https://trading.purpleflea.com" target="_blank">Trading</a></li>
            <li><a href="https://wallet.purpleflea.com" target="_blank">Wallet</a></li>
            <li><a href="https://domains.purpleflea.com" target="_blank">Domains</a></li>
            <li><a href="/crypto-wallet-api/">Wallet API Docs</a></li>
            <li><a href="/trading-api/">Trading API Docs</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Developers</h4>
          <ul>
            <li><a href="/docs">Docs</a></li>
            <li><a href="/for-agents">For Agents</a></li>
            <li><a href="/for-langchain/">LangChain</a></li>
            <li><a href="/for-crewai/">CrewAI</a></li>
            <li><a href="/for-smolagents/">smolagents</a></li>
            <li><a href="/for-dspy/">DSPy</a></li>
            <li><a href="/quick-start">Quick Start</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Company</h4>
          <ul>
            <li><a href="/pricing">Pricing</a></li>
            <li><a href="/stats">Stats</a></li>
            <li><a href="/changelog">Changelog</a></li>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="mailto:hello@purpleflea.com">Contact</a></li>
            <li><a href="https://github.com/Purple-flea" target="_blank">GitHub</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Purple Flea. All rights reserved.</p>
      <div class="footer-social">
        <a href="https://github.com/Purple-flea" target="_blank">GitHub</a>
        <a href="https://x.com/purpleflea" target="_blank">X / Twitter</a>
      </div>
    </div>
  </div>
</footer>

<script>
const navbar = document.getElementById('navbar');
window.addEventListener('scroll', () => { navbar.classList.toggle('scrolled', window.scrollY > 50); });
const revealEls = document.querySelectorAll('.reveal');
const revealObs = new IntersectionObserver((entries) => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); revealObs.unobserve(e.target); } });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });
revealEls.forEach(el => revealObs.observe(el));
</script>
</body>
</html>
