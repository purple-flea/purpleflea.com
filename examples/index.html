<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Flea ‚Äî Code Examples</title>
<meta name="description" content="Copy-paste code examples for the Purple Flea API. Casino bets, trading positions, HD wallet creation, domain registration, and referral propagation in Python, JavaScript, and curl.">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://purpleflea.com/examples">
<meta property="og:title" content="Purple Flea ‚Äî Code Examples">
<meta property="og:description" content="Ready-to-run code for every Purple Flea API. Python, JS, curl. Casino, Trading, Wallet, Domains.">
<meta property="og:url" content="https://purpleflea.com/examples">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üü£</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --purple: #A855F7;
  --purple-dim: #7C3AED;
  --purple-subtle: rgba(168,85,247,0.08);
  --bg: #09090B;
  --bg-card: rgba(255,255,255,0.03);
  --bg-card-hover: rgba(255,255,255,0.055);
  --border: rgba(255,255,255,0.06);
  --border-purple: rgba(168,85,247,0.3);
  --text: #FAFAFA;
  --text-secondary: #A1A1AA;
  --text-muted: #71717A;
  --green: #22C55E;
  --amber: #F59E0B;
  --blue: #60A5FA;
  --red: #F87171;
  --radius: 14px;
  --mono: 'JetBrains Mono', monospace;
}
html { scroll-behavior: smooth; }
body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; -webkit-font-smoothing: antialiased; }
body::before { content: ''; position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.02; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); background-size: 180px; }
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-thumb { background: rgba(168,85,247,0.25); border-radius: 3px; }
nav { position: sticky; top: 0; z-index: 100; background: rgba(9,9,11,0.92); backdrop-filter: blur(16px); border-bottom: 1px solid var(--border); padding: 14px 0; }
.nav-inner { max-width: 1100px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; justify-content: space-between; }
.nav-logo { text-decoration: none; color: var(--text); font-weight: 700; font-size: 0.95rem; display: flex; align-items: center; gap: 8px; }
.nav-logo-icon { color: var(--purple); }
.nav-links { display: flex; gap: 20px; list-style: none; }
.nav-links a { text-decoration: none; color: var(--text-secondary); font-size: 0.825rem; }
.nav-links a:hover { color: var(--text); }
.container { max-width: 900px; margin: 0 auto; padding: 0 24px; }

.hero { padding: 56px 0 40px; border-bottom: 1px solid var(--border); }
.hero-tag { display: inline-flex; align-items: center; gap: 6px; background: var(--purple-subtle); border: 1px solid var(--border-purple); color: var(--purple); font-size: 0.72rem; font-weight: 600; padding: 4px 12px; border-radius: 20px; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 0.08em; }
h1 { font-size: clamp(1.8rem, 4vw, 2.6rem); font-weight: 800; letter-spacing: -0.04em; line-height: 1.1; margin-bottom: 14px; }
.hero p { color: var(--text-secondary); font-size: 1rem; max-width: 600px; }

/* Filter tabs */
.filters { display: flex; gap: 8px; flex-wrap: wrap; padding: 24px 0; border-bottom: 1px solid var(--border); margin-bottom: 32px; }
.filter-btn { background: var(--bg-card); border: 1px solid var(--border); color: var(--text-secondary); font-size: 0.78rem; font-weight: 600; padding: 5px 14px; border-radius: 8px; cursor: pointer; font-family: 'Inter', sans-serif; transition: all 0.15s; }
.filter-btn:hover { border-color: var(--border-purple); color: var(--text); }
.filter-btn.active { background: var(--purple-subtle); border-color: var(--border-purple); color: var(--purple); }

/* Examples */
.examples { display: flex; flex-direction: column; gap: 32px; padding-bottom: 80px; }

.example {
  border: 1px solid var(--border); border-radius: var(--radius);
  overflow: hidden; transition: border-color 0.2s;
}
.example:hover { border-color: var(--border-purple); }

.example-header {
  padding: 18px 22px; background: rgba(255,255,255,0.02);
  border-bottom: 1px solid var(--border);
  display: flex; align-items: flex-start; gap: 14px;
}
.example-icon { font-size: 1.4rem; flex-shrink: 0; margin-top: 2px; }
.example-meta { flex: 1; }
.example-title { font-size: 1rem; font-weight: 700; margin-bottom: 4px; }
.example-desc { font-size: 0.84rem; color: var(--text-secondary); line-height: 1.5; }
.example-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 10px; }
.tag { display: inline-block; font-size: 0.65rem; font-weight: 600; padding: 2px 8px; border-radius: 4px; letter-spacing: 0.04em; }
.tag-casino { background: rgba(239,68,68,0.1); color: #F87171; }
.tag-trading { background: rgba(34,197,94,0.1); color: var(--green); }
.tag-wallet { background: rgba(96,165,250,0.1); color: var(--blue); }
.tag-domains { background: var(--purple-subtle); color: var(--purple); }
.tag-python { background: rgba(245,158,11,0.1); color: var(--amber); }
.tag-js { background: rgba(250,204,21,0.1); color: #FDE047; }
.tag-curl { background: rgba(255,255,255,0.06); color: var(--text-muted); }
.tag-langchain { background: rgba(96,165,250,0.08); color: var(--blue); }
.tag-crewai { background: rgba(168,85,247,0.1); color: var(--purple); }

/* Code block inside example */
.example-code {
  position: relative;
  background: rgba(0,0,0,0.45); padding: 20px 22px;
}
.example-code pre {
  font-family: var(--mono); font-size: 0.8rem; color: #D4D4D8;
  white-space: pre; overflow-x: auto; line-height: 1.65;
  padding-bottom: 2px;
}
.example-code .kw { color: #C084FC; }
.example-code .str { color: #86EFAC; }
.example-code .cm { color: var(--text-muted); }
.example-code .num { color: #FCA5A5; }
.example-code .fn { color: #67E8F9; }
.example-code .op { color: #A1A1AA; }
.copy-btn { position: absolute; top: 12px; right: 14px; background: rgba(168,85,247,0.15); border: 1px solid var(--border-purple); color: var(--purple); font-size: 0.68rem; font-weight: 600; padding: 3px 10px; border-radius: 6px; cursor: pointer; font-family: 'Inter', sans-serif; }
.copy-btn:hover { background: rgba(168,85,247,0.28); }

footer { border-top: 1px solid var(--border); padding: 28px 0; text-align: center; color: var(--text-muted); font-size: 0.8rem; }
footer a { color: var(--purple); text-decoration: none; }
</style>
</head>
<body>

<nav>
  <div class="nav-inner">
    <a href="/" class="nav-logo"><span class="nav-logo-icon">&#9830;</span> Purple Flea</a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/docs">Docs</a></li>
      <li><a href="/for-agents">For Agents</a></li>
      <li><a href="https://github.com/purple-flea" target="_blank">GitHub</a></li>
    </ul>
  </div>
</nav>

<main>
  <div class="container">

    <div class="hero">
      <div class="hero-tag">Code Examples</div>
      <h1>Ready-to-run examples</h1>
      <p>Copy-paste code for every Purple Flea API. Python, JavaScript, curl. Replace <code style="font-family:var(--mono);color:var(--purple);font-size:0.85em;">sk_live_...</code> with your API key from any register endpoint.</p>
    </div>

    <div class="filters">
      <button class="filter-btn active" onclick="filter('all', this)">All</button>
      <button class="filter-btn" onclick="filter('casino', this)">Casino</button>
      <button class="filter-btn" onclick="filter('trading', this)">Trading</button>
      <button class="filter-btn" onclick="filter('wallet', this)">Wallet</button>
      <button class="filter-btn" onclick="filter('domains', this)">Domains</button>
      <button class="filter-btn" onclick="filter('python', this)">Python</button>
      <button class="filter-btn" onclick="filter('curl', this)">curl</button>
    </div>

    <div class="examples" id="examplesContainer">

      <!-- Example 1: Casino coin flip -->
      <div class="example" data-tags="casino curl">
        <div class="example-header">
          <div class="example-icon">üé≤</div>
          <div class="example-meta">
            <div class="example-title">Coin flip bet</div>
            <div class="example-desc">Register a casino account and place your first provably fair coin flip bet. The response includes a cryptographic proof you can verify.</div>
            <div class="example-tags">
              <span class="tag tag-casino">Casino</span>
              <span class="tag tag-curl">curl</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex1">
          <button class="copy-btn" onclick="copyEx('ex1',this)">Copy</button>
<pre><span class="cm"># 1. Register (one-time)</span>
curl -X POST https://api.purpleflea.com/api/v1/register \
  -H "Content-Type: application/json" \
  -d '{"username":"myagent","email":"agent@example.com"}'
<span class="cm"># ‚Üí {"api_key":"sk_live_...","referral_code":"REF_...","deposit_address":"0x..."}</span>

<span class="cm"># 2. Flip a coin for $5</span>
curl -X POST https://api.purpleflea.com/api/v1/flip \
  -H "Authorization: Bearer sk_live_..." \
  -H "Content-Type: application/json" \
  -d '{"amount":5.00,"side":"heads"}'
<span class="cm"># ‚Üí {"result":"heads","won":true,"payout":9.95,"proof":"sha256:..."}</span></pre>
        </div>
      </div>

      <!-- Example 2: Casino with Python -->
      <div class="example" data-tags="casino python">
        <div class="example-header">
          <div class="example-icon">üé≤</div>
          <div class="example-meta">
            <div class="example-title">Casino loop ‚Äî martingale strategy</div>
            <div class="example-desc">Python agent implementing a martingale betting strategy on the casino API. Doubles bet on loss, resets on win.</div>
            <div class="example-tags">
              <span class="tag tag-casino">Casino</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex2">
          <button class="copy-btn" onclick="copyEx('ex2',this)">Copy</button>
<pre><span class="kw">import</span> requests

API <span class="op">=</span> <span class="str">"https://api.purpleflea.com/api/v1"</span>
KEY <span class="op">=</span> <span class="str">"sk_live_..."</span>
H <span class="op">=</span> {<span class="str">"Authorization"</span>: <span class="str">f"Bearer {KEY}"</span>, <span class="str">"Content-Type"</span>: <span class="str">"application/json"</span>}

bet <span class="op">=</span> <span class="num">1.00</span>
wins <span class="op">=</span> losses <span class="op">=</span> <span class="num">0</span>

<span class="kw">for</span> _ <span class="kw">in</span> <span class="fn">range</span>(<span class="num">10</span>):
    r <span class="op">=</span> requests.<span class="fn">post</span>(<span class="str">f"{API}/flip"</span>, json<span class="op">=</span>{<span class="str">"amount"</span>: bet, <span class="str">"side"</span>: <span class="str">"heads"</span>}, headers<span class="op">=</span>H)
    result <span class="op">=</span> r.<span class="fn">json</span>()
    <span class="kw">if</span> result[<span class="str">"won"</span>]:
        <span class="fn">print</span>(<span class="str">f"Won ${result['payout']:.2f} (proof: {result['proof'][:12]}...)"</span>)
        wins <span class="op">+=</span> <span class="num">1</span>
        bet <span class="op">=</span> <span class="num">1.00</span>  <span class="cm"># reset</span>
    <span class="kw">else</span>:
        losses <span class="op">+=</span> <span class="num">1</span>
        bet <span class="op">*=</span> <span class="num">2</span>  <span class="cm"># martingale double</span>

<span class="fn">print</span>(<span class="str">f"Result: {wins} wins, {losses} losses"</span>)</pre>
        </div>
      </div>

      <!-- Example 3: Trading open + stop loss -->
      <div class="example" data-tags="trading python">
        <div class="example-header">
          <div class="example-icon">üìà</div>
          <div class="example-meta">
            <div class="example-title">Open ETH long with stop loss</div>
            <div class="example-desc">Open a 5x leveraged ETH-PERP position and immediately set a 3% stop loss. Standard risk management pattern for trading agents.</div>
            <div class="example-tags">
              <span class="tag tag-trading">Trading</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex3">
          <button class="copy-btn" onclick="copyEx('ex3',this)">Copy</button>
<pre><span class="kw">import</span> requests

BASE <span class="op">=</span> <span class="str">"https://api.purpleflea.com/v1/trading"</span>
KEY <span class="op">=</span> <span class="str">"sk_live_..."</span>
H <span class="op">=</span> {<span class="str">"Authorization"</span>: <span class="str">f"Bearer {KEY}"</span>, <span class="str">"Content-Type"</span>: <span class="str">"application/json"</span>}

<span class="cm"># Open ETH long</span>
pos <span class="op">=</span> requests.<span class="fn">post</span>(<span class="str">f"{BASE}/open"</span>, headers<span class="op">=</span>H, json<span class="op">=</span>{
    <span class="str">"market"</span>: <span class="str">"ETH-PERP"</span>, <span class="str">"side"</span>: <span class="str">"long"</span>,
    <span class="str">"size"</span>: <span class="num">1000</span>, <span class="str">"leverage"</span>: <span class="num">5</span>
}).<span class="fn">json</span>()
<span class="fn">print</span>(<span class="str">f"Opened {pos['position_id']} @ {pos['entry_price']}"</span>)

<span class="cm"># Set 3% stop loss</span>
sl_price <span class="op">=</span> pos[<span class="str">"entry_price"</span>] <span class="op">*</span> <span class="num">0.97</span>
requests.<span class="fn">post</span>(<span class="str">f"{BASE}/stop-loss"</span>, headers<span class="op">=</span>H, json<span class="op">=</span>{
    <span class="str">"position_id"</span>: pos[<span class="str">"position_id"</span>], <span class="str">"price"</span>: sl_price
})
<span class="fn">print</span>(<span class="str">f"Stop loss set at ${sl_price:.2f}"</span>)</pre>
        </div>
      </div>

      <!-- Example 4: Trading - list markets + filter -->
      <div class="example" data-tags="trading python">
        <div class="example-header">
          <div class="example-icon">üìä</div>
          <div class="example-meta">
            <div class="example-title">Scan markets for high funding rates</div>
            <div class="example-desc">Fetch all 275+ markets and find those with unusually high funding rates ‚Äî a common signal for mean-reversion short trades.</div>
            <div class="example-tags">
              <span class="tag tag-trading">Trading</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex4">
          <button class="copy-btn" onclick="copyEx('ex4',this)">Copy</button>
<pre><span class="kw">import</span> requests

BASE <span class="op">=</span> <span class="str">"https://api.purpleflea.com/v1/trading"</span>
KEY <span class="op">=</span> <span class="str">"sk_live_..."</span>
H <span class="op">=</span> {<span class="str">"Authorization"</span>: <span class="str">f"Bearer {KEY}"</span>}

markets <span class="op">=</span> requests.<span class="fn">get</span>(<span class="str">f"{BASE}/markets"</span>, headers<span class="op">=</span>H).<span class="fn">json</span>()[<span class="str">"markets"</span>]

<span class="cm"># Find markets with funding rate > 0.05% (bullish, potential short)</span>
hot <span class="op">=</span> [m <span class="kw">for</span> m <span class="kw">in</span> markets <span class="kw">if</span> m[<span class="str">"funding_rate"</span>] <span class="op">&gt;</span> <span class="num">0.0005</span>]
hot.<span class="fn">sort</span>(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="str">"funding_rate"</span>], reverse<span class="op">=</span><span class="kw">True</span>)

<span class="fn">print</span>(<span class="str">f"Found {len(hot)} high-funding markets:"</span>)
<span class="kw">for</span> m <span class="kw">in</span> hot[:<span class="num">5</span>]:
    <span class="fn">print</span>(<span class="str">f"  {m['id']:15s} funding={m['funding_rate']:.4%} price=${m['price']:,.2f}"</span>)</pre>
        </div>
      </div>

      <!-- Example 5: Create HD wallet -->
      <div class="example" data-tags="wallet curl">
        <div class="example-header">
          <div class="example-icon">üíé</div>
          <div class="example-meta">
            <div class="example-title">Create a multi-chain HD wallet</div>
            <div class="example-desc">Register and generate a BIP-39 HD wallet. The mnemonic is returned once only ‚Äî store it securely. Addresses are derived for all 8 supported chains.</div>
            <div class="example-tags">
              <span class="tag tag-wallet">Wallet</span>
              <span class="tag tag-curl">curl</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex5">
          <button class="copy-btn" onclick="copyEx('ex5',this)">Copy</button>
<pre><span class="cm"># Register</span>
curl -X POST https://wallet.purpleflea.com/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{"referral_code":"REF_xxx"}'
<span class="cm"># ‚Üí {"api_key":"sk_live_...","referral_code":"REF_yyy"}</span>

<span class="cm"># Create wallet ‚Äî SAVE THE MNEMONIC, it is shown only once</span>
curl -X POST https://wallet.purpleflea.com/v1/wallet/create \
  -H "Authorization: Bearer sk_live_..."
<span class="cm"># ‚Üí {
#   "mnemonic": "word1 word2 word3 word4 word5 word6 word7 word8 word9 word10 word11 word12",
#   "addresses": {
#     "ethereum":  "0xAbCd...",
#     "bitcoin":   "bc1q...",
#     "solana":    "7xKXt...",
#     "tron":      "TAbCd...",
#     "polygon":   "0xAbCd...",
#     "arbitrum":  "0xAbCd...",
#     "base":      "0xAbCd...",
#     "bnb":       "0xAbCd..."
#   }
# }</span></pre>
        </div>
      </div>

      <!-- Example 6: Cross-chain swap -->
      <div class="example" data-tags="wallet python">
        <div class="example-header">
          <div class="example-icon">üîÑ</div>
          <div class="example-meta">
            <div class="example-title">Cross-chain swap: ETH ‚Üí SOL</div>
            <div class="example-desc">Get a quote for swapping ETH on Ethereum to SOL on Solana, then execute it via the Wagyu aggregator. Best rate across 1inch, Jupiter, Li.Fi, and more.</div>
            <div class="example-tags">
              <span class="tag tag-wallet">Wallet</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex6">
          <button class="copy-btn" onclick="copyEx('ex6',this)">Copy</button>
<pre><span class="kw">import</span> requests

BASE <span class="op">=</span> <span class="str">"https://wallet.purpleflea.com/v1"</span>
KEY <span class="op">=</span> <span class="str">"sk_live_..."</span>
H <span class="op">=</span> {<span class="str">"Authorization"</span>: <span class="str">f"Bearer {KEY}"</span>}

<span class="cm"># Get swap quote</span>
quote <span class="op">=</span> requests.<span class="fn">get</span>(<span class="str">f"{BASE}/wallet/swap/quote"</span>, headers<span class="op">=</span>H, params<span class="op">=</span>{
    <span class="str">"from_chain"</span>: <span class="str">"ethereum"</span>, <span class="str">"to_chain"</span>: <span class="str">"solana"</span>,
    <span class="str">"from_token"</span>: <span class="str">"ETH"</span>, <span class="str">"to_token"</span>: <span class="str">"SOL"</span>,
    <span class="str">"amount"</span>: <span class="str">"0.1"</span>
}).<span class="fn">json</span>()
<span class="fn">print</span>(<span class="str">f"0.1 ETH ‚Üí {quote['to_amount']} SOL (fee: {quote['fee_pct']}%)"</span>)

<span class="cm"># Execute swap</span>
swap <span class="op">=</span> requests.<span class="fn">post</span>(<span class="str">f"{BASE}/wallet/swap"</span>, headers<span class="op">=</span>H, json<span class="op">=</span>{
    <span class="str">"from_chain"</span>: <span class="str">"ethereum"</span>, <span class="str">"to_chain"</span>: <span class="str">"solana"</span>,
    <span class="str">"from_token"</span>: <span class="str">"ETH"</span>, <span class="str">"to_token"</span>: <span class="str">"SOL"</span>,
    <span class="str">"amount"</span>: <span class="str">"0.1"</span>, <span class="str">"to_address"</span>: <span class="str">"7xKXt..."</span>
}).<span class="fn">json</span>()
<span class="fn">print</span>(<span class="str">f"Swap order: {swap['order_id']} ‚Äî status: {swap['status']}"</span>)</pre>
        </div>
      </div>

      <!-- Example 7: Domain squatting loop -->
      <div class="example" data-tags="domains python">
        <div class="example-header">
          <div class="example-icon">üåê</div>
          <div class="example-meta">
            <div class="example-title">Batch domain availability check</div>
            <div class="example-desc">Check availability of multiple domain names across .ai, .com, and .io in a single loop. Register the available ones automatically.</div>
            <div class="example-tags">
              <span class="tag tag-domains">Domains</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex7">
          <button class="copy-btn" onclick="copyEx('ex7',this)">Copy</button>
<pre><span class="kw">import</span> requests

BASE <span class="op">=</span> <span class="str">"https://domains.purpleflea.com/v1"</span>
KEY <span class="op">=</span> <span class="str">"sk_live_..."</span>
H <span class="op">=</span> {<span class="str">"Authorization"</span>: <span class="str">f"Bearer {KEY}"</span>, <span class="str">"Content-Type"</span>: <span class="str">"application/json"</span>}

NAMES <span class="op">=</span> [<span class="str">"claudeagent"</span>, <span class="str">"gpt5agent"</span>, <span class="str">"agentkit"</span>, <span class="str">"aioperator"</span>]
TLDS <span class="op">=</span> [<span class="str">".ai"</span>, <span class="str">".com"</span>, <span class="str">".io"</span>]

<span class="kw">for</span> name <span class="kw">in</span> NAMES:
    res <span class="op">=</span> requests.<span class="fn">post</span>(<span class="str">f"{BASE}/domains/search"</span>, headers<span class="op">=</span>H,
        json<span class="op">=</span>{<span class="str">"query"</span>: name, <span class="str">"tlds"</span>: TLDS}).<span class="fn">json</span>()
    <span class="kw">for</span> r <span class="kw">in</span> res[<span class="str">"results"</span>]:
        <span class="kw">if</span> r[<span class="str">"available"</span>]:
            <span class="fn">print</span>(<span class="str">f"AVAILABLE: {r['domain']} (${r['price_usd']}/yr) ‚Äî registering..."</span>)
            requests.<span class="fn">post</span>(<span class="str">f"{BASE}/domains/register"</span>, headers<span class="op">=</span>H,
                json<span class="op">=</span>{<span class="str">"domain"</span>: r[<span class="str">"domain"</span>], <span class="str">"years"</span>: <span class="num">1</span>, <span class="str">"auto_renew"</span>: <span class="kw">True</span>})
        <span class="kw">else</span>:
            <span class="fn">print</span>(<span class="str">f"taken:     {r['domain']}"</span>)</pre>
        </div>
      </div>

      <!-- Example 8: LangChain agent -->
      <div class="example" data-tags="trading casino langchain python">
        <div class="example-header">
          <div class="example-icon">ü¶ú</div>
          <div class="example-meta">
            <div class="example-title">LangChain agent with all Purple Flea tools</div>
            <div class="example-desc">Full LangChain OpenAI Tools agent with all 20 Purple Flea tools loaded. The agent can flip coins, open trades, create wallets, and register domains via natural language.</div>
            <div class="example-tags">
              <span class="tag tag-casino">Casino</span>
              <span class="tag tag-trading">Trading</span>
              <span class="tag tag-wallet">Wallet</span>
              <span class="tag tag-domains">Domains</span>
              <span class="tag tag-langchain">LangChain</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex8">
          <button class="copy-btn" onclick="copyEx('ex8',this)">Copy</button>
<pre><span class="cm"># pip install langchain-purpleflea langchain-openai</span>
<span class="kw">from</span> langchain_purpleflea <span class="kw">import</span> PurpleFleatoolkit
<span class="kw">from</span> langchain.agents <span class="kw">import</span> AgentExecutor, create_openai_tools_agent
<span class="kw">from</span> langchain_openai <span class="kw">import</span> ChatOpenAI
<span class="kw">from</span> langchain_core.prompts <span class="kw">import</span> ChatPromptTemplate, MessagesPlaceholder

toolkit <span class="op">=</span> <span class="fn">PurpleFleatoolkit</span>(
    api_key<span class="op">=</span><span class="str">"sk_live_..."</span>,
    referral_code<span class="op">=</span><span class="str">"REF_xxx"</span>  <span class="cm"># new agents registered via this agent earn you commissions</span>
)
tools <span class="op">=</span> toolkit.<span class="fn">get_tools</span>()  <span class="cm"># 20 tools</span>

llm <span class="op">=</span> <span class="fn">ChatOpenAI</span>(model<span class="op">=</span><span class="str">"gpt-4o"</span>, temperature<span class="op">=</span><span class="num">0</span>)
prompt <span class="op">=</span> <span class="fn">ChatPromptTemplate</span>.<span class="fn">from_messages</span>([
    (<span class="str">"system"</span>, <span class="str">"You are a financial AI agent. Use the provided tools to execute actions."</span>),
    (<span class="str">"human"</span>, <span class="str">"{input}"</span>),
    <span class="fn">MessagesPlaceholder</span>(variable_name<span class="op">=</span><span class="str">"agent_scratchpad"</span>),
])

agent <span class="op">=</span> <span class="fn">create_openai_tools_agent</span>(llm, tools, prompt)
executor <span class="op">=</span> <span class="fn">AgentExecutor</span>(agent<span class="op">=</span>agent, tools<span class="op">=</span>tools, verbose<span class="op">=</span><span class="kw">True</span>)

result <span class="op">=</span> executor.<span class="fn">invoke</span>({<span class="str">"input"</span>: <span class="str">"Open a $500 ETH long with 3x leverage and set a 5% stop loss"</span>})</pre>
        </div>
      </div>

      <!-- Example 9: Referral propagation -->
      <div class="example" data-tags="python trading casino wallet domains">
        <div class="example-header">
          <div class="example-icon">üîó</div>
          <div class="example-meta">
            <div class="example-title">Referral propagation ‚Äî register sub-agents with your code</div>
            <div class="example-desc">Orchestrator pattern: spawn sub-agents and register each one on all 4 Purple Flea services using your referral code. Each sub-agent earns you commissions forever.</div>
            <div class="example-tags">
              <span class="tag tag-casino">Casino</span>
              <span class="tag tag-trading">Trading</span>
              <span class="tag tag-wallet">Wallet</span>
              <span class="tag tag-domains">Domains</span>
              <span class="tag tag-python">Python</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex9">
          <button class="copy-btn" onclick="copyEx('ex9',this)">Copy</button>
<pre><span class="kw">import</span> requests, uuid

MY_REFERRAL <span class="op">=</span> <span class="str">"REF_xxx"</span>  <span class="cm"># your referral code ‚Äî earned from GET /referral/code</span>

APIS <span class="op">=</span> {
    <span class="str">"casino"</span>:  {<span class="str">"url"</span>: <span class="str">"https://api.purpleflea.com/api/v1/register"</span>},
    <span class="str">"trading"</span>: {<span class="str">"url"</span>: <span class="str">"https://api.purpleflea.com/v1/trading/register"</span>},
    <span class="str">"wallet"</span>:  {<span class="str">"url"</span>: <span class="str">"https://wallet.purpleflea.com/v1/auth/register"</span>},
    <span class="str">"domains"</span>: {<span class="str">"url"</span>: <span class="str">"https://domains.purpleflea.com/v1/register"</span>},
}

<span class="kw">def</span> <span class="fn">spawn_sub_agent</span>(name: str) <span class="op">-&gt;</span> dict:
    <span class="str">"""Register a new sub-agent on all 4 services using our referral code."""</span>
    credentials <span class="op">=</span> {}
    <span class="kw">for</span> product, cfg <span class="kw">in</span> APIS.<span class="fn">items</span>():
        r <span class="op">=</span> requests.<span class="fn">post</span>(cfg[<span class="str">"url"</span>], json<span class="op">=</span>{
            <span class="str">"username"</span>: <span class="str">f"{name}-{product}"</span>,
            <span class="str">"email"</span>: <span class="str">f"{name}@agents.local"</span>,
            <span class="str">"referral_code"</span>: MY_REFERRAL  <span class="cm"># ‚Üê this earns you commissions</span>
        })
        credentials[product] <span class="op">=</span> r.<span class="fn">json</span>().<span class="fn">get</span>(<span class="str">"api_key"</span>)
    <span class="fn">print</span>(<span class="str">f"Spawned {name} ‚Äî registered on all 4 products"</span>)
    <span class="kw">return</span> credentials

<span class="cm"># Spawn 3 task-specific sub-agents</span>
<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(<span class="num">3</span>):
    creds <span class="op">=</span> <span class="fn">spawn_sub_agent</span>(<span class="str">f"worker-{uuid.uuid4().hex[:6]}"</span>)</pre>
        </div>
      </div>

      <!-- Example 10: DNS setup -->
      <div class="example" data-tags="domains curl">
        <div class="example-header">
          <div class="example-icon">üîß</div>
          <div class="example-meta">
            <div class="example-title">Register domain + configure DNS</div>
            <div class="example-desc">Register a .ai domain and set up DNS records: A record pointing to a server IP, and a TXT record for domain verification.</div>
            <div class="example-tags">
              <span class="tag tag-domains">Domains</span>
              <span class="tag tag-curl">curl</span>
            </div>
          </div>
        </div>
        <div class="example-code" id="ex10">
          <button class="copy-btn" onclick="copyEx('ex10',this)">Copy</button>
<pre><span class="cm"># Register the domain</span>
curl -X POST https://domains.purpleflea.com/v1/domains/register \
  -H "Authorization: Bearer sk_live_..." \
  -H "Content-Type: application/json" \
  -d '{"domain":"myagent.ai","years":1,"auto_renew":true}'
<span class="cm"># ‚Üí {"domain":"myagent.ai","expiry":"2027-02-26","nameservers":["ns1.example.com"]}</span>

<span class="cm"># Add A record pointing to server</span>
curl -X POST https://domains.purpleflea.com/v1/domains/myagent.ai/records \
  -H "Authorization: Bearer sk_live_..." \
  -H "Content-Type: application/json" \
  -d '{"type":"A","name":"@","value":"1.2.3.4","ttl":3600}'

<span class="cm"># Add CNAME for www</span>
curl -X POST https://domains.purpleflea.com/v1/domains/myagent.ai/records \
  -H "Authorization: Bearer sk_live_..." \
  -H "Content-Type: application/json" \
  -d '{"type":"CNAME","name":"www","value":"myagent.ai","ttl":3600}'

<span class="cm"># Verify DNS records</span>
curl https://domains.purpleflea.com/v1/domains/myagent.ai/records \
  -H "Authorization: Bearer sk_live_..."</pre>
        </div>
      </div>

    </div>
  </div>
</main>

<footer>
  <a href="/">Purple Flea</a> &mdash;
  <a href="/docs">Docs</a> &mdash;
  <a href="/for-agents">For Agents</a> &mdash;
  <a href="/integrations">Integrations</a>
  <br><br>
  &copy; 2026 Purple Flea
</footer>

<script>
function copyEx(id, btn) {
  const el = document.getElementById(id).querySelector('pre');
  // Strip HTML tags to get plain text
  const text = el.innerText || el.textContent;
  navigator.clipboard.writeText(text.trim()).then(() => {
    btn.textContent = 'Copied!';
    setTimeout(() => btn.textContent = 'Copy', 2000);
  });
}

function filter(tag, btn) {
  // Update active button
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');

  const examples = document.querySelectorAll('.example');
  examples.forEach(ex => {
    const tags = ex.dataset.tags || '';
    if (tag === 'all' || tags.includes(tag)) {
      ex.style.display = '';
    } else {
      ex.style.display = 'none';
    }
  });
}
</script>

</body>
</html>
