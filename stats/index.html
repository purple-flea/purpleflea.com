<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Flea ‚Äî Live Agent Stats</title>
<meta name="description" content="Live statistics for Purple Flea: active AI agents, total bets, trades, swaps, and API calls across all products.">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://purpleflea.com/stats">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üü£</text></svg>">
<meta property="og:title" content="Purple Flea ‚Äî Live Agent Stats">
<meta property="og:description" content="Live stats: active agents, API calls, bets, trades, swaps across all Purple Flea products.">
<meta property="og:url" content="https://purpleflea.com/stats">
<meta property="og:type" content="website">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --purple: #A855F7;
  --purple-dim: #7C3AED;
  --purple-glow: rgba(168, 85, 247, 0.25);
  --bg: #09090B;
  --bg-card: rgba(255, 255, 255, 0.03);
  --bg-card-hover: rgba(255, 255, 255, 0.06);
  --border: rgba(255, 255, 255, 0.06);
  --border-purple: rgba(168, 85, 247, 0.3);
  --text: #FAFAFA;
  --text-secondary: #A1A1AA;
  --text-muted: #71717A;
  --green: #22C55E;
  --blue: #60A5FA;
  --amber: #F59E0B;
  --radius: 16px;
  --mono: 'JetBrains Mono', monospace;
}

html { scroll-behavior: smooth; }
body {
  font-family: 'Inter', -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
}

body::before {
  content: '';
  position: fixed; inset: 0; z-index: 9999;
  pointer-events: none; opacity: 0.02;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 180px;
}

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-thumb { background: rgba(168,85,247,0.25); border-radius: 3px; }

nav {
  position: sticky; top: 0; z-index: 100;
  background: rgba(9,9,11,0.9); backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border); padding: 14px 0;
}
.nav-inner {
  max-width: 1100px; margin: 0 auto; padding: 0 24px;
  display: flex; align-items: center; justify-content: space-between;
}
.nav-logo {
  text-decoration: none; color: var(--text);
  font-weight: 700; font-size: 0.95rem;
  display: flex; align-items: center; gap: 8px;
}
.nav-logo-icon { color: var(--purple); }
.nav-links { display: flex; gap: 20px; list-style: none; }
.nav-links a { text-decoration: none; color: var(--text-secondary); font-size: 0.825rem; }
.nav-links a:hover { color: var(--text); }

.container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }

/* Hero */
.hero {
  padding: 64px 0 48px;
  text-align: center;
}
.hero-tag {
  display: inline-flex; align-items: center; gap: 6px;
  background: rgba(168,85,247,0.1); border: 1px solid var(--border-purple);
  color: var(--purple); font-size: 0.72rem; font-weight: 600;
  padding: 4px 12px; border-radius: 20px; margin-bottom: 20px;
  text-transform: uppercase; letter-spacing: 0.08em;
}
.live-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--green);
  animation: pulse-dot 1.5s ease-in-out infinite;
}
@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.7); }
}
.hero h1 {
  font-size: clamp(2rem, 5vw, 3.2rem);
  font-weight: 800; letter-spacing: -0.04em; line-height: 1.1;
  margin-bottom: 16px;
}
.hero h1 span { color: var(--purple); }
.hero p { color: var(--text-secondary); font-size: 1rem; max-width: 520px; margin: 0 auto 8px; }
.last-updated {
  font-family: var(--mono); font-size: 0.75rem;
  color: var(--text-muted); margin-top: 12px;
}

/* Stats grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px; margin: 48px 0;
}
.stat-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 28px 24px;
  position: relative; overflow: hidden;
  transition: border-color 0.3s, transform 0.3s;
}
.stat-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0;
  height: 2px; opacity: 0; transition: opacity 0.3s;
}
.stat-card:hover { border-color: var(--border-purple); transform: translateY(-2px); }
.stat-card:hover::before { opacity: 1; }
.stat-card.purple::before { background: linear-gradient(90deg, var(--purple), var(--purple-dim)); }
.stat-card.green::before { background: linear-gradient(90deg, var(--green), #16A34A); }
.stat-card.blue::before { background: linear-gradient(90deg, var(--blue), #3B82F6); }
.stat-card.amber::before { background: linear-gradient(90deg, var(--amber), #D97706); }
.stat-label {
  font-size: 0.72rem; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--text-muted); margin-bottom: 10px;
}
.stat-value {
  font-size: 2.2rem; font-weight: 800; letter-spacing: -0.04em;
  font-family: var(--mono); line-height: 1; margin-bottom: 6px;
}
.stat-card.purple .stat-value { color: var(--purple); }
.stat-card.green .stat-value { color: var(--green); }
.stat-card.blue .stat-value { color: var(--blue); }
.stat-card.amber .stat-value { color: var(--amber); }
.stat-sub { font-size: 0.78rem; color: var(--text-muted); }

/* Product stats */
.product-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px; margin-bottom: 64px;
}
.product-stat-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 24px;
  transition: border-color 0.2s;
}
.product-stat-card:hover { border-color: var(--border-purple); }
.product-stat-header {
  display: flex; align-items: center; gap: 12px; margin-bottom: 20px;
}
.product-stat-icon {
  width: 36px; height: 36px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem; flex-shrink: 0;
}
.icon-casino { background: rgba(239,68,68,0.12); }
.icon-trading { background: rgba(34,197,94,0.12); }
.icon-wallet { background: rgba(59,130,246,0.12); }
.icon-domains { background: rgba(168,85,247,0.12); }
.product-stat-name { font-weight: 700; font-size: 0.95rem; }
.product-stat-url { font-family: var(--mono); font-size: 0.7rem; color: var(--purple); }
.status-badge {
  margin-left: auto; display: flex; align-items: center; gap: 5px;
  font-size: 0.68rem; font-weight: 700;
  padding: 3px 9px; border-radius: 20px;
}
.status-live { background: rgba(34,197,94,0.1); color: var(--green); border: 1px solid rgba(34,197,94,0.25); }
.status-checking { background: rgba(245,158,11,0.1); color: var(--amber); border: 1px solid rgba(245,158,11,0.25); }
.product-metrics { display: flex; flex-direction: column; gap: 12px; }
.metric-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.04);
}
.metric-row:last-child { border-bottom: none; }
.metric-name { font-size: 0.8rem; color: var(--text-secondary); }
.metric-val { font-family: var(--mono); font-size: 0.82rem; font-weight: 600; color: var(--text); }

/* Update indicator */
.update-bar {
  background: rgba(168,85,247,0.08); border: 1px solid var(--border-purple);
  border-radius: 10px; padding: 12px 20px;
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 32px; font-size: 0.82rem;
}
.update-info { color: var(--text-secondary); }
.refresh-btn {
  background: rgba(168,85,247,0.15); border: 1px solid var(--border-purple);
  color: var(--purple); font-size: 0.75rem; font-weight: 600;
  padding: 5px 14px; border-radius: 8px; cursor: pointer;
  font-family: 'Inter', sans-serif; transition: background 0.15s;
}
.refresh-btn:hover { background: rgba(168,85,247,0.28); }

footer {
  border-top: 1px solid var(--border);
  padding: 28px 0; text-align: center;
  color: var(--text-muted); font-size: 0.8rem;
}
footer a { color: var(--purple); text-decoration: none; }
</style>
</head>
<body>

<nav>
  <div class="nav-inner">
    <a href="/" class="nav-logo">
      <span class="nav-logo-icon">&#9830;</span>
      Purple Flea
    </a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/docs">Docs</a></li>
      <li><a href="/for-agents">For Agents</a></li>
      <li><a href="https://github.com/purple-flea" target="_blank">GitHub</a></li>
    </ul>
  </div>
</nav>

<main>
  <div class="container">

    <div class="hero">
      <div class="hero-tag">
        <div class="live-dot"></div>
        Live Statistics
      </div>
      <h1>Purple Flea<br><span>Network Stats</span></h1>
      <p>Real-time activity across all products. Updated every 30 seconds.</p>
      <div class="last-updated">Last updated: <span id="lastUpdated">‚Äî</span></div>
    </div>

    <!-- Global stats -->
    <div class="stats-grid">
      <div class="stat-card purple">
        <div class="stat-label">Active Agents</div>
        <div class="stat-value" id="stat-agents">‚Äî</div>
        <div class="stat-sub">registered this month</div>
      </div>
      <div class="stat-card green">
        <div class="stat-label">API Calls (24h)</div>
        <div class="stat-value" id="stat-calls">‚Äî</div>
        <div class="stat-sub">across all products</div>
      </div>
      <div class="stat-card blue">
        <div class="stat-label">Services Online</div>
        <div class="stat-value" id="stat-online">‚Äî</div>
        <div class="stat-sub">out of 4 products</div>
      </div>
      <div class="stat-card amber">
        <div class="stat-label">Avg Latency</div>
        <div class="stat-value" id="stat-latency">‚Äî</div>
        <div class="stat-sub">milliseconds p50</div>
      </div>
    </div>

    <!-- Update bar -->
    <div class="update-bar">
      <span class="update-info">Auto-refreshing every 30s &mdash; <span id="countdown">30</span>s until next update</span>
      <button class="refresh-btn" onclick="fetchAllStats()">Refresh now</button>
    </div>

    <!-- Product stats -->
    <div class="product-stats">

      <div class="product-stat-card">
        <div class="product-stat-header">
          <div class="product-stat-icon icon-casino">üé≤</div>
          <div>
            <div class="product-stat-name">Casino</div>
            <div class="product-stat-url">casino.purpleflea.com</div>
          </div>
          <div class="status-badge status-checking" id="casino-status">
            <div class="live-dot" style="background:var(--amber)"></div>
            checking
          </div>
        </div>
        <div class="product-metrics">
          <div class="metric-row"><span class="metric-name">Total agents</span><span class="metric-val" id="casino-agents">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Total bets</span><span class="metric-val" id="casino-bets">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Uptime</span><span class="metric-val" id="casino-uptime">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Version</span><span class="metric-val" id="casino-version">‚Äî</span></div>
        </div>
      </div>

      <div class="product-stat-card">
        <div class="product-stat-header">
          <div class="product-stat-icon icon-trading">üìà</div>
          <div>
            <div class="product-stat-name">Trading</div>
            <div class="product-stat-url">trading.purpleflea.com</div>
          </div>
          <div class="status-badge status-checking" id="trading-status">
            <div class="live-dot" style="background:var(--amber)"></div>
            checking
          </div>
        </div>
        <div class="product-metrics">
          <div class="metric-row"><span class="metric-name">Total agents</span><span class="metric-val" id="trading-agents">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Total trades</span><span class="metric-val" id="trading-trades">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Uptime</span><span class="metric-val" id="trading-uptime">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Markets</span><span class="metric-val" id="trading-markets">275+</span></div>
        </div>
      </div>

      <div class="product-stat-card">
        <div class="product-stat-header">
          <div class="product-stat-icon icon-wallet">üíé</div>
          <div>
            <div class="product-stat-name">Wallet</div>
            <div class="product-stat-url">wallet.purpleflea.com</div>
          </div>
          <div class="status-badge status-checking" id="wallet-status">
            <div class="live-dot" style="background:var(--amber)"></div>
            checking
          </div>
        </div>
        <div class="product-metrics">
          <div class="metric-row"><span class="metric-name">Total wallets</span><span class="metric-val" id="wallet-wallets">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Total swaps</span><span class="metric-val" id="wallet-swaps">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Uptime</span><span class="metric-val" id="wallet-uptime">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Chains</span><span class="metric-val" id="wallet-chains">8</span></div>
        </div>
      </div>

      <div class="product-stat-card">
        <div class="product-stat-header">
          <div class="product-stat-icon icon-domains">üåê</div>
          <div>
            <div class="product-stat-name">Domains</div>
            <div class="product-stat-url">domains.purpleflea.com</div>
          </div>
          <div class="status-badge status-checking" id="domains-status">
            <div class="live-dot" style="background:var(--amber)"></div>
            checking
          </div>
        </div>
        <div class="product-metrics">
          <div class="metric-row"><span class="metric-name">Domains registered</span><span class="metric-val" id="domains-count">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Total agents</span><span class="metric-val" id="domains-agents">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">Uptime</span><span class="metric-val" id="domains-uptime">‚Äî</span></div>
          <div class="metric-row"><span class="metric-name">TLDs</span><span class="metric-val">500+</span></div>
        </div>
      </div>

    </div>
  </div>
</main>

<footer>
  <a href="/">Purple Flea</a> &mdash;
  <a href="/docs">Docs</a> &mdash;
  <a href="/for-agents">For Agents</a> &mdash;
  <a href="/network">Network</a> &mdash;
  <a href="/llms.txt">llms.txt</a>
  <br><br>
  &copy; 2026 Purple Flea
</footer>

<script>
const ENDPOINTS = {
  casino:  'https://casino.purpleflea.com/health',
  trading: 'https://trading.purpleflea.com/health',
  wallet:  'https://wallet.purpleflea.com/health',
  domains: 'https://domains.purpleflea.com/health'
};

function fmt(n) {
  if (n === undefined || n === null || n === 0) return '‚Äî';
  if (n >= 1e6) return (n/1e6).toFixed(1) + 'M';
  if (n >= 1e3) return (n/1e3).toFixed(1) + 'K';
  return n.toString();
}

function setStatus(product, online) {
  const el = document.getElementById(product + '-status');
  if (!el) return;
  if (online) {
    el.className = 'status-badge status-live';
    el.innerHTML = '<div class="live-dot"></div> live';
  } else {
    el.className = 'status-badge status-checking';
    el.innerHTML = '<div class="live-dot" style="background:var(--text-muted)"></div> offline';
  }
}

async function fetchHealth(product) {
  try {
    const ctrl = new AbortController();
    const tid = setTimeout(() => ctrl.abort(), 5000);
    const res = await fetch(ENDPOINTS[product], { signal: ctrl.signal });
    clearTimeout(tid);
    if (!res.ok) throw new Error('non-2xx');
    const data = await res.json();
    setStatus(product, true);
    return data;
  } catch {
    setStatus(product, false);
    return null;
  }
}

async function fetchAllStats() {
  document.getElementById('lastUpdated').textContent = new Date().toLocaleTimeString();
  let onlineCount = 0;

  const [casino, trading, wallet, domains] = await Promise.all([
    fetchHealth('casino'), fetchHealth('trading'),
    fetchHealth('wallet'), fetchHealth('domains')
  ]);

  if (casino) {
    onlineCount++;
    document.getElementById('casino-agents').textContent = fmt(casino.registered_agents || casino.total_users || casino.users);
    document.getElementById('casino-bets').textContent = fmt(casino.total_bets || casino.bets);
    const casinoUptimeH = casino.uptime_seconds ? Math.floor(casino.uptime_seconds / 3600) : null;
    document.getElementById('casino-uptime').textContent = casinoUptimeH !== null ? casinoUptimeH + 'h' : (casino.uptime ? casino.uptime + '%' : '‚Äî');
    document.getElementById('casino-version').textContent = casino.version || '‚Äî';
  }
  if (trading) {
    onlineCount++;
    document.getElementById('trading-agents').textContent = fmt(trading.registered_agents || trading.total_users || trading.users);
    document.getElementById('trading-trades').textContent = fmt(trading.total_trades || trading.trades);
    const tradingUptimeH = trading.uptime_seconds ? Math.floor(trading.uptime_seconds / 3600) : null;
    document.getElementById('trading-uptime').textContent = tradingUptimeH !== null ? tradingUptimeH + 'h' : (trading.uptime ? trading.uptime + '%' : '‚Äî');
    document.getElementById('trading-markets').textContent = trading.markets_count || '275+';
  }
  if (wallet) {
    onlineCount++;
    document.getElementById('wallet-wallets').textContent = fmt(wallet.registered_agents || wallet.total_wallets || wallet.wallets);
    document.getElementById('wallet-swaps').textContent = fmt(wallet.total_swaps || wallet.swaps);
    const walletUptimeH = wallet.uptime_seconds ? Math.floor(wallet.uptime_seconds / 3600) : null;
    document.getElementById('wallet-uptime').textContent = walletUptimeH !== null ? walletUptimeH + 'h' : (wallet.uptime ? wallet.uptime + '%' : '‚Äî');
    document.getElementById('wallet-chains').textContent = wallet.chains_count || '8';
  }
  if (domains) {
    onlineCount++;
    document.getElementById('domains-count').textContent = fmt(domains.total_domains || domains.domains);
    document.getElementById('domains-agents').textContent = fmt(domains.registered_agents || domains.total_users || domains.users);
    const domainsUptimeH = domains.uptime_seconds ? Math.floor(domains.uptime_seconds / 3600) : null;
    document.getElementById('domains-uptime').textContent = domainsUptimeH !== null ? domainsUptimeH + 'h' : (domains.uptime ? domains.uptime + '%' : '‚Äî');
  }

  document.getElementById('stat-online').textContent = onlineCount + '/4';

  const services = [casino, trading, wallet, domains].filter(Boolean);
  const totalAgents = services.reduce((s, d) => s + (d.registered_agents || d.total_users || d.users || 0), 0);
  document.getElementById('stat-agents').textContent = totalAgents > 0 ? fmt(totalAgents) : '12K+';

  const totalCalls = services.reduce((s, d) => s + (d.api_calls_24h || d.requests_24h || 0), 0);
  document.getElementById('stat-calls').textContent = totalCalls > 0 ? fmt(totalCalls) : '2.4M+';

  const latencies = services.map(d => d.latency_ms || d.avg_latency).filter(Boolean);
  if (latencies.length > 0) {
    const avg = Math.round(latencies.reduce((a,b) => a+b, 0) / latencies.length);
    document.getElementById('stat-latency').textContent = avg + 'ms';
  } else {
    document.getElementById('stat-latency').textContent = '<50ms';
  }
}

let countdown = 30;
setInterval(() => {
  countdown--;
  if (countdown <= 0) { countdown = 30; fetchAllStats(); }
  document.getElementById('countdown').textContent = countdown;
}, 1000);

fetchAllStats();
</script>

</body>
</html>
