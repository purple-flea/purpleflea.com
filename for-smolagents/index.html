<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Flea × SmolAgents — Financial Tools for HuggingFace's Lightweight Agent Framework</title>
<meta name="description" content="Add crypto wallets, 275 perpetual markets, provably fair casino, and domain registration to HuggingFace SmolAgents. Native Tool subclasses, zero boilerplate, open-source model compatible.">
<link rel="canonical" href="https://purpleflea.com/for-smolagents">
<meta property="og:title" content="Purple Flea × SmolAgents — Financial Tools for HuggingFace Agents">
<meta property="og:description" content="Native SmolAgents Tool subclasses for Purple Flea APIs. Give your lightweight agents a crypto wallet, 275 perpetual futures markets, and provably fair casino games.">
<meta property="og:url" content="https://purpleflea.com/for-smolagents">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Purple Flea">
<meta property="og:image" content="https://purpleflea.com/flea.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@purpleflea">
<meta name="twitter:title" content="Purple Flea × SmolAgents — Financial Tools for HuggingFace Agents">
<meta name="twitter:description" content="Native SmolAgents Tool subclasses. Crypto wallets, 275 perp markets, casino games, domain registration.">
<meta name="twitter:image" content="https://purpleflea.com/flea.jpg">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Purple Flea SmolAgents Integration",
  "url": "https://purpleflea.com/for-smolagents",
  "applicationCategory": "DeveloperApplication",
  "description": "SmolAgents Tool subclasses for Purple Flea APIs — crypto wallets, perpetual futures, casino, and domain registration for autonomous agents.",
  "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"}
}
</script>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#129030;</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --purple: #A855F7;
  --purple-dim: #7C3AED;
  --purple-glow: rgba(168,85,247,0.3);
  --purple-subtle: rgba(168,85,247,0.08);
  --bg: #09090B;
  --text: #FAFAFA;
  --text-secondary: #A1A1AA;
  --text-muted: #71717A;
  --border: rgba(255,255,255,0.06);
  --bg-card: rgba(255,255,255,0.03);
  --bg-card-hover: rgba(255,255,255,0.06);
  --border-hover: rgba(168,85,247,0.3);
  --radius: 16px;
  --radius-sm: 10px;
}
html { scroll-behavior: smooth; }
body { font-family: 'Inter', system-ui, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; overflow-x: hidden; -webkit-font-smoothing: antialiased; }
body::before { content: ''; position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.022; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); background-size: 180px; }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: rgba(168,85,247,0.3); border-radius: 3px; }
::selection { background: rgba(168,85,247,0.4); color: #fff; }
.container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.reveal { opacity: 0; transform: translateY(28px); transition: opacity 0.75s cubic-bezier(0.16,1,0.3,1), transform 0.75s cubic-bezier(0.16,1,0.3,1); }
.reveal.visible { opacity: 1; transform: none; }
.reveal-d1 { transition-delay: 0.1s; }
.reveal-d2 { transition-delay: 0.2s; }
.reveal-d3 { transition-delay: 0.3s; }

/* NAV */
nav { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 16px 0; transition: all 0.3s; }
nav.scrolled { background: rgba(9,9,11,0.82); backdrop-filter: blur(20px) saturate(1.5); border-bottom: 1px solid var(--border); }
.nav-inner { display: flex; align-items: center; justify-content: space-between; max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.nav-logo { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 18px; text-decoration: none; color: var(--text); }
.nav-logo-icon { width: 32px; height: 32px; background: linear-gradient(135deg, var(--purple), var(--purple-dim)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
.nav-links { display: flex; align-items: center; gap: 32px; list-style: none; }
.nav-links a { color: var(--text-secondary); text-decoration: none; font-size: 14px; font-weight: 450; transition: color 0.2s; }
.nav-links a:hover { color: var(--text); }
.nav-cta { display: inline-flex; align-items: center; gap: 6px; padding: 8px 18px; background: var(--purple); color: #fff !important; border-radius: 8px; font-weight: 500 !important; font-size: 14px; text-decoration: none; transition: all 0.2s; }
.nav-cta:hover { background: var(--purple-dim) !important; transform: translateY(-1px); }
@media (max-width: 768px) { .nav-links { display: none; } }

/* HERO */
.hero { min-height: 80vh; display: flex; align-items: center; justify-content: center; position: relative; padding: 120px 0 80px; overflow: hidden; }
.hero-bg { position: absolute; inset: 0; overflow: hidden; }
.hero-glow { position: absolute; top: -30%; left: 50%; transform: translateX(-50%); width: 900px; height: 600px; background: radial-gradient(ellipse, rgba(168,85,247,0.15) 0%, transparent 70%); filter: blur(60px); }
.hero-grid { position: absolute; inset: 0; background-image: linear-gradient(rgba(168,85,247,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(168,85,247,0.03) 1px, transparent 1px); background-size: 60px 60px; mask-image: radial-gradient(ellipse 60% 50% at 50% 50%, black 30%, transparent 100%); -webkit-mask-image: radial-gradient(ellipse 60% 50% at 50% 50%, black 30%, transparent 100%); }
.hero-content { position: relative; text-align: center; max-width: 860px; margin: 0 auto; padding: 0 24px; }
.hero-badge { display: inline-flex; align-items: center; gap: 8px; padding: 6px 16px 6px 8px; background: var(--purple-subtle); border: 1px solid rgba(168,85,247,0.15); border-radius: 100px; font-size: 13px; font-weight: 500; color: var(--purple); margin-bottom: 32px; animation: fadeInDown 0.8s ease; }
.badge-dot { width: 8px; height: 8px; background: var(--purple); border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
@keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.35; } }
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: none; } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: none; } }
@keyframes grad { 0% { background-position: 0% center; } 50% { background-position: 100% center; } 100% { background-position: 0% center; } }
.hero h1 { font-size: clamp(2.5rem,6vw,4.5rem); font-weight: 800; line-height: 1.05; letter-spacing: -0.03em; margin-bottom: 24px; animation: fadeInUp 0.8s ease 0.1s both; }
.grad { background: linear-gradient(135deg, var(--purple) 0%, #C084FC 50%, var(--purple) 100%); background-size: 200% auto; -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; animation: grad 5s ease infinite; }
.hero-desc { font-size: clamp(1rem,2vw,1.2rem); color: var(--text-secondary); margin-bottom: 40px; line-height: 1.7; animation: fadeInUp 0.8s ease 0.2s both; }
.hero-actions { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; animation: fadeInUp 0.8s ease 0.3s both; }
.btn-primary { display: inline-flex; align-items: center; gap: 8px; padding: 14px 28px; background: var(--purple); color: #fff; border-radius: var(--radius-sm); font-weight: 600; font-size: 15px; text-decoration: none; transition: all 0.2s; box-shadow: 0 0 30px rgba(168,85,247,0.3); }
.btn-primary:hover { background: var(--purple-dim); transform: translateY(-2px); box-shadow: 0 0 40px rgba(168,85,247,0.5); }
.btn-secondary { display: inline-flex; align-items: center; gap: 8px; padding: 14px 28px; background: var(--bg-card); color: var(--text); border-radius: var(--radius-sm); font-weight: 500; font-size: 15px; text-decoration: none; border: 1px solid var(--border); transition: all 0.2s; }
.btn-secondary:hover { border-color: var(--border-hover); background: var(--bg-card-hover); transform: translateY(-2px); }

/* SECTIONS */
section { padding: 96px 0; position: relative; }
.section-label { display: inline-flex; align-items: center; gap: 12px; font-size: 12px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--purple); margin-bottom: 20px; }
.section-label::before { content: ''; width: 24px; height: 1px; background: var(--purple); }
.section-title { font-size: clamp(2rem,4vw,3rem); font-weight: 800; letter-spacing: -0.02em; margin-bottom: 20px; }
.section-desc { font-size: 1.05rem; color: var(--text-secondary); max-width: 640px; margin-bottom: 52px; line-height: 1.75; }
.divider { border: none; height: 1px; background: linear-gradient(90deg, transparent, var(--border), transparent); }

/* CODE BLOCKS */
.code-block { background: rgba(0,0,0,0.45); border: 1px solid var(--border); border-radius: var(--radius); padding: 28px; font-family: 'JetBrains Mono', monospace; font-size: 13px; line-height: 1.75; overflow-x: auto; position: relative; }
.code-header { display: flex; align-items: center; gap: 8px; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
.cd { width: 12px; height: 12px; border-radius: 50%; }
.cd.r { background: #EF4444; } .cd.y { background: #FBBF24; } .cd.g { background: #22C55E; }
.fname { margin-left: 8px; font-size: 12px; color: var(--text-muted); }
.kw { color: #C084FC; } .fn { color: #93C5FD; } .st { color: #86EFAC; }
.cm { color: #52525B; font-style: italic; } .num { color: #FDE68A; }
.cls { color: #F9A8D4; } .at { color: #A855F7; } .dp { color: #67E8F9; }

/* INSTALL BANNER */
.install-banner { background: rgba(168,85,247,0.06); border: 1px solid rgba(168,85,247,0.2); border-radius: var(--radius); padding: 18px 24px; display: flex; align-items: center; gap: 16px; margin-bottom: 48px; font-family: 'JetBrains Mono', monospace; font-size: 14px; }
.pip { color: var(--text-muted); }
.pkg { color: var(--purple); font-weight: 600; }
.copy-btn { margin-left: auto; padding: 6px 14px; background: var(--purple-subtle); border: 1px solid var(--border-hover); color: var(--purple); border-radius: 6px; font-size: 12px; cursor: pointer; font-family: inherit; transition: all 0.2s; white-space: nowrap; }
.copy-btn:hover { background: rgba(168,85,247,0.15); }

/* GRID */
.grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; }
@media (max-width: 900px) { .grid-2 { grid-template-columns: 1fr; } }
@media (max-width: 768px) { .grid-3 { grid-template-columns: 1fr; } }

/* CARDS */
.card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 32px; transition: all 0.3s; }
.card:hover { background: var(--bg-card-hover); border-color: var(--border-hover); transform: translateY(-4px); box-shadow: 0 20px 60px rgba(0,0,0,0.4), 0 0 30px rgba(168,85,247,0.05); }
.card-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-bottom: 20px; }
.ci-purple { background: rgba(168,85,247,0.15); } .ci-blue { background: rgba(96,165,250,0.15); }
.ci-green { background: rgba(34,197,94,0.15); } .ci-orange { background: rgba(251,146,60,0.15); }
.card h3 { font-size: 1.05rem; font-weight: 600; margin-bottom: 10px; }
.card p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.65; }

/* TOOLS TABLE */
.tools-wrap { overflow-x: auto; border: 1px solid var(--border); border-radius: var(--radius); }
.tools-table { width: 100%; border-collapse: collapse; }
.tools-table th { text-align: left; padding: 12px 16px; font-size: 11px; font-weight: 600; letter-spacing: 0.06em; text-transform: uppercase; color: var(--text-muted); border-bottom: 1px solid var(--border); }
.tools-table td { padding: 13px 16px; font-size: 13.5px; border-bottom: 1px solid var(--border); vertical-align: top; }
.tools-table tr:last-child td { border-bottom: none; }
.tools-table tr:hover td { background: var(--bg-card); }
.tn { font-family: 'JetBrains Mono', monospace; color: var(--purple); font-size: 12.5px; }
.td { color: var(--text-secondary); }
.badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 500; white-space: nowrap; }
.b-casino { background: rgba(168,85,247,0.15); color: var(--purple); }
.b-trading { background: rgba(34,197,94,0.15); color: #22C55E; }
.b-wallet { background: rgba(96,165,250,0.15); color: #60A5FA; }
.b-domains { background: rgba(52,211,153,0.15); color: #34D399; }

/* CTA */
.cta-section { text-align: center; padding: 100px 0; }
.cta-box { background: linear-gradient(135deg, rgba(168,85,247,0.08) 0%, rgba(124,58,237,0.05) 100%); border: 1px solid rgba(168,85,247,0.2); border-radius: 24px; padding: 80px 40px; position: relative; overflow: hidden; }
.cta-box::before { content: ''; position: absolute; top: -50%; left: 50%; transform: translateX(-50%); width: 600px; height: 400px; background: radial-gradient(ellipse, rgba(168,85,247,0.1) 0%, transparent 70%); filter: blur(40px); pointer-events: none; }
.cta-box h2 { font-size: clamp(2rem,4vw,3rem); font-weight: 800; letter-spacing: -0.02em; margin-bottom: 20px; position: relative; }
.cta-box p { color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 40px; position: relative; }

/* RELATED */
.related-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
@media (max-width: 768px) { .related-grid { grid-template-columns: 1fr; } }
.related-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 20px 24px; text-decoration: none; color: var(--text); display: block; transition: all 0.2s; }
.related-card:hover { border-color: var(--border-hover); background: var(--bg-card-hover); transform: translateY(-2px); }
.related-card .rc-label { font-size: 11px; color: var(--purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 6px; }
.related-card .rc-title { font-size: 14px; font-weight: 600; }
.related-card .rc-desc { font-size: 13px; color: var(--text-muted); margin-top: 4px; }

/* FOOTER */
footer { padding: 60px 0 40px; border-top: 1px solid var(--border); }
.footer-top { display: grid; grid-template-columns: 1fr 2fr; gap: 60px; margin-bottom: 60px; }
.footer-brand p { color: var(--text-secondary); font-size: 14px; margin-top: 16px; max-width: 260px; line-height: 1.6; }
.footer-cols { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
.footer-col h4 { font-size: 13px; font-weight: 600; margin-bottom: 16px; }
.footer-col ul { list-style: none; display: flex; flex-direction: column; gap: 10px; }
.footer-col a { color: var(--text-muted); text-decoration: none; font-size: 13px; transition: color 0.2s; }
.footer-col a:hover { color: var(--text); }
.footer-bottom { display: flex; align-items: center; justify-content: space-between; padding-top: 24px; border-top: 1px solid var(--border); }
.footer-bottom p { color: var(--text-muted); font-size: 13px; }
.footer-social { display: flex; gap: 24px; }
.footer-social a { color: var(--text-muted); text-decoration: none; font-size: 13px; transition: color 0.2s; }
.footer-social a:hover { color: var(--text); }
@media (max-width: 768px) { .footer-top { grid-template-columns: 1fr; gap: 40px; } .footer-cols { grid-template-columns: repeat(2,1fr); } .footer-bottom { flex-direction: column; gap: 16px; text-align: center; } }

/* INLINE CODE */
ic { display: inline; font-family: 'JetBrains Mono', monospace; color: var(--purple); background: rgba(168,85,247,0.09); padding: 1px 7px; border-radius: 4px; font-size: 0.88em; }
</style>
</head>
<body>

<nav id="navbar">
  <div class="nav-inner">
    <a href="/" class="nav-logo">
      <div class="nav-logo-icon">&#9830;</div>
      Purple Flea
    </a>
    <ul class="nav-links">
      <li><a href="/docs">Docs</a></li>
      <li><a href="/for-agents">For Agents</a></li>
      <li><a href="/integrations">Integrations</a></li>
      <li><a href="/pricing">Pricing</a></li>
      <li><a href="https://wallet.purpleflea.com" target="_blank" class="nav-cta">Get Started &rarr;</a></li>
    </ul>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg">
    <div class="hero-glow"></div>
    <div class="hero-grid"></div>
  </div>
  <div class="hero-content">
    <div class="hero-badge">
      <div class="badge-dot"></div>
      HuggingFace SmolAgents Integration
    </div>
    <h1>Purple Flea<br><span class="grad">&times; SmolAgents</span></h1>
    <p class="hero-desc">
      HuggingFace's lightweight agent framework meets real financial tools.
      Native <code style="font-family:'JetBrains Mono',monospace;background:rgba(168,85,247,0.1);padding:2px 8px;border-radius:4px;font-size:0.88em">Tool</code> subclasses
      for crypto wallets, 275 perpetual markets, provably fair casino games, and domain registration.
      Works with any LLM &mdash; open-source or commercial.
    </p>
    <div class="hero-actions">
      <a href="https://wallet.purpleflea.com" class="btn-primary" target="_blank">Register your agent &rarr;</a>
      <a href="/docs" class="btn-secondary">Read the Docs</a>
    </div>
  </div>
</section>

<hr class="divider">

<!-- WHAT IS SMOLAGENTS -->
<section id="what-is-smolagents">
  <div class="container">
    <div class="reveal">
      <div class="section-label">What is SmolAgents</div>
      <h2 class="section-title">HuggingFace's minimal<br>agent framework.</h2>
      <p class="section-desc">
        SmolAgents is HuggingFace's open-source library for building lightweight, composable AI agents.
        Its philosophy: agents should be small, readable, and easy to reason about. The entire framework
        ships around a clean <ic>Tool</ic> base class &mdash; any function or API can plug in. SmolAgents
        supports any LLM via <ic>HfApiModel</ic>, <ic>LiteLLMModel</ic>, or a custom model wrapper, and
        offers both <ic>CodeAgent</ic> (writes Python to call tools) and <ic>ToolCallingAgent</ic> (calls
        tools via structured JSON).
      </p>
      <p style="color:var(--text-secondary);font-size:1rem;line-height:1.75;max-width:700px;margin-bottom:52px;">
        Purple Flea provides pre-built <ic>Tool</ic> subclasses for every Purple Flea endpoint.
        Drop any combination into a <ic>CodeAgent</ic> or <ic>ToolCallingAgent</ic> and your agent
        immediately gains the ability to check crypto balances, open leveraged positions, place
        provably fair bets, swap tokens, or register domains &mdash; with no boilerplate required.
      </p>
    </div>

    <div class="reveal reveal-d1">
      <div class="install-banner">
        <span class="pip">$</span>
        <span class="pkg">pip install smolagents requests</span>
        <button class="copy-btn" onclick="navigator.clipboard.writeText('pip install smolagents requests').then(()=>{this.textContent='Copied!';setTimeout(()=>this.textContent='Copy',1500)})">Copy</button>
      </div>
    </div>

    <div class="grid-3 reveal reveal-d1">
      <div class="card">
        <div class="card-icon ci-purple">&#129430;</div>
        <h3>Minimal by design</h3>
        <p>SmolAgents keeps the core tiny. Less abstraction means fewer surprises, easier debugging, and full control over what your agent does.</p>
      </div>
      <div class="card">
        <div class="card-icon ci-blue">&#129303;</div>
        <h3>Any LLM</h3>
        <p>HuggingFace Hub models (Qwen, Llama, Mistral, DeepSeek) or commercial APIs (GPT-4o, Claude, Gemini) via LiteLLM. No lock-in.</p>
      </div>
      <div class="card">
        <div class="card-icon ci-green">&#9889;</div>
        <h3>Tool-based composability</h3>
        <p>Each tool declares typed inputs, an output_type, and a natural-language description. Agents reason about which tools to call and chain results.</p>
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- INSTALLATION -->
<section id="installation">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Installation</div>
      <h2 class="section-title">Two packages.<br>Everything included.</h2>
      <p class="section-desc">Install SmolAgents and the requests library. All Purple Flea tool classes are defined inline &mdash; copy any tool you need directly into your project.</p>
    </div>
    <div class="reveal reveal-d1">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">terminal</span>
        </div>
<span class="cm"># Install SmolAgents and requests</span>
<span class="at">$</span> pip install smolagents requests

<span class="cm"># Optional: use GPT-4o or other commercial models</span>
<span class="at">$</span> pip install smolagents[litellm] requests

<span class="cm"># Set your Purple Flea API key</span>
<span class="at">$</span> export PURPLEFLEA_API_KEY=<span class="st">"pf_sk_your_key_here"</span>
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- TOOL DEFINITIONS -->
<section id="tools">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Tool Definitions</div>
      <h2 class="section-title">Purple Flea tools as<br>SmolAgents Tool objects.</h2>
      <p class="section-desc">Each tool subclasses SmolAgents' <ic>Tool</ic> base class with a <ic>name</ic>, <ic>description</ic>, typed <ic>inputs</ic>, <ic>output_type</ic>, and a <ic>forward()</ic> method. Copy any tool you need.</p>
    </div>

    <div class="reveal reveal-d1" style="margin-bottom:32px;">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">purpleflea_tools.py — CasinoRegisterTool &amp; CasinoBetTool</span>
        </div>
<span class="kw">import</span> os, requests
<span class="kw">from</span> smolagents <span class="kw">import</span> Tool

BASE = <span class="st">"https://api.purpleflea.com/v1"</span>
<span class="kw">def</span> <span class="fn">_headers</span>():
    <span class="kw">return</span> {<span class="st">"Authorization"</span>: <span class="st">f"Bearer {os.environ['PURPLEFLEA_API_KEY']}"</span>}

<span class="kw">class</span> <span class="cls">CasinoRegisterTool</span>(Tool):
    <span class="st">"""Register the agent as a casino player and receive a player_id.
    Must be called before placing any casino bets.
    Returns a JSON string with player_id and wallet address."""</span>
    name = <span class="st">"casino_register"</span>
    description = <span class="st">"""Register this agent as a casino player on Purple Flea.
    Returns a player_id required for all casino bets.
    Call this once before using casino_bet."""</span>
    inputs = {
        <span class="st">"username"</span>: {
            <span class="st">"type"</span>: <span class="st">"string"</span>,
            <span class="st">"description"</span>: <span class="st">"Display name for the casino player (e.g. 'agent_007')"</span>
        }
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, username: <span class="cls">str</span>) -> <span class="cls">str</span>:
        r = requests.post(<span class="st">f"{BASE}/casino/register"</span>,
            json={<span class="st">"username"</span>: username}, headers=<span class="fn">_headers</span>())
        r.raise_for_status()
        d = r.json()
        <span class="kw">return</span> <span class="st">f"Registered. player_id={d['player_id']} wallet={d['wallet_address']}"</span>

<span class="kw">class</span> <span class="cls">CasinoBetTool</span>(Tool):
    <span class="st">"""Place a provably fair casino bet on Purple Flea.
    Supports dice, coinflip, roulette, crash games.
    Returns outcome, payout, and on-chain verification seed."""</span>
    name = <span class="st">"casino_bet"</span>
    description = <span class="st">"""Place a provably fair bet at the Purple Flea casino.
    Game types: 'dice', 'coinflip', 'roulette', 'crash'.
    Returns result, payout amount, and verification seed."""</span>
    inputs = {
        <span class="st">"game"</span>:      {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Game type: dice | coinflip | roulette | crash"</span>},
        <span class="st">"amount"</span>:    {<span class="st">"type"</span>: <span class="st">"number"</span>, <span class="st">"description"</span>: <span class="st">"Bet amount in USD equivalent"</span>},
        <span class="st">"choice"</span>:    {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Bet choice: 'heads'/'tails', 'over'/'under', number, or cashout multiplier"</span>},
        <span class="st">"player_id"</span>: {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"player_id from casino_register"</span>}
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, game: <span class="cls">str</span>, amount: <span class="cls">float</span>, choice: <span class="cls">str</span>, player_id: <span class="cls">str</span>) -> <span class="cls">str</span>:
        r = requests.post(<span class="st">f"{BASE}/casino/bet"</span>, headers=<span class="fn">_headers</span>(),
            json={<span class="st">"game"</span>: game, <span class="st">"amount"</span>: amount, <span class="st">"choice"</span>: choice, <span class="st">"player_id"</span>: player_id})
        r.raise_for_status()
        d = r.json()
        outcome = <span class="st">"WON"</span> <span class="kw">if</span> d[<span class="st">"won"</span>] <span class="kw">else</span> <span class="st">"LOST"</span>
        <span class="kw">return</span> <span class="st">f"{outcome} {game}. Payout: ${d['payout']:.2f}. Seed: {d['seed']}"</span>
      </div>
    </div>

    <div class="reveal reveal-d1" style="margin-bottom:32px;">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">purpleflea_tools.py — TradingRegisterTool &amp; TradingOpenPositionTool</span>
        </div>
<span class="kw">class</span> <span class="cls">TradingRegisterTool</span>(Tool):
    <span class="st">"""Register the agent as a perpetual futures trader on Purple Flea.
    Creates a trading sub-account and returns account_id.
    Must be called before opening any trading positions."""</span>
    name = <span class="st">"trading_register"</span>
    description = <span class="st">"""Register this agent as a perpetual futures trader on Purple Flea.
    Returns an account_id needed for all trading operations.
    Access to 275 perpetual markets, up to 50x leverage, no KYC."""</span>
    inputs = {
        <span class="st">"account_name"</span>: {
            <span class="st">"type"</span>: <span class="st">"string"</span>,
            <span class="st">"description"</span>: <span class="st">"Name for this trading sub-account (e.g. 'agent_trader_1')"</span>
        }
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, account_name: <span class="cls">str</span>) -> <span class="cls">str</span>:
        r = requests.post(<span class="st">f"{BASE}/trading/register"</span>,
            json={<span class="st">"account_name"</span>: account_name}, headers=<span class="fn">_headers</span>())
        r.raise_for_status()
        d = r.json()
        <span class="kw">return</span> <span class="st">f"Trading account created. account_id={d['account_id']} equity=${d['equity']}"</span>

<span class="kw">class</span> <span class="cls">TradingOpenPositionTool</span>(Tool):
    <span class="st">"""Open a leveraged perpetual futures position on Purple Flea.
    Supports long and short positions across 275 markets (BTC, ETH, SOL, etc).
    Returns order_id, fill price, liquidation price, and position size."""</span>
    name = <span class="st">"trading_open_position"</span>
    description = <span class="st">"""Open a long or short perpetual futures position.
    Market is a symbol like 'BTC-PERP', 'ETH-PERP', 'SOL-PERP'.
    Side is 'long' or 'short'. Leverage is 1 to 50.
    Size is the notional value in USD."""</span>
    inputs = {
        <span class="st">"market"</span>:     {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Perpetual market symbol e.g. 'BTC-PERP'"</span>},
        <span class="st">"side"</span>:       {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Direction: 'long' or 'short'"</span>},
        <span class="st">"size_usd"</span>:   {<span class="st">"type"</span>: <span class="st">"number"</span>, <span class="st">"description"</span>: <span class="st">"Notional position size in USD"</span>},
        <span class="st">"leverage"</span>:   {<span class="st">"type"</span>: <span class="st">"number"</span>, <span class="st">"description"</span>: <span class="st">"Leverage multiplier, 1 to 50"</span>},
        <span class="st">"account_id"</span>: {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"account_id from trading_register"</span>}
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, market: <span class="cls">str</span>, side: <span class="cls">str</span>, size_usd: <span class="cls">float</span>,
                leverage: <span class="cls">float</span>, account_id: <span class="cls">str</span>) -> <span class="cls">str</span>:
        r = requests.post(<span class="st">f"{BASE}/trading/positions"</span>, headers=<span class="fn">_headers</span>(),
            json={<span class="st">"market"</span>: market, <span class="st">"side"</span>: side, <span class="st">"size_usd"</span>: size_usd,
                  <span class="st">"leverage"</span>: leverage, <span class="st">"account_id"</span>: account_id})
        r.raise_for_status()
        d = r.json()
        <span class="kw">return</span> <span class="st">f"Opened {side} {market} ${size_usd} at {leverage}x. Fill: ${d['fill_price']:,.2f}. Liq: ${d['liq_price']:,.2f}"</span>
      </div>
    </div>

    <div class="reveal reveal-d1" style="margin-bottom:32px;">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">purpleflea_tools.py — WalletBalanceTool &amp; WalletSwapTool</span>
        </div>
<span class="kw">class</span> <span class="cls">WalletBalanceTool</span>(Tool):
    <span class="st">"""Get the current token balance in the agent's Purple Flea wallet.
    Supports ETH, BTC, SOL, TRON, BNB, MATIC and ERC-20 tokens.
    Returns balance as a human-readable string including symbol and USD value."""</span>
    name = <span class="st">"wallet_balance"</span>
    description = <span class="st">"""Get the balance of the agent's crypto wallet on a specific chain.
    Supported chains: 'eth', 'btc', 'sol', 'tron', 'bnb', 'matic'.
    Returns balance amount, symbol, and current USD value."""</span>
    inputs = {
        <span class="st">"chain"</span>: {
            <span class="st">"type"</span>: <span class="st">"string"</span>,
            <span class="st">"description"</span>: <span class="st">"Blockchain to query: eth | btc | sol | tron | bnb | matic"</span>
        }
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, chain: <span class="cls">str</span>) -> <span class="cls">str</span>:
        r = requests.get(<span class="st">f"{BASE}/wallet/balance"</span>,
            params={<span class="st">"chain"</span>: chain}, headers=<span class="fn">_headers</span>())
        r.raise_for_status()
        d = r.json()
        <span class="kw">return</span> <span class="st">f"Balance on {chain.upper()}: {d['balance']} {d['symbol']} (${d['usd_value']:,.2f} USD)"</span>

<span class="kw">class</span> <span class="cls">WalletSwapTool</span>(Tool):
    <span class="st">"""Swap tokens using Purple Flea's best-rate routing engine.
    Supports cross-chain and same-chain swaps.
    Returns swap quote, actual received amount, and transaction hash."""</span>
    name = <span class="st">"wallet_swap"</span>
    description = <span class="st">"""Swap tokens using best-rate routing. Supports cross-chain swaps.
    Specify from_token, to_token (e.g. 'ETH', 'USDC', 'BTC'), and amount.
    Returns the received amount and transaction hash."""</span>
    inputs = {
        <span class="st">"from_token"</span>: {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Token symbol to sell e.g. 'ETH'"</span>},
        <span class="st">"to_token"</span>:   {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Token symbol to receive e.g. 'USDC'"</span>},
        <span class="st">"amount"</span>:     {<span class="st">"type"</span>: <span class="st">"number"</span>, <span class="st">"description"</span>: <span class="st">"Amount of from_token to swap"</span>}
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, from_token: <span class="cls">str</span>, to_token: <span class="cls">str</span>, amount: <span class="cls">float</span>) -> <span class="cls">str</span>:
        r = requests.post(<span class="st">f"{BASE}/wallet/swap"</span>, headers=<span class="fn">_headers</span>(),
            json={<span class="st">"from_token"</span>: from_token, <span class="st">"to_token"</span>: to_token, <span class="st">"amount"</span>: amount})
        r.raise_for_status()
        d = r.json()
        <span class="kw">return</span> <span class="st">f"Swapped {amount} {from_token} -> {d['received']} {to_token}. TX: {d['tx_hash']}"</span>
      </div>
    </div>

    <div class="reveal reveal-d1">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">purpleflea_tools.py — DomainSearchTool &amp; DomainRegisterTool</span>
        </div>
<span class="kw">class</span> <span class="cls">DomainSearchTool</span>(Tool):
    <span class="st">"""Search for domain name availability and pricing on Purple Flea.
    Checks availability across all major TLDs (.com, .io, .xyz, .ai, etc).
    Returns availability status, price in USD, and suggested alternatives."""</span>
    name = <span class="st">"domain_search"</span>
    description = <span class="st">"""Check if a domain name is available for registration and get its price.
    Returns availability, registration price in USD, and TLD alternatives.
    Example: domain_search('purpleflea.com') or domain_search('myagent.io')"""</span>
    inputs = {
        <span class="st">"domain"</span>: {
            <span class="st">"type"</span>: <span class="st">"string"</span>,
            <span class="st">"description"</span>: <span class="st">"Full domain to search e.g. 'example.com' or 'myproject.io'"</span>
        }
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, domain: <span class="cls">str</span>) -> <span class="cls">str</span>:
        r = requests.get(<span class="st">f"{BASE}/domains/search"</span>,
            params={<span class="st">"domain"</span>: domain}, headers=<span class="fn">_headers</span>())
        r.raise_for_status()
        d = r.json()
        status = <span class="st">"AVAILABLE"</span> <span class="kw">if</span> d[<span class="st">"available"</span>] <span class="kw">else</span> <span class="st">"TAKEN"</span>
        alts = <span class="st">", "</span>.join(d.get(<span class="st">"alternatives"</span>, []))
        <span class="kw">return</span> <span class="st">f"{domain} is {status}. Price: ${d['price_usd']}/yr. Alternatives: {alts}"</span>

<span class="kw">class</span> <span class="cls">DomainRegisterTool</span>(Tool):
    <span class="st">"""Register a domain name on Purple Flea, paid with crypto from the agent's wallet.
    Supports all major TLDs. Auto-sets DNS to Purple Flea nameservers.
    Returns registration confirmation and domain expiry date."""</span>
    name = <span class="st">"domain_register"</span>
    description = <span class="st">"""Register a domain and pay with crypto from the agent's wallet.
    The domain must first be confirmed available via domain_search.
    Returns confirmation, expiry date, and nameserver info."""</span>
    inputs = {
        <span class="st">"domain"</span>: {<span class="st">"type"</span>: <span class="st">"string"</span>, <span class="st">"description"</span>: <span class="st">"Full domain to register e.g. 'myagent.io'"</span>},
        <span class="st">"years"</span>:  {<span class="st">"type"</span>: <span class="st">"number"</span>, <span class="st">"description"</span>: <span class="st">"Registration period in years (1-10)"</span>}
    }
    output_type = <span class="st">"string"</span>

    <span class="kw">def</span> <span class="fn">forward</span>(self, domain: <span class="cls">str</span>, years: <span class="cls">int</span> = <span class="num">1</span>) -> <span class="cls">str</span>:
        r = requests.post(<span class="st">f"{BASE}/domains/register"</span>, headers=<span class="fn">_headers</span>(),
            json={<span class="st">"domain"</span>: domain, <span class="st">"years"</span>: years})
        r.raise_for_status()
        d = r.json()
        <span class="kw">return</span> <span class="st">f"Registered {domain} for {years}yr(s). Expires: {d['expires']}. NS: {d['nameservers'][0]}"</span>
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- COMPLETE AGENT EXAMPLE -->
<section id="agent-example">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Complete Agent Example</div>
      <h2 class="section-title">CodeAgent with all<br>Purple Flea tools.</h2>
      <p class="section-desc">
        A full SmolAgents <ic>CodeAgent</ic> wired with all eight Purple Flea tools. The agent writes Python to call tools, chain results, and reason across steps. Works with GPT-4o or any HuggingFace model.
      </p>
    </div>
    <div class="reveal reveal-d1">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">agent.py</span>
        </div>
<span class="kw">import</span> os
<span class="kw">from</span> smolagents <span class="kw">import</span> CodeAgent, LiteLLMModel, HfApiModel
<span class="kw">from</span> purpleflea_tools <span class="kw">import</span> (
    CasinoRegisterTool, CasinoBetTool,
    TradingRegisterTool, TradingOpenPositionTool,
    WalletBalanceTool, WalletSwapTool,
    DomainSearchTool, DomainRegisterTool,
)

os.environ[<span class="st">"PURPLEFLEA_API_KEY"</span>] = <span class="st">"pf_sk_your_key_here"</span>
os.environ[<span class="st">"OPENAI_API_KEY"</span>]     = <span class="st">"sk-..."</span>

<span class="cm"># Use GPT-4o via LiteLLM — or swap for HfApiModel("Qwen/Qwen2.5-72B-Instruct")</span>
model = LiteLLMModel(model_id=<span class="st">"gpt-4o"</span>)

agent = CodeAgent(
    tools=[
        CasinoRegisterTool(),
        CasinoBetTool(),
        TradingRegisterTool(),
        TradingOpenPositionTool(),
        WalletBalanceTool(),
        WalletSwapTool(),
        DomainSearchTool(),
        DomainRegisterTool(),
    ],
    model=model,
    max_steps=<span class="num">10</span>,
)

<span class="cm"># Run the agent — it plans and executes multi-step financial operations</span>
result = agent.run(
    <span class="st">"""Check my ETH trading balance and place a small bet at the casino if profitable.
    If the bet wins, open a BTC-PERP long position for half the winnings."""</span>
)
<span class="fn">print</span>(result)
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- RUNNING THE AGENT -->
<section id="running">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Running the Agent</div>
      <h2 class="section-title">Ask it to check balances<br>and act on the result.</h2>
      <p class="section-desc">SmolAgents' <ic>CodeAgent</ic> writes Python step by step. It reads tool outputs, does arithmetic, and decides what to call next &mdash; all from a single <ic>agent.run()</ic> call.</p>
    </div>
    <div class="grid-2 reveal reveal-d1" style="gap:28px;">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">run_example.py</span>
        </div>
<span class="cm"># Natural-language task: the agent figures out the steps</span>
result = agent.run(
    <span class="st">"""Check my trading balance and place a bet
    if the balance is above $100. Report the outcome."""</span>
)

<span class="cm"># The CodeAgent generates and executes something like:</span>
<span class="cm"># balance = wallet_balance(chain='eth')</span>
<span class="cm"># usd = float(balance.split('$')[1].split()[0])</span>
<span class="cm"># if usd > 100:</span>
<span class="cm">#     pid = casino_register(username='agent')</span>
<span class="cm">#     result = casino_bet(game='coinflip',</span>
<span class="cm">#                         amount=5, choice='heads',</span>
<span class="cm">#                         player_id=pid.split('=')[1])</span>
<span class="cm"># final_answer(result)</span>
      </div>
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">open_source_model.py</span>
        </div>
<span class="kw">from</span> smolagents <span class="kw">import</span> CodeAgent, HfApiModel

<span class="cm"># Swap LiteLLMModel for any HF Hub model</span>
agent = CodeAgent(
    tools=[
        WalletBalanceTool(),
        TradingOpenPositionTool(),
    ],
    model=HfApiModel(
        <span class="st">"Qwen/Qwen2.5-72B-Instruct"</span>
        <span class="cm"># Also: "meta-llama/Llama-3.3-70B-Instruct"</span>
        <span class="cm"># Also: "mistralai/Mistral-7B-Instruct-v0.3"</span>
    ),
)

result = agent.run(
    <span class="st">"What is my ETH balance? Open a small SOL-PERP long."</span>
)
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- TOOL SCHEMAS -->
<section id="schemas">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Tool Schemas</div>
      <h2 class="section-title">SmolAgents tool schema<br>format reference.</h2>
      <p class="section-desc">SmolAgents auto-generates JSON schemas from <ic>inputs</ic> and <ic>output_type</ic> declarations. The LLM sees these schemas to decide which tools to call and with what arguments.</p>
    </div>
    <div class="reveal reveal-d1">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">schema_reference.py — all 8 Purple Flea tool schemas</span>
        </div>
<span class="cm"># SmolAgents exposes tool.to_dict() — example schemas for all 8 tools:</span>

TOOL_SCHEMAS = [
    {<span class="st">"name"</span>: <span class="st">"casino_register"</span>,         <span class="st">"inputs"</span>: {<span class="st">"username"</span>: <span class="st">"string"</span>},                                                   <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"casino_bet"</span>,              <span class="st">"inputs"</span>: {<span class="st">"game"</span>: <span class="st">"string"</span>, <span class="st">"amount"</span>: <span class="st">"number"</span>, <span class="st">"choice"</span>: <span class="st">"string"</span>, <span class="st">"player_id"</span>: <span class="st">"string"</span>},  <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"trading_register"</span>,        <span class="st">"inputs"</span>: {<span class="st">"account_name"</span>: <span class="st">"string"</span>},                                              <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"trading_open_position"</span>,   <span class="st">"inputs"</span>: {<span class="st">"market"</span>: <span class="st">"string"</span>, <span class="st">"side"</span>: <span class="st">"string"</span>, <span class="st">"size_usd"</span>: <span class="st">"number"</span>, <span class="st">"leverage"</span>: <span class="st">"number"</span>, <span class="st">"account_id"</span>: <span class="st">"string"</span>}, <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"wallet_balance"</span>,          <span class="st">"inputs"</span>: {<span class="st">"chain"</span>: <span class="st">"string"</span>},                                                   <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"wallet_swap"</span>,             <span class="st">"inputs"</span>: {<span class="st">"from_token"</span>: <span class="st">"string"</span>, <span class="st">"to_token"</span>: <span class="st">"string"</span>, <span class="st">"amount"</span>: <span class="st">"number"</span>},   <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"domain_search"</span>,           <span class="st">"inputs"</span>: {<span class="st">"domain"</span>: <span class="st">"string"</span>},                                                   <span class="st">"output_type"</span>: <span class="st">"string"</span>},
    {<span class="st">"name"</span>: <span class="st">"domain_register"</span>,         <span class="st">"inputs"</span>: {<span class="st">"domain"</span>: <span class="st">"string"</span>, <span class="st">"years"</span>: <span class="st">"number"</span>},                              <span class="st">"output_type"</span>: <span class="st">"string"</span>},
]

<span class="cm"># Inspect any tool's live schema at runtime:</span>
<span class="kw">from</span> purpleflea_tools <span class="kw">import</span> WalletBalanceTool
tool = WalletBalanceTool()
<span class="fn">print</span>(tool.to_dict())
<span class="cm"># {'name': 'wallet_balance', 'description': '...', 'inputs': {'chain': {'type': 'string', ...}}, 'output_type': 'string'}</span>
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- MULTI-STEP EXAMPLE -->
<section id="multi-step">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Multi-Step Example</div>
      <h2 class="section-title">Earn from casino,<br>then buy a domain.</h2>
      <p class="section-desc">SmolAgents' <ic>CodeAgent</ic> chains arbitrarily complex multi-step operations within a single <ic>agent.run()</ic> call. Here an agent plays casino, banks winnings, and registers a domain &mdash; all autonomously.</p>
    </div>
    <div class="reveal reveal-d1">
      <div class="code-block">
        <div class="code-header">
          <div class="cd r"></div><div class="cd y"></div><div class="cd g"></div>
          <span class="fname">casino_to_domain.py</span>
        </div>
<span class="kw">from</span> smolagents <span class="kw">import</span> CodeAgent, LiteLLMModel
<span class="kw">from</span> purpleflea_tools <span class="kw">import</span> (
    CasinoRegisterTool, CasinoBetTool,
    WalletBalanceTool, WalletSwapTool,
    DomainSearchTool, DomainRegisterTool,
)

model = LiteLLMModel(model_id=<span class="st">"gpt-4o"</span>)

agent = CodeAgent(
    tools=[
        CasinoRegisterTool(),
        CasinoBetTool(),
        WalletBalanceTool(),
        WalletSwapTool(),
        DomainSearchTool(),
        DomainRegisterTool(),
    ],
    model=model,
    max_steps=<span class="num">15</span>,
)

<span class="cm"># The agent autonomously:</span>
<span class="cm">#  1. Registers as a casino player</span>
<span class="cm">#  2. Places a coinflip bet for $10</span>
<span class="cm">#  3. If it wins, checks available balance</span>
<span class="cm">#  4. Searches whether 'agentwinnings.io' is available</span>
<span class="cm">#  5. If available, registers the domain for 1 year</span>
<span class="cm">#  6. Reports the full outcome</span>
result = agent.run(
    <span class="st">"""Register as a casino player, place a $10 coinflip bet on heads.
    If you win, search for 'agentwinnings.io' domain availability.
    If the domain is available and costs less than your winnings, register it.
    Report everything that happened, including balances before and after."""</span>
)

<span class="fn">print</span>(result)
<span class="cm"># Example output:</span>
<span class="cm"># "Registered as casino player (id: p_8xk2). Bet $10 on coinflip heads — WON $19.00.</span>
<span class="cm">#  agentwinnings.io is AVAILABLE at $14.99/yr. Registered for 1 year.</span>
<span class="cm">#  Net result: started with $100 ETH balance, ended with $104.01 + new domain."</span>
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<!-- TOOLS REFERENCE TABLE -->
<section id="reference">
  <div class="container">
    <div class="reveal">
      <div class="section-label">Tool Reference</div>
      <h2 class="section-title">Every tool. Every API.</h2>
      <p class="section-desc">All tools extend SmolAgents' <ic>Tool</ic> base class with typed inputs, output_type declarations, and descriptive docstrings that guide the LLM.</p>
    </div>
    <div class="tools-wrap reveal reveal-d1">
      <table class="tools-table">
        <thead>
          <tr>
            <th>Tool Class</th>
            <th>API</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td class="tn">CasinoRegisterTool</td><td><span class="badge b-casino">Casino</span></td><td class="td">Register agent as casino player, returns player_id</td></tr>
          <tr><td class="tn">CasinoBetTool</td><td><span class="badge b-casino">Casino</span></td><td class="td">Place provably fair bets: dice, coinflip, roulette, crash</td></tr>
          <tr><td class="tn">TradingRegisterTool</td><td><span class="badge b-trading">Trading</span></td><td class="td">Create a perpetual futures sub-account, returns account_id</td></tr>
          <tr><td class="tn">TradingOpenPositionTool</td><td><span class="badge b-trading">Trading</span></td><td class="td">Open long or short on any of 275 perpetual markets (1-50x)</td></tr>
          <tr><td class="tn">WalletBalanceTool</td><td><span class="badge b-wallet">Wallet</span></td><td class="td">Get token balance on ETH, BTC, SOL, TRON, BNB, MATIC</td></tr>
          <tr><td class="tn">WalletSwapTool</td><td><span class="badge b-wallet">Wallet</span></td><td class="td">Cross-chain and same-chain token swaps via best-rate routing</td></tr>
          <tr><td class="tn">DomainSearchTool</td><td><span class="badge b-domains">Domains</span></td><td class="td">Check domain availability and registration price</td></tr>
          <tr><td class="tn">DomainRegisterTool</td><td><span class="badge b-domains">Domains</span></td><td class="td">Register a domain and pay with crypto from the wallet</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<hr class="divider">

<!-- RELATED -->
<section>
  <div class="container">
    <div class="reveal">
      <div class="section-label">Also available</div>
      <h2 class="section-title">More integrations.</h2>
    </div>
    <div class="related-grid reveal reveal-d1">
      <a href="/for-langchain/" class="related-card">
        <div class="rc-label">LangChain</div>
        <div class="rc-title">Purple Flea for LangChain</div>
        <div class="rc-desc">BaseTool wrappers for LangChain agents and chains</div>
      </a>
      <a href="/for-crewai/" class="related-card">
        <div class="rc-label">CrewAI</div>
        <div class="rc-title">Purple Flea for CrewAI</div>
        <div class="rc-desc">@tool decorators for multi-agent crews</div>
      </a>
      <a href="/python-sdk/" class="related-card">
        <div class="rc-label">Python SDK</div>
        <div class="rc-title">Purple Flea Python SDK</div>
        <div class="rc-desc">Direct API access without an agent framework</div>
      </a>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="container">
    <div class="cta-box reveal">
      <h2>Give your SmolAgent<br>a <span style="color:var(--purple)">financial superpower.</span></h2>
      <p>Free to start. Open-source model compatible. Earn commissions on every call your agent makes.</p>
      <div class="hero-actions">
        <a href="https://wallet.purpleflea.com" class="btn-primary" target="_blank">Register your agent &rarr;</a>
        <a href="/docs" class="btn-secondary">Read the docs</a>
      </div>
    </div>
  </div>
</section>

<hr class="divider">

<footer>
  <div class="container">
    <div class="footer-top">
      <div class="footer-brand">
        <a href="/" class="nav-logo">
          <div class="nav-logo-icon">&#9830;</div>
          Purple Flea
        </a>
        <p>AI-first infrastructure for autonomous agents. Built for machines, verified by math.</p>
      </div>
      <div class="footer-cols">
        <div class="footer-col">
          <h4>Products</h4>
          <ul>
            <li><a href="https://casino.purpleflea.com" target="_blank">Casino</a></li>
            <li><a href="https://trading.purpleflea.com" target="_blank">Trading</a></li>
            <li><a href="https://wallet.purpleflea.com" target="_blank">Wallet</a></li>
            <li><a href="https://domains.purpleflea.com" target="_blank">Domains</a></li>
            <li><a href="/crypto-wallet-api/">Wallet API Docs</a></li>
            <li><a href="/trading-api/">Trading API Docs</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Developers</h4>
          <ul>
            <li><a href="/docs">Docs</a></li>
            <li><a href="/for-agents">For Agents</a></li>
            <li><a href="/for-langchain/">LangChain</a></li>
            <li><a href="/for-crewai/">CrewAI</a></li>
            <li><a href="/for-smolagents/">SmolAgents</a></li>
            <li><a href="/for-dspy/">DSPy</a></li>
            <li><a href="/quick-start">Quick Start</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Company</h4>
          <ul>
            <li><a href="/pricing">Pricing</a></li>
            <li><a href="/stats">Stats</a></li>
            <li><a href="/changelog">Changelog</a></li>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="mailto:hello@purpleflea.com">Contact</a></li>
            <li><a href="https://github.com/Purple-flea" target="_blank">GitHub</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Purple Flea. All rights reserved.</p>
      <div class="footer-social">
        <a href="https://github.com/Purple-flea" target="_blank">GitHub</a>
        <a href="https://x.com/purpleflea" target="_blank">X / Twitter</a>
      </div>
    </div>
  </div>
</footer>

<script>
const nav = document.getElementById('navbar');
window.addEventListener('scroll', () => { nav.classList.toggle('scrolled', window.scrollY > 50); }, { passive: true });
const obs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } });
}, { threshold: 0.08, rootMargin: '0px 0px -40px 0px' });
document.querySelectorAll('.reveal').forEach(el => obs.observe(el));
</script>
</body>
</html>
