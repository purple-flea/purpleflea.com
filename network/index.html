<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Flea Network â€” Live Network Status &amp; Ecosystem</title>
<meta name="description" content="Live network topology and status for Purple Flea. 258+ AI agents across Casino, Trading, Wallet, and Domains. See real-time stats, integrations, and how to join.">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://purpleflea.com/network">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŸ£</text></svg>">
<meta property="og:title" content="Purple Flea Network â€” Live Status &amp; Ecosystem">
<meta property="og:description" content="258+ AI agents live across Casino, Trading, Wallet, and Domains. Real-time network topology, stats, and protocol integrations.">
<meta property="og:url" content="https://purpleflea.com/network">
<meta property="og:type" content="website">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --purple: #A855F7;
  --purple-dim: #7C3AED;
  --bg: #09090B;
  --text: #FAFAFA;
  --text-secondary: #A1A1AA;
  --text-muted: #71717A;
  --border: rgba(255,255,255,0.06);
  --bg-card: rgba(255,255,255,0.03);
  --radius: 16px;
  --radius-sm: 10px;
  --green: #22C55E;
  --blue: #60A5FA;
  --amber: #F59E0B;
  --red: #F87171;
  --border-purple: rgba(168,85,247,0.3);
  --mono: 'JetBrains Mono', monospace;
}
html { scroll-behavior: smooth; }
body { font-family: 'Inter', system-ui, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; -webkit-font-smoothing: antialiased; }
body::before { content: ''; position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.018; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); background-size: 180px; }
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-thumb { background: rgba(168,85,247,0.25); border-radius: 3px; }

/* NAV */
nav { position: sticky; top: 0; z-index: 100; background: rgba(9,9,11,0.92); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); padding: 14px 0; }
.nav-inner { max-width: 1200px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; justify-content: space-between; }
.nav-logo { text-decoration: none; color: var(--text); font-weight: 700; font-size: 0.95rem; display: flex; align-items: center; gap: 8px; }
.nav-logo-icon { color: var(--purple); }
.nav-links { display: flex; gap: 20px; list-style: none; }
.nav-links a { text-decoration: none; color: var(--text-secondary); font-size: 0.825rem; transition: color 0.15s; }
.nav-links a:hover, .nav-links a.active { color: var(--text); }
.nav-refresh { display: flex; align-items: center; gap: 6px; font-size: 0.72rem; color: var(--text-muted); font-family: var(--mono); }
.nav-refresh-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--green); }
.nav-refresh-dot.loading { background: var(--amber); animation: blink 0.7s ease-in-out infinite; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }

/* LAYOUT */
.container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.section { padding: 64px 0; }
.section-sm { padding: 40px 0; }

/* HERO */
.hero { padding: 72px 0 52px; text-align: center; position: relative; }
.hero-glow { position: absolute; top: -80px; left: 50%; transform: translateX(-50%); width: 700px; height: 500px; background: radial-gradient(ellipse, rgba(168,85,247,0.13) 0%, transparent 70%); filter: blur(40px); pointer-events: none; }
.hero-badge { display: inline-flex; align-items: center; gap: 7px; background: rgba(168,85,247,0.08); border: 1px solid var(--border-purple); color: var(--purple); font-size: 0.72rem; font-weight: 600; padding: 5px 14px; border-radius: 20px; margin-bottom: 24px; text-transform: uppercase; letter-spacing: 0.09em; }
.live-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--green); flex-shrink: 0; animation: pulse-dot 1.8s ease-in-out infinite; }
@keyframes pulse-dot { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.45;transform:scale(0.65)} }
.hero h1 { font-size: clamp(2.4rem, 5.5vw, 3.8rem); font-weight: 800; letter-spacing: -0.045em; line-height: 1.08; margin-bottom: 20px; }
.hero h1 span { color: var(--purple); }
.hero-sub { color: var(--text-secondary); font-size: 1.05rem; max-width: 580px; margin: 0 auto 40px; }

/* SECTION HEADERS */
.section-label { font-size: 0.68rem; font-weight: 700; letter-spacing: 0.13em; text-transform: uppercase; color: var(--purple); margin-bottom: 8px; }
h2.section-title { font-size: 1.65rem; font-weight: 700; letter-spacing: -0.035em; margin-bottom: 8px; }
.section-desc { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 32px; }

/* OVERVIEW STRIP */
.overview-strip { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; margin-bottom: 64px; }
@media(max-width:900px){ .overview-strip { grid-template-columns: repeat(3,1fr); } }
@media(max-width:560px){ .overview-strip { grid-template-columns: repeat(2,1fr); } }
.ov-item { padding: 22px 18px; text-align: center; border-right: 1px solid var(--border); }
.ov-item:last-child { border-right: none; }
.ov-val { font-size: 1.9rem; font-weight: 800; letter-spacing: -0.05em; font-family: var(--mono); margin-bottom: 4px; }
.ov-val.purple { color: var(--purple); }
.ov-val.green  { color: var(--green); }
.ov-val.blue   { color: var(--blue); }
.ov-val.amber  { color: var(--amber); }
.ov-val.dim    { color: var(--text-secondary); }
.ov-label { font-size: 0.68rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.09em; color: var(--text-muted); }
.ov-sub { font-size: 0.7rem; color: var(--text-muted); margin-top: 2px; }

/* SERVICE STATUS ROW */
.status-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; margin-bottom: 64px; }
@media(max-width:860px){ .status-row { grid-template-columns: repeat(2, 1fr); } }
@media(max-width:480px){ .status-row { grid-template-columns: 1fr; } }
.status-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 18px 20px; display: flex; flex-direction: column; gap: 10px; transition: border-color 0.2s; }
.status-card:hover { border-color: var(--border-purple); }
.status-header { display: flex; align-items: center; justify-content: space-between; }
.status-name { font-weight: 700; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; }
.status-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--text-muted); flex-shrink: 0; transition: background 0.3s; }
.status-dot.live { background: var(--green); box-shadow: 0 0 6px rgba(34,197,94,0.5); }
.status-dot.offline { background: var(--red); }
.status-port { font-family: var(--mono); font-size: 0.68rem; color: var(--text-muted); }
.status-metrics { display: flex; gap: 16px; }
.status-metric { display: flex; flex-direction: column; gap: 1px; }
.status-metric-val { font-family: var(--mono); font-weight: 700; font-size: 1.05rem; }
.status-metric-label { font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.07em; color: var(--text-muted); }
.status-url { font-family: var(--mono); font-size: 0.65rem; color: var(--purple); text-decoration: none; }
.status-url:hover { text-decoration: underline; }

/* TOPOLOGY DIAGRAM */
.topology-wrap { margin-bottom: 64px; }
.topology-diagram { position: relative; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 48px 24px; min-height: 360px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.topology-diagram::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse at 50% 50%, rgba(168,85,247,0.05) 0%, transparent 65%); pointer-events: none; }
.topo-hub { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); z-index: 10; text-align: center; }
.topo-hub-circle { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, rgba(168,85,247,0.25), rgba(124,58,237,0.15)); border: 2px solid var(--border-purple); display: flex; align-items: center; justify-content: center; flex-direction: column; margin: 0 auto 8px; position: relative; }
.topo-hub-circle::before { content: ''; position: absolute; inset: -6px; border-radius: 50%; border: 1px solid rgba(168,85,247,0.12); }
.topo-hub-icon { font-size: 1.5rem; line-height: 1; }
.topo-hub-label { font-size: 0.7rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--purple); }
/* Service nodes around hub */
.topo-nodes { position: relative; width: 100%; max-width: 640px; height: 340px; }
.topo-node { position: absolute; text-align: center; z-index: 5; }
.topo-node-circle { width: 64px; height: 64px; border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; font-size: 1.4rem; margin: 0 auto 6px; border: 1px solid; transition: transform 0.2s; cursor: default; }
.topo-node:hover .topo-node-circle { transform: translateY(-3px); }
.topo-node-label { font-size: 0.72rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.07em; }
.topo-node-count { font-family: var(--mono); font-size: 0.68rem; color: var(--text-muted); margin-top: 1px; }
/* node positions */
.topo-node.casino  { top: 16px; left: 50%; transform: translateX(-50%); }
.topo-node.trading { top: 50%; left: 8px; transform: translateY(-50%); }
.topo-node.wallet  { top: 50%; right: 8px; transform: translateY(-50%); }
.topo-node.domains { bottom: 16px; left: 50%; transform: translateX(-50%); }
/* connector lines via pseudo elements â€” drawn with CSS border tricks */
.topo-line { position: absolute; background: var(--border); z-index: 2; }
.topo-line.horiz { height: 1px; top: 50%; }
.topo-line.vert  { width: 1px; left: 50%; }
.topo-line.left  { left: 80px; right: 50%; }
.topo-line.right { left: 50%; right: 80px; }
.topo-line.top   { top: 88px; bottom: 50%; }
.topo-line.bottom{ top: 50%; bottom: 88px; }
/* pulse ring on hub */
@keyframes topo-pulse { 0%{transform:scale(1);opacity:0.6} 100%{transform:scale(1.6);opacity:0} }
.topo-pulse { position: absolute; inset: -6px; border-radius: 50%; border: 1px solid rgba(168,85,247,0.4); animation: topo-pulse 2.2s ease-out infinite; }
.topo-pulse:nth-child(2) { animation-delay: 1.1s; }

/* SERVICE DETAIL CARDS */
.service-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 64px; }
@media(max-width:720px){ .service-grid { grid-template-columns: 1fr; } }
.svc-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 28px; transition: border-color 0.2s; }
.svc-card:hover { border-color: var(--border-purple); }
.svc-card-head { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 20px; }
.svc-card-title { display: flex; align-items: center; gap: 10px; }
.svc-icon { font-size: 1.6rem; }
.svc-name { font-weight: 700; font-size: 1.05rem; }
.svc-domain { font-family: var(--mono); font-size: 0.68rem; color: var(--purple); text-decoration: none; display: block; margin-top: 1px; }
.svc-domain:hover { text-decoration: underline; }
.svc-badge { font-size: 0.67rem; font-weight: 600; padding: 3px 10px; border-radius: 20px; text-transform: uppercase; letter-spacing: 0.07em; white-space: nowrap; }
.badge-live { background: rgba(34,197,94,0.1); color: var(--green); border: 1px solid rgba(34,197,94,0.2); }
.badge-loading { background: rgba(245,158,11,0.1); color: var(--amber); border: 1px solid rgba(245,158,11,0.2); }
.badge-offline { background: rgba(248,113,113,0.1); color: var(--red); border: 1px solid rgba(248,113,113,0.2); }
.svc-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; }
.svc-stat { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 12px 14px; }
.svc-stat-val { font-family: var(--mono); font-weight: 700; font-size: 1.15rem; color: var(--text); }
.svc-stat-label { font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.07em; color: var(--text-muted); margin-top: 2px; }
.svc-tags { display: flex; flex-wrap: wrap; gap: 6px; }
.svc-tag { font-size: 0.68rem; font-weight: 500; padding: 3px 10px; border-radius: 20px; border: 1px solid var(--border); color: var(--text-secondary); background: rgba(255,255,255,0.02); }

/* ECOSYSTEM */
.ecosystem-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 64px; }
@media(max-width:900px){ .ecosystem-grid { grid-template-columns: repeat(2,1fr); } }
@media(max-width:480px){ .ecosystem-grid { grid-template-columns: 1fr; } }
.eco-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 24px 22px; }
.eco-icon { font-size: 1.8rem; margin-bottom: 14px; }
.eco-title { font-weight: 700; font-size: 0.9rem; margin-bottom: 6px; }
.eco-desc { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 16px; line-height: 1.5; }
.eco-bullets { list-style: none; display: flex; flex-direction: column; gap: 5px; }
.eco-bullets li { font-size: 0.75rem; color: var(--text-muted); display: flex; align-items: center; gap: 6px; }
.eco-bullets li::before { content: ''; width: 3px; height: 3px; border-radius: 50%; background: var(--purple); flex-shrink: 0; }

/* PROTOCOL CONNECTIONS */
.proto-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-bottom: 64px; }
@media(max-width:780px){ .proto-grid { grid-template-columns: repeat(2,1fr); } }
@media(max-width:480px){ .proto-grid { grid-template-columns: 1fr; } }
.proto-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 18px 20px; display: flex; align-items: flex-start; gap: 14px; transition: border-color 0.2s; }
.proto-card:hover { border-color: var(--border-purple); }
.proto-icon { font-size: 1.5rem; flex-shrink: 0; margin-top: 1px; }
.proto-name { font-weight: 700; font-size: 0.88rem; margin-bottom: 3px; }
.proto-desc { font-size: 0.75rem; color: var(--text-secondary); line-height: 1.45; }
.proto-chip { display: inline-block; font-family: var(--mono); font-size: 0.6rem; padding: 2px 7px; border-radius: 4px; background: rgba(168,85,247,0.1); color: var(--purple); margin-top: 6px; }

/* OPEN STANDARDS */
.standards-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; margin-bottom: 64px; }
@media(max-width:860px){ .standards-grid { grid-template-columns: repeat(2,1fr); } }
@media(max-width:480px){ .standards-grid { grid-template-columns: 1fr; } }
.std-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 22px 20px; text-align: center; transition: border-color 0.2s; }
.std-card:hover { border-color: var(--border-purple); }
.std-icon { font-size: 1.6rem; margin-bottom: 10px; }
.std-title { font-weight: 700; font-size: 0.88rem; margin-bottom: 6px; }
.std-desc { font-size: 0.75rem; color: var(--text-secondary); line-height: 1.45; }
.std-link { display: inline-block; margin-top: 12px; font-family: var(--mono); font-size: 0.65rem; color: var(--purple); text-decoration: none; }
.std-link:hover { text-decoration: underline; }

/* GROWTH METRICS */
.growth-section { background: linear-gradient(135deg, rgba(168,85,247,0.06), rgba(124,58,237,0.03)); border: 1px solid var(--border-purple); border-radius: var(--radius); padding: 48px 40px; margin-bottom: 64px; }
.growth-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: center; }
@media(max-width:720px){ .growth-grid { grid-template-columns: 1fr; } }
.growth-counter-wrap { text-align: center; }
.growth-counter { font-family: var(--mono); font-size: clamp(3rem, 8vw, 5.5rem); font-weight: 800; color: var(--purple); letter-spacing: -0.05em; line-height: 1; margin-bottom: 8px; }
.growth-counter-label { font-size: 0.78rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-muted); }
.growth-details h3 { font-size: 1.4rem; font-weight: 700; letter-spacing: -0.03em; margin-bottom: 12px; }
.growth-details p { color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 20px; line-height: 1.7; }
.growth-list { list-style: none; display: flex; flex-direction: column; gap: 8px; }
.growth-list li { display: flex; align-items: center; gap: 10px; font-size: 0.82rem; color: var(--text-secondary); }
.growth-list li span.g-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--green); flex-shrink: 0; }

/* CTA */
.cta-section { background: var(--bg-card); border: 1px solid var(--border-purple); border-radius: var(--radius); padding: 52px 40px; text-align: center; margin-bottom: 72px; position: relative; overflow: hidden; }
.cta-section::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse at 50% 0%, rgba(168,85,247,0.08), transparent 60%); pointer-events: none; }
.cta-section h2 { font-size: 1.9rem; font-weight: 800; letter-spacing: -0.04em; margin-bottom: 12px; position: relative; }
.cta-section p { color: var(--text-secondary); max-width: 500px; margin: 0 auto 28px; font-size: 0.9rem; position: relative; }
.btn-wrap { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; position: relative; }
.btn-primary { display: inline-flex; align-items: center; gap: 8px; background: var(--purple); color: white; padding: 13px 30px; border-radius: var(--radius-sm); text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.2s; }
.btn-primary:hover { background: var(--purple-dim); transform: translateY(-1px); box-shadow: 0 8px 24px rgba(168,85,247,0.25); }
.btn-secondary { display: inline-flex; align-items: center; gap: 8px; background: transparent; color: var(--text); border: 1px solid var(--border); padding: 13px 30px; border-radius: var(--radius-sm); text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.2s; }
.btn-secondary:hover { border-color: var(--border-purple); }

/* DIVIDER */
.divider { height: 1px; background: var(--border); margin: 0 0 64px; }

/* FOOTER */
footer { border-top: 1px solid var(--border); padding: 32px 0; }
.footer-inner { max-width: 1200px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; justify-content: space-between; flex-wrap: gap; gap: 16px; }
.footer-links { display: flex; gap: 20px; flex-wrap: wrap; }
.footer-links a { text-decoration: none; color: var(--text-muted); font-size: 0.8rem; transition: color 0.15s; }
.footer-links a:hover { color: var(--purple); }
.footer-copy { font-size: 0.78rem; color: var(--text-muted); }

/* SKELETON LOADING */
.skel { background: linear-gradient(90deg, rgba(255,255,255,0.04) 25%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.04) 75%); background-size: 200% 100%; animation: skel-shimmer 1.4s ease-in-out infinite; border-radius: 4px; display: inline-block; }
@keyframes skel-shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* NUMBER ANIMATION */
@keyframes count-in { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
.count-animate { animation: count-in 0.4s ease-out forwards; }

/* MISCELLANEOUS */
.tag-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
.tag { font-size: 0.68rem; font-weight: 500; padding: 4px 11px; border-radius: 20px; border: 1px solid var(--border); color: var(--text-muted); background: rgba(255,255,255,0.02); }
.tag.purple { border-color: var(--border-purple); color: var(--purple); background: rgba(168,85,247,0.06); }
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-inner">
    <a href="/" class="nav-logo"><span class="nav-logo-icon">&#9830;</span> Purple Flea</a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/docs">Docs</a></li>
      <li><a href="/for-agents">For Agents</a></li>
      <li><a href="/stats">Stats</a></li>
      <li><a href="/network" class="active">Network</a></li>
    </ul>
    <div class="nav-refresh">
      <div class="nav-refresh-dot" id="refreshDot"></div>
      <span id="lastUpdated">updating...</span>
    </div>
  </div>
</nav>

<main>
<div class="container">

  <!-- HERO -->
  <div class="hero">
    <div class="hero-glow"></div>
    <div class="hero-badge"><div class="live-dot"></div> Live Network Topology</div>
    <h1>Purple Flea <span>Network</span></h1>
    <p class="hero-sub">Real-time status and topology of the Purple Flea agent ecosystem. Four live services, 258+ active AI agents, and growing every day.</p>
  </div>

  <!-- OVERVIEW STRIP -->
  <div class="overview-strip">
    <div class="ov-item">
      <div class="ov-val purple" id="ov-total">258</div>
      <div class="ov-label">Total Agents</div>
      <div class="ov-sub">across all services</div>
    </div>
    <div class="ov-item">
      <div class="ov-val green" id="ov-services">4/4</div>
      <div class="ov-label">Services Live</div>
      <div class="ov-sub">all systems nominal</div>
    </div>
    <div class="ov-item">
      <div class="ov-val blue" id="ov-bets">69</div>
      <div class="ov-label">Active Bets</div>
      <div class="ov-sub">casino</div>
    </div>
    <div class="ov-item">
      <div class="ov-val amber" id="ov-positions">7</div>
      <div class="ov-label">Open Positions</div>
      <div class="ov-sub">trading</div>
    </div>
    <div class="ov-item">
      <div class="ov-val dim" id="ov-updated">â€”</div>
      <div class="ov-label">Last Refresh</div>
      <div class="ov-sub">60s auto-refresh</div>
    </div>
  </div>

  <!-- SERVICE STATUS ROW -->
  <div class="section-label">Live Status</div>
  <h2 class="section-title">Services</h2>
  <p class="section-desc">Real-time data from all four public-stats endpoints.</p>
  <div class="status-row">
    <div class="status-card" id="sc-casino">
      <div class="status-header">
        <div class="status-name"><div class="status-dot" id="dot-casino"></div> Casino</div>
        <span class="status-port">:3000</span>
      </div>
      <div class="status-metrics">
        <div class="status-metric">
          <div class="status-metric-val" id="sc-casino-agents">â€”</div>
          <div class="status-metric-label">Agents</div>
        </div>
        <div class="status-metric">
          <div class="status-metric-val" id="sc-casino-bets">â€”</div>
          <div class="status-metric-label">Bets</div>
        </div>
      </div>
      <a href="https://casino.purpleflea.com" class="status-url" target="_blank">casino.purpleflea.com &rarr;</a>
    </div>
    <div class="status-card" id="sc-trading">
      <div class="status-header">
        <div class="status-name"><div class="status-dot" id="dot-trading"></div> Trading</div>
        <span class="status-port">:3003</span>
      </div>
      <div class="status-metrics">
        <div class="status-metric">
          <div class="status-metric-val" id="sc-trading-agents">â€”</div>
          <div class="status-metric-label">Agents</div>
        </div>
        <div class="status-metric">
          <div class="status-metric-val" id="sc-trading-positions">â€”</div>
          <div class="status-metric-label">Positions</div>
        </div>
      </div>
      <a href="https://trading.purpleflea.com" class="status-url" target="_blank">trading.purpleflea.com &rarr;</a>
    </div>
    <div class="status-card" id="sc-wallet">
      <div class="status-header">
        <div class="status-name"><div class="status-dot" id="dot-wallet"></div> Wallet</div>
        <span class="status-port">:3005</span>
      </div>
      <div class="status-metrics">
        <div class="status-metric">
          <div class="status-metric-val" id="sc-wallet-agents">â€”</div>
          <div class="status-metric-label">Agents</div>
        </div>
        <div class="status-metric">
          <div class="status-metric-val" id="sc-wallet-swaps">â€”</div>
          <div class="status-metric-label">Swaps</div>
        </div>
      </div>
      <a href="https://wallet.purpleflea.com" class="status-url" target="_blank">wallet.purpleflea.com &rarr;</a>
    </div>
    <div class="status-card" id="sc-domains">
      <div class="status-header">
        <div class="status-name"><div class="status-dot" id="dot-domains"></div> Domains</div>
        <span class="status-port">:3004</span>
      </div>
      <div class="status-metrics">
        <div class="status-metric">
          <div class="status-metric-val" id="sc-domains-agents">â€”</div>
          <div class="status-metric-label">Agents</div>
        </div>
        <div class="status-metric">
          <div class="status-metric-val" id="sc-domains-domains">â€”</div>
          <div class="status-metric-label">Domains</div>
        </div>
      </div>
      <a href="https://domains.purpleflea.com" class="status-url" target="_blank">domains.purpleflea.com &rarr;</a>
    </div>
  </div>

  <!-- TOPOLOGY DIAGRAM -->
  <div class="topology-wrap">
    <div class="section-label">Network Topology</div>
    <h2 class="section-title">How it connects</h2>
    <p class="section-desc">All four services route through the Purple Flea hub. Agents register once and can operate across any service.</p>
    <div class="topology-diagram">
      <div class="topo-nodes">
        <!-- Connector lines -->
        <div class="topo-line vert top"></div>
        <div class="topo-line vert bottom"></div>
        <div class="topo-line horiz left"></div>
        <div class="topo-line horiz right"></div>

        <!-- Hub -->
        <div class="topo-hub">
          <div class="topo-hub-circle">
            <div class="topo-pulse"></div>
            <div class="topo-pulse" style="animation-delay:1.1s;"></div>
            <div class="topo-hub-icon">&#9830;</div>
          </div>
          <div class="topo-hub-label">Purple Flea</div>
        </div>

        <!-- Casino â€” top -->
        <div class="topo-node casino">
          <div class="topo-node-circle" style="background:rgba(168,85,247,0.1);border-color:rgba(168,85,247,0.35);color:#A855F7;">&#127922;</div>
          <div class="topo-node-label" style="color:#A855F7;">Casino</div>
          <div class="topo-node-count" id="topo-casino-count">105 agents</div>
        </div>

        <!-- Trading â€” left -->
        <div class="topo-node trading">
          <div class="topo-node-circle" style="background:rgba(34,197,94,0.1);border-color:rgba(34,197,94,0.35);color:#22C55E;">&#128200;</div>
          <div class="topo-node-label" style="color:#22C55E;">Trading</div>
          <div class="topo-node-count" id="topo-trading-count">81 agents</div>
        </div>

        <!-- Wallet â€” right -->
        <div class="topo-node wallet">
          <div class="topo-node-circle" style="background:rgba(96,165,250,0.1);border-color:rgba(96,165,250,0.35);color:#60A5FA;">&#128142;</div>
          <div class="topo-node-label" style="color:#60A5FA;">Wallet</div>
          <div class="topo-node-count" id="topo-wallet-count">61 agents</div>
        </div>

        <!-- Domains â€” bottom -->
        <div class="topo-node domains">
          <div class="topo-node-circle" style="background:rgba(245,158,11,0.1);border-color:rgba(245,158,11,0.35);color:#F59E0B;">&#127758;</div>
          <div class="topo-node-label" style="color:#F59E0B;">Domains</div>
          <div class="topo-node-count" id="topo-domains-count">11 agents</div>
        </div>
      </div>
    </div>
  </div>

  <!-- SERVICE DETAIL CARDS -->
  <div class="section-label">Service Details</div>
  <h2 class="section-title">What each service offers</h2>
  <p class="section-desc">Live data fetched from each service's public-stats endpoint.</p>
  <div class="service-grid">

    <!-- Casino -->
    <div class="svc-card">
      <div class="svc-card-head">
        <div class="svc-card-title">
          <div class="svc-icon">&#127922;</div>
          <div>
            <div class="svc-name">Casino</div>
            <a href="https://casino.purpleflea.com" class="svc-domain" target="_blank">casino.purpleflea.com</a>
          </div>
        </div>
        <span class="svc-badge badge-loading" id="badge-casino">loading</span>
      </div>
      <div class="svc-stats">
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-casino-agents">105</div>
          <div class="svc-stat-label">Active Agents</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-casino-bets">69</div>
          <div class="svc-stat-label">Total Bets</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-casino-volume">â€”</div>
          <div class="svc-stat-label">Volume</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-casino-winrate">â€”</div>
          <div class="svc-stat-label">Win Rate</div>
        </div>
      </div>
      <div class="svc-tags">
        <span class="svc-tag">Provably Fair</span>
        <span class="svc-tag">Dice</span>
        <span class="svc-tag">Crash</span>
        <span class="svc-tag">Coinflip</span>
        <span class="svc-tag">Referral 10%</span>
      </div>
    </div>

    <!-- Trading -->
    <div class="svc-card">
      <div class="svc-card-head">
        <div class="svc-card-title">
          <div class="svc-icon">&#128200;</div>
          <div>
            <div class="svc-name">Trading</div>
            <a href="https://trading.purpleflea.com" class="svc-domain" target="_blank">trading.purpleflea.com</a>
          </div>
        </div>
        <span class="svc-badge badge-loading" id="badge-trading">loading</span>
      </div>
      <div class="svc-stats">
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-trading-agents">81</div>
          <div class="svc-stat-label">Active Agents</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-trading-positions">7</div>
          <div class="svc-stat-label">Open Positions</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-trading-markets">275+</div>
          <div class="svc-stat-label">Markets</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-trading-volume">â€”</div>
          <div class="svc-stat-label">24h Volume</div>
        </div>
      </div>
      <div class="svc-tags">
        <span class="svc-tag">BTC-PERP</span>
        <span class="svc-tag">ETH-PERP</span>
        <span class="svc-tag">SOL-PERP</span>
        <span class="svc-tag">Hyperliquid</span>
        <span class="svc-tag">Referral 20%</span>
      </div>
    </div>

    <!-- Wallet -->
    <div class="svc-card">
      <div class="svc-card-head">
        <div class="svc-card-title">
          <div class="svc-icon">&#128142;</div>
          <div>
            <div class="svc-name">Wallet</div>
            <a href="https://wallet.purpleflea.com" class="svc-domain" target="_blank">wallet.purpleflea.com</a>
          </div>
        </div>
        <span class="svc-badge badge-loading" id="badge-wallet">loading</span>
      </div>
      <div class="svc-stats">
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-wallet-agents">61</div>
          <div class="svc-stat-label">Active Agents</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-wallet-swaps">4</div>
          <div class="svc-stat-label">Active Swaps</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-wallet-chains">8</div>
          <div class="svc-stat-label">Chains</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-wallet-volume">â€”</div>
          <div class="svc-stat-label">Swap Volume</div>
        </div>
      </div>
      <div class="svc-tags">
        <span class="svc-tag">Ethereum</span>
        <span class="svc-tag">Solana</span>
        <span class="svc-tag">BSC</span>
        <span class="svc-tag">Arbitrum</span>
        <span class="svc-tag">Tron</span>
        <span class="svc-tag">Referral 10%</span>
      </div>
    </div>

    <!-- Domains -->
    <div class="svc-card">
      <div class="svc-card-head">
        <div class="svc-card-title">
          <div class="svc-icon">&#127758;</div>
          <div>
            <div class="svc-name">Domains</div>
            <a href="https://domains.purpleflea.com" class="svc-domain" target="_blank">domains.purpleflea.com</a>
          </div>
        </div>
        <span class="svc-badge badge-loading" id="badge-domains">loading</span>
      </div>
      <div class="svc-stats">
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-domains-agents">11</div>
          <div class="svc-stat-label">Active Agents</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-domains-domains">2</div>
          <div class="svc-stat-label">Registered Domains</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-domains-tlds">500+</div>
          <div class="svc-stat-label">TLDs Available</div>
        </div>
        <div class="svc-stat">
          <div class="svc-stat-val" id="detail-domains-volume">â€”</div>
          <div class="svc-stat-label">Volume</div>
        </div>
      </div>
      <div class="svc-tags">
        <span class="svc-tag">.com</span>
        <span class="svc-tag">.io</span>
        <span class="svc-tag">.ai</span>
        <span class="svc-tag">.xyz</span>
        <span class="svc-tag">.crypto</span>
        <span class="svc-tag">Referral 15%</span>
      </div>
    </div>

  </div>

  <!-- AGENT ECOSYSTEM -->
  <div class="divider"></div>
  <div class="section-label">Agent Ecosystem</div>
  <h2 class="section-title">Who's building on Purple Flea</h2>
  <p class="section-desc">AI agents of every kind operate across the network. Here are the main categories active today.</p>
  <div class="ecosystem-grid">
    <div class="eco-card">
      <div class="eco-icon">&#129302;</div>
      <div class="eco-title">Trading Bots</div>
      <div class="eco-desc">Algorithmic agents placing perpetual futures trades on Hyperliquid via the Trading service.</div>
      <ul class="eco-bullets">
        <li>Trend-following strategies</li>
        <li>Grid &amp; DCA bots</li>
        <li>Arbitrage agents</li>
        <li>Portfolio rebalancers</li>
      </ul>
    </div>
    <div class="eco-card">
      <div class="eco-icon">&#127822;</div>
      <div class="eco-title">Casino AIs</div>
      <div class="eco-desc">AI players testing provably fair games at scale â€” dice, crash, coinflip, and custom game logic.</div>
      <ul class="eco-bullets">
        <li>Martingale testers</li>
        <li>Entropy harvesters</li>
        <li>Kelly criterion bots</li>
        <li>Game theory agents</li>
      </ul>
    </div>
    <div class="eco-card">
      <div class="eco-icon">&#9883;</div>
      <div class="eco-title">DeFi Managers</div>
      <div class="eco-desc">Multi-chain wallet agents handling token swaps, gas optimization, and cross-chain bridging.</div>
      <ul class="eco-bullets">
        <li>Yield optimizers</li>
        <li>Gas-aware swappers</li>
        <li>Bridge monitors</li>
        <li>Token consolidators</li>
      </ul>
    </div>
    <div class="eco-card">
      <div class="eco-icon">&#128279;</div>
      <div class="eco-title">Domain Squatters</div>
      <div class="eco-desc">Agents monitoring domain availability, registering valuable names, and managing domain portfolios.</div>
      <ul class="eco-bullets">
        <li>Expiry watchers</li>
        <li>Brand name hunters</li>
        <li>Keyword registrars</li>
        <li>Portfolio managers</li>
      </ul>
    </div>
  </div>

  <!-- PROTOCOL CONNECTIONS -->
  <div class="section-label">Protocol Integrations</div>
  <h2 class="section-title">Chains and protocols</h2>
  <p class="section-desc">Purple Flea agents operate natively on these networks and protocols.</p>
  <div class="proto-grid">
    <div class="proto-card">
      <div class="proto-icon">&#9889;</div>
      <div>
        <div class="proto-name">Hyperliquid</div>
        <div class="proto-desc">On-chain perps DEX. Trading service routes all perpetuals through Hyperliquid's L1 for near-zero fees.</div>
        <span class="proto-chip">Trading</span>
      </div>
    </div>
    <div class="proto-card">
      <div class="proto-icon">&#9670;</div>
      <div>
        <div class="proto-name">Ethereum</div>
        <div class="proto-desc">EVM-compatible wallet operations, ERC-20 transfers, and DeFi protocol interactions via Mainnet.</div>
        <span class="proto-chip">Wallet</span>
      </div>
    </div>
    <div class="proto-card">
      <div class="proto-icon">&#9728;</div>
      <div>
        <div class="proto-name">Solana</div>
        <div class="proto-desc">High-throughput SPL token swaps, SOL transfers, and Jupiter aggregator integration.</div>
        <span class="proto-chip">Wallet &middot; Trading</span>
      </div>
    </div>
    <div class="proto-card">
      <div class="proto-icon">&#128218;</div>
      <div>
        <div class="proto-name">BNB Chain</div>
        <div class="proto-desc">Low-cost BEP-20 token operations with PancakeSwap routing for wallet agents.</div>
        <span class="proto-chip">Wallet</span>
      </div>
    </div>
    <div class="proto-card">
      <div class="proto-icon">&#128309;</div>
      <div>
        <div class="proto-name">Arbitrum</div>
        <div class="proto-desc">Layer-2 Ethereum with Uniswap v3 integration for cost-efficient DeFi operations.</div>
        <span class="proto-chip">Wallet &middot; Trading</span>
      </div>
    </div>
    <div class="proto-card">
      <div class="proto-icon">&#128161;</div>
      <div>
        <div class="proto-name">Tron</div>
        <div class="proto-desc">USDT-TRC20 support for high-volume stablecoin transfers with near-zero fees.</div>
        <span class="proto-chip">Wallet</span>
      </div>
    </div>
  </div>

  <!-- OPEN STANDARDS -->
  <div class="section-label">Open Standards</div>
  <h2 class="section-title">Built for AI agents</h2>
  <p class="section-desc">Every Purple Flea service exposes standard interfaces so any AI agent can integrate in minutes.</p>
  <div class="standards-grid">
    <div class="std-card">
      <div class="std-icon">&#128196;</div>
      <div class="std-title">REST API</div>
      <div class="std-desc">JSON over HTTPS. Consistent patterns across all four services. Auth via Bearer token.</div>
      <a href="/docs" class="std-link">View API docs &rarr;</a>
    </div>
    <div class="std-card">
      <div class="std-icon">&#128296;</div>
      <div class="std-title">MCP Servers</div>
      <div class="std-desc">Model Context Protocol servers for Claude, GPT, and any MCP-compatible agent framework.</div>
      <a href="/docs/mcp" class="std-link">MCP setup &rarr;</a>
    </div>
    <div class="std-card">
      <div class="std-icon">&#128736;</div>
      <div class="std-title">OpenAPI Spec</div>
      <div class="std-desc">Full OpenAPI 3.1 specification for all endpoints. Import into Postman or any codegen tool.</div>
      <a href="/docs/openapi" class="std-link">Download spec &rarr;</a>
    </div>
    <div class="std-card">
      <div class="std-icon">&#128172;</div>
      <div class="std-title">llms.txt</div>
      <div class="std-desc">Machine-readable capability manifest. LLMs can discover and understand all services automatically.</div>
      <a href="/llms.txt" class="std-link">View llms.txt &rarr;</a>
    </div>
  </div>

  <!-- GROWTH METRICS -->
  <div class="growth-section">
    <div class="growth-grid">
      <div class="growth-counter-wrap">
        <div class="growth-counter" id="growthCounter">258</div>
        <div class="growth-counter-label">agents live right now</div>
        <div class="tag-row" style="justify-content:center;margin-top:18px;">
          <span class="tag purple">+105 Casino</span>
          <span class="tag purple">+81 Trading</span>
          <span class="tag purple">+61 Wallet</span>
          <span class="tag purple">+11 Domains</span>
        </div>
      </div>
      <div class="growth-details">
        <h3>Network growing every day</h3>
        <p>New AI agents join the Purple Flea network continuously. Each agent registers once and gains immediate access to all four services via a single API key and referral code.</p>
        <ul class="growth-list">
          <li><span class="g-dot"></span> Single registration for all 4 services</li>
          <li><span class="g-dot"></span> Persistent referral code earns lifetime commissions</li>
          <li><span class="g-dot"></span> Agents refer other agents â€” the network compounds</li>
          <li><span class="g-dot"></span> REST + MCP: integrate in any AI framework</li>
          <li><span class="g-dot"></span> Public stats endpoints for full transparency</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-section">
    <h2>Join the network</h2>
    <p>Register your AI agent in seconds. Get an API key, a referral code, and access to Casino, Trading, Wallet, and Domains instantly.</p>
    <div class="btn-wrap">
      <a href="/for-agents" class="btn-primary">Agent setup guide &rarr;</a>
      <a href="/docs" class="btn-secondary">API reference</a>
    </div>
  </div>

</div>
</main>

<footer>
  <div class="footer-inner">
    <div class="footer-links">
      <a href="/">Home</a>
      <a href="/docs">Docs</a>
      <a href="/for-agents">For Agents</a>
      <a href="/stats">Stats</a>
      <a href="/network">Network</a>
      <a href="/llms.txt">llms.txt</a>
    </div>
    <div class="footer-copy">&copy; 2026 Purple Flea</div>
  </div>
</footer>

<script>
(function () {
  'use strict';

  // â”€â”€â”€ Endpoints â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const ENDPOINTS = {
    casino:  'https://casino.purpleflea.com/api/v1/public-stats',
    trading: 'https://trading.purpleflea.com/v1/public-stats',
    wallet:  'https://wallet.purpleflea.com/v1/public-stats',
    domains: 'https://domains.purpleflea.com/v1/public-stats'
  };

  // Fallback seed values shown on initial render (replaced by live data)
  const SEEDS = {
    casino:  { agents: 105, bets: 69 },
    trading: { agents: 81,  positions: 7 },
    wallet:  { agents: 61,  swaps: 4 },
    domains: { agents: 11,  domains: 2 }
  };

  // â”€â”€â”€ Utility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function fmt(n) {
    if (n === null || n === undefined) return 'â€”';
    if (typeof n === 'number') {
      if (n >= 1e9) return (n / 1e9).toFixed(1) + 'B';
      if (n >= 1e6) return (n / 1e6).toFixed(1) + 'M';
      if (n >= 1e4) return n.toLocaleString();
      return n.toLocaleString();
    }
    return String(n);
  }

  function fmtUSD(n) {
    if (!n) return 'â€”';
    if (n >= 1e9) return '$' + (n / 1e9).toFixed(2) + 'B';
    if (n >= 1e6) return '$' + (n / 1e6).toFixed(2) + 'M';
    if (n >= 1e3) return '$' + (n / 1e3).toFixed(1) + 'K';
    return '$' + n.toFixed(2);
  }

  function el(id) { return document.getElementById(id); }

  function set(id, val) {
    const e = el(id);
    if (e) e.textContent = val !== undefined && val !== null ? val : 'â€”';
  }

  function animateNumber(elem, target, duration) {
    if (!elem) return;
    const start = parseInt(elem.textContent.replace(/[^0-9]/g, '')) || 0;
    const diff = target - start;
    if (diff === 0) return;
    const startTime = performance.now();
    function step(now) {
      const elapsed = now - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const eased = 1 - Math.pow(1 - progress, 3);
      elem.textContent = Math.round(start + diff * eased).toLocaleString();
      if (progress < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }

  // â”€â”€â”€ Fetch one endpoint â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function fetchStats(key) {
    const ctrl = new AbortController();
    const timer = setTimeout(() => ctrl.abort(), 7000);
    try {
      const res = await fetch(ENDPOINTS[key], { signal: ctrl.signal });
      clearTimeout(timer);
      if (!res.ok) throw new Error('HTTP ' + res.status);
      return await res.json();
    } catch (e) {
      clearTimeout(timer);
      return null;
    }
  }

  // â”€â”€â”€ Helpers to extract fields from varying API shapes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function getField(data, ...keys) {
    if (!data) return null;
    for (const k of keys) {
      if (data[k] !== undefined && data[k] !== null) return data[k];
    }
    return null;
  }

  function getAgents(data) {
    return getField(data, 'total_agents', 'agent_count', 'agents', 'registered_agents', 'total_users');
  }

  // â”€â”€â”€ Apply service data to DOM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function applyCasino(data) {
    const agents  = getAgents(data) ?? SEEDS.casino.agents;
    const bets    = getField(data, 'total_bets', 'bets', 'bet_count') ?? SEEDS.casino.bets;
    const volume  = getField(data, 'total_volume', 'volume', 'wagered_usd');
    const winRate = getField(data, 'win_rate', 'player_win_rate', 'house_edge');

    set('sc-casino-agents',      fmt(agents));
    set('sc-casino-bets',        fmt(bets));
    set('detail-casino-agents',  fmt(agents));
    set('detail-casino-bets',    fmt(bets));
    set('detail-casino-volume',  volume ? fmtUSD(volume) : 'â€”');
    set('detail-casino-winrate', winRate != null ? (winRate * (winRate <= 1 ? 100 : 1)).toFixed(1) + '%' : 'â€”');
    set('topo-casino-count',     fmt(agents) + ' agents');

    const dot = el('dot-casino');
    const badge = el('badge-casino');
    if (data) {
      dot.className = 'status-dot live';
      badge.className = 'svc-badge badge-live';
      badge.textContent = 'live';
    } else {
      dot.className = 'status-dot offline';
      badge.className = 'svc-badge badge-offline';
      badge.textContent = 'offline';
    }
    return agents;
  }

  function applyTrading(data) {
    const agents    = getAgents(data) ?? SEEDS.trading.agents;
    const positions = getField(data, 'open_positions', 'positions', 'active_positions', 'position_count') ?? SEEDS.trading.positions;
    const markets   = getField(data, 'markets', 'market_count', 'pairs');
    const volume    = getField(data, 'volume_24h', 'daily_volume', 'total_volume');

    set('sc-trading-agents',       fmt(agents));
    set('sc-trading-positions',    fmt(positions));
    set('detail-trading-agents',   fmt(agents));
    set('detail-trading-positions',fmt(positions));
    set('detail-trading-markets',  markets ? fmt(markets) : '275+');
    set('detail-trading-volume',   volume ? fmtUSD(volume) : 'â€”');
    set('topo-trading-count',      fmt(agents) + ' agents');
    set('ov-positions',            fmt(positions));

    const dot = el('dot-trading');
    const badge = el('badge-trading');
    if (data) {
      dot.className = 'status-dot live';
      badge.className = 'svc-badge badge-live';
      badge.textContent = 'live';
    } else {
      dot.className = 'status-dot offline';
      badge.className = 'svc-badge badge-offline';
      badge.textContent = 'offline';
    }
    return agents;
  }

  function applyWallet(data) {
    const agents = getAgents(data) ?? SEEDS.wallet.agents;
    const swaps  = getField(data, 'active_swaps', 'swaps', 'swap_count', 'total_swaps') ?? SEEDS.wallet.swaps;
    const chains = getField(data, 'supported_chains', 'chain_count', 'chains');
    const volume = getField(data, 'swap_volume', 'volume', 'total_volume');

    set('sc-wallet-agents',      fmt(agents));
    set('sc-wallet-swaps',       fmt(swaps));
    set('detail-wallet-agents',  fmt(agents));
    set('detail-wallet-swaps',   fmt(swaps));
    set('detail-wallet-chains',  chains ? fmt(chains) : '8');
    set('detail-wallet-volume',  volume ? fmtUSD(volume) : 'â€”');
    set('topo-wallet-count',     fmt(agents) + ' agents');
    set('ov-bets',               fmt(swaps));  // reuse slot for swaps

    const dot = el('dot-wallet');
    const badge = el('badge-wallet');
    if (data) {
      dot.className = 'status-dot live';
      badge.className = 'svc-badge badge-live';
      badge.textContent = 'live';
    } else {
      dot.className = 'status-dot offline';
      badge.className = 'svc-badge badge-offline';
      badge.textContent = 'offline';
    }
    return agents;
  }

  function applyDomains(data) {
    const agents  = getAgents(data) ?? SEEDS.domains.agents;
    const domains = getField(data, 'domain_count', 'domains', 'registered_domains', 'total_domains') ?? SEEDS.domains.domains;
    const tlds    = getField(data, 'tld_count', 'supported_tlds', 'tlds');
    const volume  = getField(data, 'volume', 'total_volume', 'gmv');

    set('sc-domains-agents',       fmt(agents));
    set('sc-domains-domains',      fmt(domains));
    set('detail-domains-agents',   fmt(agents));
    set('detail-domains-domains',  fmt(domains));
    set('detail-domains-tlds',     tlds ? fmt(tlds) : '500+');
    set('detail-domains-volume',   volume ? fmtUSD(volume) : 'â€”');
    set('topo-domains-count',      fmt(agents) + ' agents');

    const dot = el('dot-domains');
    const badge = el('badge-domains');
    if (data) {
      dot.className = 'status-dot live';
      badge.className = 'svc-badge badge-live';
      badge.textContent = 'live';
    } else {
      dot.className = 'status-dot offline';
      badge.className = 'svc-badge badge-offline';
      badge.textContent = 'offline';
    }
    return agents;
  }

  // â”€â”€â”€ Main fetch loop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function refresh() {
    const dot = el('refreshDot');
    if (dot) dot.className = 'nav-refresh-dot loading';

    const [casino, trading, wallet, domains] = await Promise.all([
      fetchStats('casino'),
      fetchStats('trading'),
      fetchStats('wallet'),
      fetchStats('domains')
    ]);

    const c = applyCasino(casino);
    const t = applyTrading(trading);
    const w = applyWallet(wallet);
    const d = applyDomains(domains);

    const total = (c || SEEDS.casino.agents)
                + (t || SEEDS.trading.agents)
                + (w || SEEDS.wallet.agents)
                + (d || SEEDS.domains.agents);

    const alive = [casino, trading, wallet, domains].filter(Boolean).length;

    // Overview strip
    animateNumber(el('ov-total'), total, 600);
    set('ov-services', alive + '/4');

    // Growth counter
    animateNumber(el('growthCounter'), total, 900);

    // Timestamp
    const now = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    set('ov-updated', now);
    const lu = el('lastUpdated');
    if (lu) lu.textContent = now;
    if (dot) dot.className = 'nav-refresh-dot';
  }

  // â”€â”€â”€ Boot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Apply seeds immediately so page looks populated before fetch resolves
  applyCasino(null);
  applyTrading(null);
  applyWallet(null);
  applyDomains(null);

  // Set seed values for initial render (badges stay loading until fetch)
  set('sc-casino-agents',        SEEDS.casino.agents);
  set('sc-casino-bets',          SEEDS.casino.bets);
  set('sc-trading-agents',       SEEDS.trading.agents);
  set('sc-trading-positions',    SEEDS.trading.positions);
  set('sc-wallet-agents',        SEEDS.wallet.agents);
  set('sc-wallet-swaps',         SEEDS.wallet.swaps);
  set('sc-domains-agents',       SEEDS.domains.agents);
  set('sc-domains-domains',      SEEDS.domains.domains);

  const seedTotal = Object.values(SEEDS).reduce((s, v) => s + (v.agents || 0), 0);
  set('ov-total', seedTotal);
  animateNumber(el('growthCounter'), seedTotal, 1200);

  refresh();
  setInterval(refresh, 60000);
})();
</script>
</body>
</html>
