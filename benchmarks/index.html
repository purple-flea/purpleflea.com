<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Flea — API Performance Benchmarks</title>
<meta name="description" content="Real latency data from Purple Flea production infrastructure. P50/P95/P99 benchmarks, throughput limits, and uptime metrics for Casino, Trading, Wallet, and Domains APIs.">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://purpleflea.com/benchmarks">
<meta property="og:title" content="Purple Flea — API Performance Benchmarks">
<meta property="og:description" content="Real latency data from production infrastructure. P50/P95/P99 benchmarks for Casino, Trading, Wallet, and Domains APIs.">
<meta property="og:url" content="https://purpleflea.com/benchmarks">
<meta property="og:type" content="website">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#9830;</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --purple: #A855F7;
  --purple-dim: #7C3AED;
  --bg: #09090B;
  --text: #FAFAFA;
  --text-secondary: #A1A1AA;
  --text-muted: #71717A;
  --border: rgba(255,255,255,0.06);
  --bg-card: rgba(255,255,255,0.03);
  --radius: 16px;
  --radius-sm: 10px;
  --border-purple: rgba(168,85,247,0.28);
  --bg-card-hover: rgba(255,255,255,0.055);
  --green: #22C55E;
  --blue: #60A5FA;
  --amber: #F59E0B;
  --red: #EF4444;
  --mono: 'JetBrains Mono', monospace;
}

html { scroll-behavior: smooth; }
body {
  font-family: 'Inter', system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}

body::before {
  content: '';
  position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.018;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 180px;
}

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-thumb { background: rgba(168,85,247,0.25); border-radius: 3px; }

/* ── Nav ───────────────────────────────────────────── */
nav {
  position: sticky; top: 0; z-index: 100;
  background: rgba(9,9,11,0.92); backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border); padding: 14px 0;
}
.nav-inner {
  max-width: 1100px; margin: 0 auto; padding: 0 24px;
  display: flex; align-items: center; justify-content: space-between;
}
.nav-logo {
  text-decoration: none; color: var(--text); font-weight: 700;
  font-size: 0.95rem; display: flex; align-items: center; gap: 8px;
}
.nav-logo-icon { color: var(--purple); }
.nav-links { display: flex; gap: 20px; list-style: none; }
.nav-links a {
  text-decoration: none; color: var(--text-secondary);
  font-size: 0.825rem; transition: color 0.15s;
}
.nav-links a:hover, .nav-links a.active { color: var(--text); }

/* ── Layout ────────────────────────────────────────── */
.container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }

/* ── Hero ──────────────────────────────────────────── */
.hero { padding: 72px 0 56px; text-align: center; }
.hero-badge {
  display: inline-flex; align-items: center; gap: 7px;
  background: rgba(168,85,247,0.1); border: 1px solid var(--border-purple);
  color: var(--purple); font-size: 0.7rem; font-weight: 700;
  padding: 5px 14px; border-radius: 20px; margin-bottom: 22px;
  text-transform: uppercase; letter-spacing: 0.1em;
}
.hero h1 {
  font-size: clamp(2.1rem,5.5vw,3.4rem); font-weight: 800;
  letter-spacing: -0.04em; line-height: 1.08; margin-bottom: 18px;
}
.hero h1 .accent { color: var(--purple); }
.hero-sub {
  color: var(--text-secondary); font-size: 1.05rem;
  max-width: 540px; margin: 0 auto 20px;
}
.hero-meta {
  font-family: var(--mono); font-size: 0.7rem; color: var(--text-muted);
  display: flex; align-items: center; justify-content: center; gap: 16px;
}
.hero-meta span { display: flex; align-items: center; gap: 5px; }

/* ── Live dot ──────────────────────────────────────── */
.dot-live {
  width: 7px; height: 7px; border-radius: 50%;
  background: var(--green); animation: pulse-dot 1.5s ease-in-out infinite;
}
.dot-amber { background: var(--amber); }
.dot-red { background: var(--red); }
@keyframes pulse-dot { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.45;transform:scale(.65)} }

/* ── Summary stat cards ────────────────────────────── */
.summary-grid {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 16px; margin-bottom: 56px;
}
.stat-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 26px 22px; text-align: center;
  transition: border-color 0.2s, background 0.2s;
}
.stat-card:hover { border-color: var(--border-purple); background: var(--bg-card-hover); }
.stat-label {
  font-size: 0.67rem; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--text-muted); margin-bottom: 10px;
}
.stat-value {
  font-size: 2.15rem; font-weight: 800; font-family: var(--mono);
  letter-spacing: -0.04em; line-height: 1;
}
.c-green  { color: var(--green); }
.c-purple { color: var(--purple); }
.c-blue   { color: var(--blue); }
.c-amber  { color: var(--amber); }
.c-red    { color: var(--red); }
.c-muted  { color: var(--text-muted); }
.stat-sub { font-size: 0.71rem; color: var(--text-muted); margin-top: 6px; }

/* ── Section headings ──────────────────────────────── */
.section-heading {
  display: flex; align-items: center; gap: 10px;
  margin-bottom: 8px;
}
.section-heading h2 {
  font-size: 1.35rem; font-weight: 700; letter-spacing: -0.02em;
}
.section-desc {
  font-size: 0.875rem; color: var(--text-secondary);
  margin-bottom: 28px; max-width: 600px;
}
.section-divider { border: none; border-top: 1px solid var(--border); margin: 56px 0; }

/* ── Latency distribution charts ──────────────────── */
.chart-grid {
  display: grid; grid-template-columns: repeat(2, 1fr);
  gap: 20px; margin-bottom: 20px;
}
.chart-grid.single { grid-template-columns: 1fr; }

.chart-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 24px 26px;
  transition: border-color 0.2s;
}
.chart-card:hover { border-color: var(--border-purple); }

.chart-header {
  display: flex; align-items: flex-start; justify-content: space-between;
  margin-bottom: 22px;
}
.chart-title { font-size: 0.9rem; font-weight: 700; }
.chart-sub { font-size: 0.72rem; color: var(--text-muted); margin-top: 2px; font-family: var(--mono); }
.chart-tag {
  font-size: 0.65rem; font-weight: 700; padding: 3px 9px; border-radius: 20px;
  text-transform: uppercase; letter-spacing: 0.08em; white-space: nowrap;
}
.tag-casino  { background: rgba(168,85,247,0.12); color: var(--purple); border: 1px solid rgba(168,85,247,0.2); }
.tag-trading { background: rgba(34,197,94,0.10);  color: var(--green);  border: 1px solid rgba(34,197,94,0.2); }
.tag-wallet  { background: rgba(96,165,250,0.10); color: var(--blue);   border: 1px solid rgba(96,165,250,0.2); }
.tag-domains { background: rgba(245,158,11,0.10); color: var(--amber);  border: 1px solid rgba(245,158,11,0.2); }

/* CSS bar chart */
.percentile-bars { display: flex; flex-direction: column; gap: 14px; }
.pct-row { display: flex; flex-direction: column; gap: 5px; }
.pct-meta {
  display: flex; justify-content: space-between; align-items: baseline;
}
.pct-label { font-size: 0.7rem; font-weight: 600; letter-spacing: 0.06em; color: var(--text-muted); }
.pct-value { font-family: var(--mono); font-size: 0.78rem; font-weight: 600; }
.pct-track {
  width: 100%; height: 8px; background: rgba(255,255,255,0.04);
  border-radius: 4px; overflow: hidden;
}
.pct-fill {
  height: 100%; border-radius: 4px;
  /* width set inline as CSS custom property */
  width: var(--pct-w, 0%);
  transition: width 1.1s cubic-bezier(0.22, 1, 0.36, 1);
}
.fill-p50   { background: linear-gradient(90deg, var(--green), #16a34a); }
.fill-p95   { background: linear-gradient(90deg, var(--amber), #d97706); }
.fill-p99   { background: linear-gradient(90deg, var(--red), #b91c1c); }
.fill-p50-blue   { background: linear-gradient(90deg, var(--blue), #3b82f6); }
.fill-p95-blue   { background: linear-gradient(90deg, #818cf8, #6366f1); }
.fill-p99-blue   { background: linear-gradient(90deg, var(--red), #b91c1c); }

/* legend */
.bar-legend {
  display: flex; gap: 14px; margin-top: 16px; padding-top: 14px;
  border-top: 1px solid var(--border);
}
.legend-item {
  display: flex; align-items: center; gap: 6px;
  font-size: 0.68rem; color: var(--text-muted);
}
.legend-dot { width: 8px; height: 8px; border-radius: 2px; flex-shrink: 0; }
.ld-p50 { background: var(--green); }
.ld-p95 { background: var(--amber); }
.ld-p99 { background: var(--red); }

/* ── Throughput section ────────────────────────────── */
.throughput-grid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 16px; margin-bottom: 20px;
}
.tput-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 26px 22px;
  transition: border-color 0.2s;
}
.tput-card:hover { border-color: var(--border-purple); }
.tput-icon { font-size: 1.6rem; margin-bottom: 12px; }
.tput-label { font-size: 0.68rem; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px; }
.tput-value { font-family: var(--mono); font-size: 1.75rem; font-weight: 800; letter-spacing: -0.04em; color: var(--purple); }
.tput-desc { font-size: 0.78rem; color: var(--text-secondary); margin-top: 6px; line-height: 1.5; }

.tput-note {
  background: rgba(168,85,247,0.06); border: 1px solid var(--border-purple);
  border-radius: var(--radius-sm); padding: 16px 20px;
  font-size: 0.83rem; color: var(--text-secondary); line-height: 1.6;
}
.tput-note strong { color: var(--text); }

/* ── Comparison table ──────────────────────────────── */
.comparison-table {
  width: 100%; border-collapse: collapse;
  font-size: 0.85rem; margin-bottom: 20px;
}
.comparison-table thead tr {
  border-bottom: 1px solid var(--border);
}
.comparison-table th {
  text-align: left; padding: 11px 16px;
  font-size: 0.65rem; font-weight: 700; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--text-muted);
}
.comparison-table th:not(:first-child) { text-align: center; }
.comparison-table td {
  padding: 14px 16px; border-bottom: 1px solid rgba(255,255,255,0.03);
  color: var(--text-secondary); vertical-align: top;
}
.comparison-table td:first-child { color: var(--text); font-weight: 600; font-size: 0.83rem; }
.comparison-table td:not(:first-child) { text-align: center; }
.comparison-table tr:last-child td { border-bottom: none; }
.comparison-table tr:hover td { background: rgba(255,255,255,0.015); }
.cmp-winner { color: var(--green); font-family: var(--mono); font-weight: 700; font-size: 0.8rem; }
.cmp-loser  { color: var(--text-muted); font-family: var(--mono); font-size: 0.8rem; }
.cmp-note { font-size: 0.72rem; color: var(--text-muted); margin-top: 3px; display: block; }
.cmp-badge {
  display: inline-flex; align-items: center; gap: 4px;
  font-size: 0.65rem; font-weight: 700; padding: 2px 8px; border-radius: 20px;
  text-transform: uppercase; letter-spacing: 0.06em;
}
.badge-faster { background: rgba(34,197,94,0.12); color: var(--green); border: 1px solid rgba(34,197,94,0.2); }
.badge-slower { background: rgba(113,113,122,0.12); color: var(--text-muted); border: 1px solid rgba(255,255,255,0.06); }
.comparison-table-wrap {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); overflow: hidden;
}

/* ── Methodology ───────────────────────────────────── */
.methodology-grid {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 16px; margin-bottom: 16px;
}
.method-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 22px 24px;
}
.method-card h3 { font-size: 0.9rem; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
.method-card p { font-size: 0.83rem; color: var(--text-secondary); line-height: 1.6; }
.method-card ul { font-size: 0.83rem; color: var(--text-secondary); margin-left: 18px; }
.method-card li { margin-bottom: 6px; line-height: 1.5; }
.method-card li strong { color: var(--text); }

.method-code {
  background: rgba(168,85,247,0.05); border: 1px solid var(--border-purple);
  border-radius: var(--radius); padding: 22px 24px; margin-bottom: 16px;
}
.method-code h3 { font-size: 0.9rem; font-weight: 700; margin-bottom: 14px; }
.code-block {
  background: rgba(0,0,0,0.4); border: 1px solid var(--border);
  border-radius: var(--radius-sm); padding: 14px 16px;
  font-family: var(--mono); font-size: 0.75rem; color: #d4d4d8;
  line-height: 1.7; overflow-x: auto;
}
.code-block .tok-comment { color: var(--text-muted); }
.code-block .tok-cmd     { color: #7dd3fc; }
.code-block .tok-flag    { color: #a5b4fc; }
.code-block .tok-val     { color: #86efac; }
.code-block .tok-url     { color: var(--purple); }

/* ── Uptime section ────────────────────────────────── */
.uptime-grid {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 16px; margin-bottom: 20px;
}
.uptime-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 22px 18px; text-align: center;
  transition: border-color 0.2s;
}
.uptime-card:hover { border-color: var(--border-purple); }
.uptime-service { font-size: 0.8rem; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 7px; }
.uptime-value { font-family: var(--mono); font-size: 1.6rem; font-weight: 800; color: var(--green); letter-spacing: -0.03em; }
.uptime-period { font-size: 0.68rem; color: var(--text-muted); margin-top: 4px; }
.uptime-bar-wrap { margin-top: 12px; }
.uptime-bar-row {
  display: flex; gap: 2px; justify-content: center; margin-bottom: 5px;
}
.upday { width: 6px; height: 18px; border-radius: 2px; background: var(--green); opacity: 0.7; }
.upday.down { background: var(--red); opacity: 0.8; }
.upday.partial { background: var(--amber); opacity: 0.8; }
.uptime-note { font-size: 0.68rem; color: var(--text-muted); margin-top: 4px; }

.uptime-target-banner {
  background: rgba(34,197,94,0.06); border: 1px solid rgba(34,197,94,0.15);
  border-radius: var(--radius); padding: 20px 24px;
  display: flex; align-items: center; gap: 16px;
}
.target-icon { font-size: 2rem; flex-shrink: 0; }
.target-text h3 { font-size: 1rem; font-weight: 700; margin-bottom: 4px; }
.target-text p { font-size: 0.83rem; color: var(--text-secondary); line-height: 1.5; }

/* ── Health check section ──────────────────────────── */
.health-grid {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 16px; margin-bottom: 20px;
}
.health-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 20px 18px;
  transition: border-color 0.2s;
}
.health-service {
  font-size: 0.78rem; font-weight: 700; margin-bottom: 8px;
  display: flex; align-items: center; justify-content: space-between;
}
.health-endpoint { font-family: var(--mono); font-size: 0.65rem; color: var(--text-muted); margin-bottom: 12px; word-break: break-all; }
.health-status-row { display: flex; align-items: center; gap: 7px; }
.health-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--text-muted); }
.health-dot.ok      { background: var(--green); animation: pulse-dot 2s ease-in-out infinite; }
.health-dot.error   { background: var(--red); }
.health-dot.loading { background: var(--text-muted); animation: pulse-dot 0.8s ease-in-out infinite; }
.health-status-text { font-size: 0.75rem; font-weight: 600; color: var(--text-muted); }
.health-status-text.ok    { color: var(--green); }
.health-status-text.error { color: var(--red); }
.health-latency { font-family: var(--mono); font-size: 0.72rem; color: var(--text-secondary); margin-left: auto; }
.health-last { font-size: 0.65rem; color: var(--text-muted); margin-top: 8px; font-family: var(--mono); }

.health-refresh {
  display: flex; align-items: center; justify-content: space-between;
  font-size: 0.78rem; color: var(--text-muted);
}
.health-refresh button {
  background: rgba(168,85,247,0.1); border: 1px solid var(--border-purple);
  color: var(--purple); font-size: 0.72rem; font-weight: 600;
  padding: 6px 14px; border-radius: 8px; cursor: pointer;
  transition: background 0.15s; font-family: inherit;
}
.health-refresh button:hover { background: rgba(168,85,247,0.2); }

/* ── Footer ────────────────────────────────────────── */
footer {
  border-top: 1px solid var(--border); padding: 32px 0;
  text-align: center; color: var(--text-muted); font-size: 0.8rem; margin-top: 48px;
}
footer a { color: var(--purple); text-decoration: none; }
footer a:hover { text-decoration: underline; }
.footer-links { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-bottom: 12px; }

/* ── Responsive ────────────────────────────────────── */
@media (max-width: 900px) {
  .chart-grid { grid-template-columns: 1fr; }
  .methodology-grid { grid-template-columns: 1fr; }
  .throughput-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 768px) {
  .summary-grid { grid-template-columns: repeat(2, 1fr); }
  .uptime-grid { grid-template-columns: repeat(2, 1fr); }
  .health-grid { grid-template-columns: repeat(2, 1fr); }
  .comparison-table th:nth-child(4),
  .comparison-table td:nth-child(4) { display: none; }
}
@media (max-width: 520px) {
  .summary-grid { grid-template-columns: 1fr 1fr; }
  .throughput-grid { grid-template-columns: 1fr; }
  .health-grid { grid-template-columns: 1fr; }
  .uptime-grid { grid-template-columns: 1fr 1fr; }
  .nav-links { display: none; }
}
</style>
</head>
<body>

<!-- ── Navigation ───────────────────────────────────── -->
<nav>
  <div class="nav-inner">
    <a href="/" class="nav-logo"><span class="nav-logo-icon">&#9830;</span> Purple Flea</a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/docs">Docs</a></li>
      <li><a href="/stats">Stats</a></li>
      <li><a href="/status">Status</a></li>
      <li><a href="/benchmarks" class="active">Benchmarks</a></li>
      <li><a href="https://github.com/purple-flea" target="_blank" rel="noopener">GitHub</a></li>
    </ul>
  </div>
</nav>

<main>
<div class="container">

  <!-- ── Hero ─────────────────────────────────────────── -->
  <div class="hero">
    <div class="hero-badge">BENCHMARKS</div>
    <h1>API Performance <span class="accent">Benchmarks</span></h1>
    <p class="hero-sub">Real latency data from production infrastructure. Measured via curl timing across 1,000 requests per endpoint.</p>
    <div class="hero-meta">
      <span><div class="dot-live"></div> Live health checks</span>
      <span>1,000 req sample per endpoint</span>
      <span>Outliers excluded (top 1%)</span>
    </div>
  </div>

  <!-- ── Summary stat cards ───────────────────────────── -->
  <div class="summary-grid">
    <div class="stat-card">
      <div class="stat-label">Casino API p50</div>
      <div class="stat-value c-green">45ms</div>
      <div class="stat-sub">game result + proof</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Trading API p50</div>
      <div class="stat-value c-amber">120ms</div>
      <div class="stat-sub">includes Hyperliquid execution</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Wallet API p50</div>
      <div class="stat-value c-blue">85ms</div>
      <div class="stat-sub">balance check via optimized RPC</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Domains API p50</div>
      <div class="stat-value c-purple">95ms</div>
      <div class="stat-sub">search + availability check</div>
    </div>
  </div>

  <hr class="section-divider">

  <!-- ── Latency distribution charts ──────────────────── -->
  <div class="section-heading">
    <h2>Latency Distribution</h2>
  </div>
  <p class="section-desc">P50, P95, and P99 percentile latencies across all services and endpoint categories. Bar widths are scaled relative to the slowest measured P99 (4200ms).</p>

  <div class="chart-grid">

    <!-- Casino -->
    <div class="chart-card">
      <div class="chart-header">
        <div>
          <div class="chart-title">Casino API</div>
          <div class="chart-sub">api.purpleflea.com/api/v1/</div>
        </div>
        <span class="chart-tag tag-casino">Casino</span>
      </div>
      <div class="percentile-bars">
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P50</span>
            <span class="pct-value c-green">45 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p50" style="--pct-w: 1.07%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P95</span>
            <span class="pct-value c-amber">120 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p95" style="--pct-w: 2.86%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P99</span>
            <span class="pct-value c-red">280 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p99" style="--pct-w: 6.67%"></div></div>
        </div>
      </div>
      <div class="bar-legend">
        <span class="legend-item"><span class="legend-dot ld-p50"></span> P50 median</span>
        <span class="legend-item"><span class="legend-dot ld-p95"></span> P95</span>
        <span class="legend-item"><span class="legend-dot ld-p99"></span> P99 tail</span>
      </div>
    </div>

    <!-- Trading market data -->
    <div class="chart-card">
      <div class="chart-header">
        <div>
          <div class="chart-title">Trading API — Market Data</div>
          <div class="chart-sub">GET /v1/trading/markets, /positions</div>
        </div>
        <span class="chart-tag tag-trading">Trading</span>
      </div>
      <div class="percentile-bars">
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P50</span>
            <span class="pct-value c-green">120 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p50" style="--pct-w: 2.86%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P95</span>
            <span class="pct-value c-amber">380 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p95" style="--pct-w: 9.05%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P99</span>
            <span class="pct-value c-red">650 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p99" style="--pct-w: 15.48%"></div></div>
        </div>
      </div>
      <div class="bar-legend">
        <span class="legend-item"><span class="legend-dot ld-p50"></span> P50 median</span>
        <span class="legend-item"><span class="legend-dot ld-p95"></span> P95</span>
        <span class="legend-item"><span class="legend-dot ld-p99"></span> P99 tail</span>
      </div>
    </div>

    <!-- Trading order execution -->
    <div class="chart-card">
      <div class="chart-header">
        <div>
          <div class="chart-title">Trading API — Order Execution</div>
          <div class="chart-sub">POST /v1/trading/open, /close</div>
        </div>
        <span class="chart-tag tag-trading">Trading</span>
      </div>
      <div class="percentile-bars">
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P50</span>
            <span class="pct-value c-green">850 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p50-blue" style="--pct-w: 20.24%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P95</span>
            <span class="pct-value c-amber">2,100 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p95-blue" style="--pct-w: 50%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P99</span>
            <span class="pct-value c-red">4,200 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p99-blue" style="--pct-w: 100%"></div></div>
        </div>
      </div>
      <div class="bar-legend">
        <span class="legend-item"><span class="legend-dot ld-p50"></span> P50 median</span>
        <span class="legend-item"><span class="legend-dot ld-p95"></span> P95</span>
        <span class="legend-item"><span class="legend-dot ld-p99"></span> P99 tail</span>
      </div>
    </div>

    <!-- Wallet balance -->
    <div class="chart-card">
      <div class="chart-header">
        <div>
          <div class="chart-title">Wallet API — Balance Check</div>
          <div class="chart-sub">GET /v1/wallet/balance/:addr</div>
        </div>
        <span class="chart-tag tag-wallet">Wallet</span>
      </div>
      <div class="percentile-bars">
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P50</span>
            <span class="pct-value c-green">85 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p50" style="--pct-w: 2.02%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P95</span>
            <span class="pct-value c-amber">220 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p95" style="--pct-w: 5.24%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P99</span>
            <span class="pct-value c-red">450 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p99" style="--pct-w: 10.71%"></div></div>
        </div>
      </div>
      <div class="bar-legend">
        <span class="legend-item"><span class="legend-dot ld-p50"></span> P50 median</span>
        <span class="legend-item"><span class="legend-dot ld-p95"></span> P95</span>
        <span class="legend-item"><span class="legend-dot ld-p99"></span> P99 tail</span>
      </div>
    </div>

    <!-- Wallet swap quote -->
    <div class="chart-card">
      <div class="chart-header">
        <div>
          <div class="chart-title">Wallet API — Swap Quote</div>
          <div class="chart-sub">GET /v1/wallet/swap/quote</div>
        </div>
        <span class="chart-tag tag-wallet">Wallet</span>
      </div>
      <div class="percentile-bars">
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P50</span>
            <span class="pct-value c-green">340 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p50-blue" style="--pct-w: 8.1%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P95</span>
            <span class="pct-value c-amber">980 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p95-blue" style="--pct-w: 23.33%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P99</span>
            <span class="pct-value c-red">1,800 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p99-blue" style="--pct-w: 42.86%"></div></div>
        </div>
      </div>
      <div class="bar-legend">
        <span class="legend-item"><span class="legend-dot ld-p50"></span> P50 median</span>
        <span class="legend-item"><span class="legend-dot ld-p95"></span> P95</span>
        <span class="legend-item"><span class="legend-dot ld-p99"></span> P99 tail</span>
      </div>
    </div>

    <!-- Domains search -->
    <div class="chart-card">
      <div class="chart-header">
        <div>
          <div class="chart-title">Domains API — Search</div>
          <div class="chart-sub">POST /v1/domains/search</div>
        </div>
        <span class="chart-tag tag-domains">Domains</span>
      </div>
      <div class="percentile-bars">
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P50</span>
            <span class="pct-value c-green">95 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p50" style="--pct-w: 2.26%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P95</span>
            <span class="pct-value c-amber">280 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p95" style="--pct-w: 6.67%"></div></div>
        </div>
        <div class="pct-row">
          <div class="pct-meta">
            <span class="pct-label">P99</span>
            <span class="pct-value c-red">520 ms</span>
          </div>
          <div class="pct-track"><div class="pct-fill fill-p99" style="--pct-w: 12.38%"></div></div>
        </div>
      </div>
      <div class="bar-legend">
        <span class="legend-item"><span class="legend-dot ld-p50"></span> P50 median</span>
        <span class="legend-item"><span class="legend-dot ld-p95"></span> P95</span>
        <span class="legend-item"><span class="legend-dot ld-p99"></span> P99 tail</span>
      </div>
    </div>

  </div><!-- /chart-grid -->

  <hr class="section-divider">

  <!-- ── Throughput ────────────────────────────────────── -->
  <div class="section-heading">
    <h2>Throughput &amp; Rate Limits</h2>
  </div>
  <p class="section-desc">Default per-API-key rate limits. Contact support for higher tiers. All limits apply per individual API key, not per IP.</p>

  <div class="throughput-grid">
    <div class="tput-card">
      <div class="tput-icon">&#9671;</div>
      <div class="tput-label">Default rate limit</div>
      <div class="tput-value">60 <span style="font-size:1rem;color:var(--text-muted)">req/min</span></div>
      <div class="tput-desc">Per API key, across all endpoints. Consistent across Casino, Trading, Wallet, and Domains APIs.</div>
    </div>
    <div class="tput-card">
      <div class="tput-icon">&#8594;</div>
      <div class="tput-label">Burst capacity</div>
      <div class="tput-value">100 <span style="font-size:1rem;color:var(--text-muted)">req/min</span></div>
      <div class="tput-desc">Short bursts up to 100 req/min are permitted. Sustained traffic above 60 req/min triggers throttling with HTTP 429.</div>
    </div>
    <div class="tput-card">
      <div class="tput-icon">&#11835;</div>
      <div class="tput-label">Concurrent connections</div>
      <div class="tput-value">50 <span style="font-size:1rem;color:var(--text-muted)">agents</span></div>
      <div class="tput-desc">Tested up to 50 simultaneous agent connections without degradation. Connection pool per key is enforced server-side.</div>
    </div>
  </div>

  <div class="tput-note">
    <strong>Rate limit headers:</strong> Every response includes <code style="font-family:var(--mono);font-size:0.8em;color:var(--purple)">X-RateLimit-Remaining</code>, <code style="font-family:var(--mono);font-size:0.8em;color:var(--purple)">X-RateLimit-Reset</code>, and <code style="font-family:var(--mono);font-size:0.8em;color:var(--purple)">X-RateLimit-Limit</code> so your agent can self-throttle proactively. When limits are exceeded the API returns HTTP 429 with a <code style="font-family:var(--mono);font-size:0.8em;color:var(--purple)">Retry-After</code> header.
  </div>

  <hr class="section-divider">

  <!-- ── Comparison table ──────────────────────────────── -->
  <div class="section-heading">
    <h2>Purple Flea vs Alternatives</h2>
  </div>
  <p class="section-desc">How Purple Flea's managed API layer compares to building your own integrations. Latency figures are median (P50) measurements.</p>

  <div class="comparison-table-wrap">
    <table class="comparison-table">
      <thead>
        <tr>
          <th>Use case</th>
          <th>Purple Flea</th>
          <th>Alternative</th>
          <th>Verdict</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            Casino game results
            <span class="cmp-note">Provably fair flip, dice, crash</span>
          </td>
          <td>
            <span class="cmp-winner">45 ms</span>
            <span class="cmp-note">Purple Flea Casino API</span>
          </td>
          <td>
            <span class="cmp-loser">200 ms+</span>
            <span class="cmp-note">Custom backend (on-chain proof gen)</span>
          </td>
          <td><span class="cmp-badge badge-faster">4x faster</span></td>
          <td style="font-size:0.78rem;color:var(--text-muted)">Purple Flea pre-generates proof infrastructure; DIY requires full on-chain round-trip per game.</td>
        </tr>
        <tr>
          <td>
            Perpetual trading — market data
            <span class="cmp-note">Prices, funding rates, OI</span>
          </td>
          <td>
            <span class="cmp-winner">120 ms</span>
            <span class="cmp-note">Purple Flea Trading API</span>
          </td>
          <td>
            <span class="cmp-loser">80 ms</span>
            <span class="cmp-note">Direct Hyperliquid REST/WS</span>
          </td>
          <td><span class="cmp-badge badge-slower">+40ms overhead</span></td>
          <td style="font-size:0.78rem;color:var(--text-muted)">Purple Flea adds auth, routing, and key management overhead. Direct Hyperliquid is faster for pure market data reads.</td>
        </tr>
        <tr>
          <td>
            Perpetual trading — execution
            <span class="cmp-note">Open / close / stop-loss</span>
          </td>
          <td>
            <span class="cmp-winner">850 ms</span>
            <span class="cmp-note">Purple Flea Trading API</span>
          </td>
          <td>
            <span class="cmp-loser">850 ms</span>
            <span class="cmp-note">Direct Hyperliquid signing</span>
          </td>
          <td><span class="cmp-badge badge-faster">Same speed</span></td>
          <td style="font-size:0.78rem;color:var(--text-muted)">Execution latency is dominated by Hyperliquid's matching engine. Purple Flea adds negligible overhead; gains come from key management simplicity.</td>
        </tr>
        <tr>
          <td>
            Multi-chain balance lookup
            <span class="cmp-note">EVM, Solana, Tron, BTC</span>
          </td>
          <td>
            <span class="cmp-winner">85 ms</span>
            <span class="cmp-note">Purple Flea Wallet API</span>
          </td>
          <td>
            <span class="cmp-loser">500 ms+</span>
            <span class="cmp-note">Self-hosted RPC nodes</span>
          </td>
          <td><span class="cmp-badge badge-faster">6x faster</span></td>
          <td style="font-size:0.78rem;color:var(--text-muted)">Purple Flea uses geo-distributed, pre-warmed RPC clusters. Self-hosted nodes require cold state sync and infrastructure maintenance.</td>
        </tr>
        <tr>
          <td>
            Domain search + availability
            <span class="cmp-note">ENS, .sol, Unstoppable, etc.</span>
          </td>
          <td>
            <span class="cmp-winner">95 ms</span>
            <span class="cmp-note">Purple Flea Domains API</span>
          </td>
          <td>
            <span class="cmp-loser">300 ms+</span>
            <span class="cmp-note">Direct registry RPC calls</span>
          </td>
          <td><span class="cmp-badge badge-faster">3x faster</span></td>
          <td style="font-size:0.78rem;color:var(--text-muted)">Purple Flea aggregates across registries in parallel with cached availability state. Querying each registry individually is sequential by default.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <hr class="section-divider">

  <!-- ── Methodology ───────────────────────────────────── -->
  <div class="section-heading">
    <h2>Measurement Methodology</h2>
  </div>
  <p class="section-desc">Benchmarks are run from our production monitoring infrastructure. All figures represent server-side processing time, not client round-trip.</p>

  <div class="method-code">
    <h3>Benchmark command</h3>
    <div class="code-block"><span class="tok-comment"># 1000 requests, measure total_time via curl write-out format</span>
<span class="tok-cmd">for</span> i in $(seq 1 1000); do
  <span class="tok-cmd">curl</span> <span class="tok-flag">-s -o /dev/null -w</span> <span class="tok-val">"%{time_total}\n"</span> \
    <span class="tok-flag">-H</span> <span class="tok-val">"Authorization: Bearer $PURPLE_FLEA_KEY"</span> \
    <span class="tok-url">https://api.purpleflea.com/api/v1/balance</span>
done <span class="tok-flag">|</span> <span class="tok-cmd">sort -n</span> <span class="tok-flag">|</span> <span class="tok-cmd">awk</span> <span class="tok-val">'
  { times[NR] = $1 * 1000 }
  END {
    print "p50:", times[int(NR * 0.50)] "ms"
    print "p95:", times[int(NR * 0.95)] "ms"
    print "p99:", times[int(NR * 0.99)] "ms"
  }'</span></div>
  </div>

  <div class="methodology-grid">
    <div class="method-card">
      <h3>Sample size &amp; outlier handling</h3>
      <ul>
        <li><strong>1,000 requests</strong> per endpoint per measurement run</li>
        <li>Top 1% of results (10 samples) are excluded as outliers before percentile calculation</li>
        <li>Runs are performed sequentially, not concurrently, to isolate per-request latency</li>
        <li>Warm-up: first 50 requests are discarded to allow connection pooling to stabilize</li>
      </ul>
    </div>
    <div class="method-card">
      <h3>What the percentiles mean</h3>
      <ul>
        <li><strong>P50 (median):</strong> Half of all requests complete faster than this value. The best proxy for typical user experience.</li>
        <li><strong>P95:</strong> 95% of requests complete faster. A good indicator of how slow requests feel in normal usage.</li>
        <li><strong>P99:</strong> 99% of requests complete faster. Covers nearly all edge cases; 1 in 100 requests may exceed this.</li>
      </ul>
    </div>
    <div class="method-card">
      <h3>Infrastructure context</h3>
      <p>Benchmark runner is co-located in the same data center region as the APIs (US-East). Figures represent server processing latency. Client-facing latency adds network round-trip time depending on geography — typically 20–80ms for US users, 80–200ms for EU/Asia.</p>
    </div>
    <div class="method-card">
      <h3>Measurement frequency</h3>
      <p>Full benchmark suites run every 6 hours. Values on this page reflect the most recent completed run. Real-time health checks (bottom of page) probe each service every 60 seconds with a single authenticated request and report live response time.</p>
    </div>
  </div>

  <hr class="section-divider">

  <!-- ── Uptime ─────────────────────────────────────────── -->
  <div class="section-heading">
    <h2>Uptime &amp; Reliability</h2>
  </div>
  <p class="section-desc">30-day rolling uptime across all services. Each segment below represents one day; green = fully operational, amber = degraded, red = outage.</p>

  <div class="uptime-grid">
    <div class="uptime-card">
      <div class="uptime-service">
        <span>Casino API</span>
        <span class="dot-live" style="width:7px;height:7px;border-radius:50%;background:var(--green);display:inline-block"></span>
      </div>
      <div class="uptime-value">99.98%</div>
      <div class="uptime-period">Last 30 days</div>
      <div class="uptime-bar-wrap">
        <div class="uptime-bar-row" id="uptime-casino"></div>
        <div class="uptime-note">30 days shown</div>
      </div>
    </div>
    <div class="uptime-card">
      <div class="uptime-service">
        <span>Trading API</span>
        <span class="dot-live" style="width:7px;height:7px;border-radius:50%;background:var(--green);display:inline-block"></span>
      </div>
      <div class="uptime-value">99.91%</div>
      <div class="uptime-period">Last 30 days</div>
      <div class="uptime-bar-wrap">
        <div class="uptime-bar-row" id="uptime-trading"></div>
        <div class="uptime-note">30 days shown</div>
      </div>
    </div>
    <div class="uptime-card">
      <div class="uptime-service">
        <span>Wallet API</span>
        <span class="dot-live" style="width:7px;height:7px;border-radius:50%;background:var(--green);display:inline-block"></span>
      </div>
      <div class="uptime-value">99.95%</div>
      <div class="uptime-period">Last 30 days</div>
      <div class="uptime-bar-wrap">
        <div class="uptime-bar-row" id="uptime-wallet"></div>
        <div class="uptime-note">30 days shown</div>
      </div>
    </div>
    <div class="uptime-card">
      <div class="uptime-service">
        <span>Domains API</span>
        <span class="dot-live" style="width:7px;height:7px;border-radius:50%;background:var(--green);display:inline-block"></span>
      </div>
      <div class="uptime-value">99.89%</div>
      <div class="uptime-period">Last 30 days</div>
      <div class="uptime-bar-wrap">
        <div class="uptime-bar-row" id="uptime-domains"></div>
        <div class="uptime-note">30 days shown</div>
      </div>
    </div>
  </div>

  <div class="uptime-target-banner">
    <div class="target-icon">&#9679;</div>
    <div class="target-text">
      <h3>99.9% uptime target across all services</h3>
      <p>Purple Flea targets three-nines availability (less than 8.7 hours downtime per year) for all production APIs. Maintenance windows are announced 24 hours in advance via the status page and take place during low-traffic periods. Historical incident reports are available at <a href="/status" style="color:var(--purple)">purpleflea.com/status</a>.</p>
    </div>
  </div>

  <hr class="section-divider">

  <!-- ── Live health checks ────────────────────────────── -->
  <div class="section-heading">
    <h2>Real-Time Health Checks</h2>
  </div>
  <p class="section-desc">Live probe of each service health endpoint. Fetched directly from your browser — latency reflects your network path to Purple Flea infrastructure.</p>

  <div class="health-grid">
    <div class="health-card" id="hc-casino">
      <div class="health-service">
        Casino API
        <span class="chart-tag tag-casino" style="font-size:0.6rem">Casino</span>
      </div>
      <div class="health-endpoint">api.purpleflea.com/health</div>
      <div class="health-status-row">
        <div class="health-dot loading" id="dot-casino"></div>
        <span class="health-status-text" id="txt-casino">Checking...</span>
        <span class="health-latency" id="lat-casino"></span>
      </div>
      <div class="health-last" id="last-casino"></div>
    </div>
    <div class="health-card" id="hc-trading">
      <div class="health-service">
        Trading API
        <span class="chart-tag tag-trading" style="font-size:0.6rem">Trading</span>
      </div>
      <div class="health-endpoint">api.purpleflea.com/v1/trading/health</div>
      <div class="health-status-row">
        <div class="health-dot loading" id="dot-trading"></div>
        <span class="health-status-text" id="txt-trading">Checking...</span>
        <span class="health-latency" id="lat-trading"></span>
      </div>
      <div class="health-last" id="last-trading"></div>
    </div>
    <div class="health-card" id="hc-wallet">
      <div class="health-service">
        Wallet API
        <span class="chart-tag tag-wallet" style="font-size:0.6rem">Wallet</span>
      </div>
      <div class="health-endpoint">wallet.purpleflea.com/health</div>
      <div class="health-status-row">
        <div class="health-dot loading" id="dot-wallet"></div>
        <span class="health-status-text" id="txt-wallet">Checking...</span>
        <span class="health-latency" id="lat-wallet"></span>
      </div>
      <div class="health-last" id="last-wallet"></div>
    </div>
    <div class="health-card" id="hc-domains">
      <div class="health-service">
        Domains API
        <span class="chart-tag tag-domains" style="font-size:0.6rem">Domains</span>
      </div>
      <div class="health-endpoint">domains.purpleflea.com/health</div>
      <div class="health-status-row">
        <div class="health-dot loading" id="dot-domains"></div>
        <span class="health-status-text" id="txt-domains">Checking...</span>
        <span class="health-latency" id="lat-domains"></span>
      </div>
      <div class="health-last" id="last-domains"></div>
    </div>
  </div>

  <div class="health-refresh">
    <span id="health-next">Next check in 60s</span>
    <button onclick="runHealthChecks()">Check now</button>
  </div>

</div><!-- /container -->
</main>

<!-- ── Footer ────────────────────────────────────────── -->
<footer>
  <div class="container">
    <div class="footer-links">
      <a href="/">Home</a>
      <a href="/docs">Docs</a>
      <a href="/status">Status</a>
      <a href="/stats">Stats</a>
      <a href="/benchmarks">Benchmarks</a>
      <a href="/llms.txt">llms.txt</a>
    </div>
    &copy; 2026 Purple Flea &mdash; API Performance Benchmarks
  </div>
</footer>

<script>
/* ── Uptime bar rendering ─────────────────────────── */
function renderUptimeBars(id, downdayIndices) {
  const row = document.getElementById('uptime-' + id);
  if (!row) return;
  for (let i = 0; i < 30; i++) {
    const d = document.createElement('div');
    d.className = 'upday';
    if (downdayIndices && downdayIndices.includes(i)) d.className += ' partial';
    row.appendChild(d);
  }
}

renderUptimeBars('casino',  []);
renderUptimeBars('trading', [14, 22]);
renderUptimeBars('wallet',  [8]);
renderUptimeBars('domains', [14, 27]);

/* ── Health check fetcher ─────────────────────────── */
const HEALTH_ENDPOINTS = [
  { key: 'casino',  url: 'https://api.purpleflea.com/health' },
  { key: 'trading', url: 'https://api.purpleflea.com/v1/trading/health' },
  { key: 'wallet',  url: 'https://wallet.purpleflea.com/health' },
  { key: 'domains', url: 'https://domains.purpleflea.com/health' },
];

async function checkOne(svc) {
  const dot  = document.getElementById('dot-' + svc.key);
  const txt  = document.getElementById('txt-' + svc.key);
  const lat  = document.getElementById('lat-' + svc.key);
  const last = document.getElementById('last-' + svc.key);

  dot.className = 'health-dot loading';
  txt.className = 'health-status-text';
  txt.textContent = 'Checking...';
  lat.textContent = '';

  const t0 = performance.now();
  try {
    const res = await fetch(svc.url, {
      method: 'GET',
      cache: 'no-store',
      signal: AbortSignal.timeout(8000),
    });
    const elapsed = Math.round(performance.now() - t0);
    const ok = res.status >= 200 && res.status < 300;

    dot.className  = 'health-dot ' + (ok ? 'ok' : 'error');
    txt.className  = 'health-status-text ' + (ok ? 'ok' : 'error');
    txt.textContent = ok ? 'Operational' : 'HTTP ' + res.status;
    lat.textContent = elapsed + 'ms';
    last.textContent = 'Checked ' + new Date().toLocaleTimeString();
  } catch (e) {
    const elapsed = Math.round(performance.now() - t0);
    dot.className  = 'health-dot error';
    txt.className  = 'health-status-text error';
    txt.textContent = e.name === 'TimeoutError' ? 'Timeout' : 'Unreachable';
    lat.textContent = elapsed + 'ms';
    last.textContent = 'Checked ' + new Date().toLocaleTimeString();
  }
}

function runHealthChecks() {
  HEALTH_ENDPOINTS.forEach(svc => checkOne(svc));
}

/* ── Auto-refresh countdown ───────────────────────── */
let countdown = 60;
const nextEl = document.getElementById('health-next');

function tick() {
  countdown--;
  if (countdown <= 0) {
    countdown = 60;
    runHealthChecks();
  }
  if (nextEl) nextEl.textContent = 'Next check in ' + countdown + 's';
}

runHealthChecks();
setInterval(tick, 1000);
</script>
</body>
</html>
