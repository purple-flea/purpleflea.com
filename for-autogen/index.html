<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Purple Flea for Microsoft AutoGen ‚Äî Crypto Tools for Multi-Agent Conversations</title>
  <meta name="description" content="Give your AutoGen agents crypto wallets, perpetual trading, and casino capabilities. Purple Flea tools for AutoGen ConversableAgent and AssistantAgent." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://purpleflea.com/for-autogen" />
  <meta property="og:title" content="Purple Flea for Microsoft AutoGen ‚Äî Crypto Tools for Multi-Agent Conversations" />
  <meta property="og:description" content="Give your AutoGen agents crypto wallets, perpetual trading, and casino capabilities." />
  <meta property="og:url" content="https://purpleflea.com/for-autogen" />
  <meta property="og:type" content="website" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <style>
    :root {
      --purple: #A855F7;
      --purple-dim: #7C3AED;
      --purple-subtle: rgba(168, 85, 247, 0.08);
      --bg: #09090B;
      --bg-card: rgba(255, 255, 255, 0.03);
      --bg-card-hover: rgba(255, 255, 255, 0.06);
      --border: rgba(255, 255, 255, 0.06);
      --border-hover: rgba(168, 85, 247, 0.3);
      --text: #FAFAFA;
      --text-secondary: #A1A1AA;
      --text-muted: #71717A;
      --radius: 16px;
      --radius-sm: 10px;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
    }
    a { color: var(--purple); text-decoration: none; }
    a:hover { text-decoration: underline; }
    code, pre {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.875rem;
    }

    /* NAV */
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      padding: 0 2rem;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--border);
      background: rgba(9, 9, 11, 0.8);
      backdrop-filter: blur(12px);
      transition: background 0.3s, box-shadow 0.3s;
    }
    nav.scrolled {
      background: rgba(9, 9, 11, 0.95);
      box-shadow: 0 4px 32px rgba(0, 0, 0, 0.4);
    }
    .nav-logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 700;
      font-size: 1.1rem;
      color: var(--text);
      text-decoration: none;
    }
    .nav-logo span { color: var(--purple); font-size: 1.3rem; }
    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      list-style: none;
    }
    .nav-links a {
      color: var(--text-secondary);
      font-size: 0.9rem;
      font-weight: 500;
      transition: color 0.2s;
      text-decoration: none;
    }
    .nav-links a:hover { color: var(--text); }
    .nav-cta {
      background: var(--purple);
      color: #fff !important;
      padding: 0.4rem 1rem;
      border-radius: var(--radius-sm);
      font-weight: 600 !important;
      transition: background 0.2s !important;
    }
    .nav-cta:hover { background: var(--purple-dim) !important; text-decoration: none !important; }

    /* HERO */
    .hero {
      padding: 140px 2rem 80px;
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
    }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--purple-subtle);
      border: 1px solid var(--border-hover);
      border-radius: 999px;
      padding: 0.35rem 1rem;
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--purple);
      margin-bottom: 1.5rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }
    .hero h1 {
      font-size: clamp(2.2rem, 5vw, 3.6rem);
      font-weight: 800;
      line-height: 1.15;
      margin-bottom: 1.25rem;
      background: linear-gradient(135deg, #fff 40%, var(--purple) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .hero-sub {
      font-size: 1.15rem;
      color: var(--text-secondary);
      max-width: 640px;
      margin: 0 auto 2rem;
      line-height: 1.7;
    }
    .hero-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    .btn-primary {
      background: var(--purple);
      color: #fff;
      padding: 0.7rem 1.6rem;
      border-radius: var(--radius-sm);
      font-weight: 600;
      font-size: 0.95rem;
      transition: background 0.2s, transform 0.15s;
      text-decoration: none;
      display: inline-block;
    }
    .btn-primary:hover { background: var(--purple-dim); transform: translateY(-1px); text-decoration: none; }
    .btn-secondary {
      background: var(--bg-card);
      color: var(--text);
      padding: 0.7rem 1.6rem;
      border-radius: var(--radius-sm);
      font-weight: 600;
      font-size: 0.95rem;
      border: 1px solid var(--border);
      transition: border-color 0.2s, background 0.2s, transform 0.15s;
      text-decoration: none;
      display: inline-block;
    }
    .btn-secondary:hover { border-color: var(--border-hover); background: var(--bg-card-hover); transform: translateY(-1px); text-decoration: none; }

    /* INSTALL STRIP */
    .install-strip {
      background: var(--bg-card);
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      padding: 1.25rem 2rem;
      text-align: center;
    }
    .install-code {
      display: inline-block;
      background: rgba(168, 85, 247, 0.1);
      border: 1px solid var(--border-hover);
      border-radius: var(--radius-sm);
      padding: 0.6rem 1.4rem;
      color: var(--purple);
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      letter-spacing: 0.02em;
    }

    /* SECTIONS */
    .section {
      max-width: 900px;
      margin: 0 auto;
      padding: 72px 2rem;
    }
    .section-label {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--purple);
      margin-bottom: 0.75rem;
    }
    .section h2 {
      font-size: clamp(1.6rem, 3vw, 2.2rem);
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.25;
    }
    .section p {
      color: var(--text-secondary);
      font-size: 1rem;
      line-height: 1.75;
      margin-bottom: 1rem;
    }
    .section p:last-child { margin-bottom: 0; }

    /* DIVIDER */
    .divider {
      border: none;
      border-top: 1px solid var(--border);
      max-width: 900px;
      margin: 0 auto;
    }

    /* CODE BLOCK */
    .code-block {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      overflow: hidden;
      margin: 1.5rem 0;
    }
    .code-header {
      background: var(--bg-card);
      border-bottom: 1px solid var(--border);
      padding: 0.6rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .code-header span {
      font-size: 0.8rem;
      color: var(--text-muted);
      font-family: 'JetBrains Mono', monospace;
    }
    .code-dots { display: flex; gap: 0.35rem; }
    .code-dots i {
      width: 10px; height: 10px;
      border-radius: 50%;
      display: block;
    }
    .dot-red { background: #FF5F57; }
    .dot-yellow { background: #FEBC2E; }
    .dot-green { background: #28C840; }
    .code-block pre {
      padding: 1.25rem 1.5rem;
      overflow-x: auto;
      line-height: 1.7;
      font-size: 0.85rem;
    }
    .code-block pre .c { color: #6B7280; }
    .code-block pre .kw { color: #C084FC; }
    .code-block pre .str { color: #86EFAC; }
    .code-block pre .fn { color: #93C5FD; }
    .code-block pre .num { color: #FCA5A5; }
    .code-block pre .cm { color: var(--text-muted); font-style: italic; }

    /* CARDS GRID */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1.25rem;
      transition: border-color 0.2s, background 0.2s;
    }
    .card:hover { border-color: var(--border-hover); background: var(--bg-card-hover); }
    .card-icon {
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
    }
    .card h3 {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--text);
    }
    .card p {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin: 0;
    }
    .card ul {
      list-style: none;
      margin-top: 0.5rem;
    }
    .card ul li {
      font-size: 0.8rem;
      color: var(--text-secondary);
      padding: 0.15rem 0;
    }
    .card ul li::before {
      content: "‚Üí ";
      color: var(--purple);
      font-size: 0.75rem;
    }

    /* TABLE */
    .table-wrap {
      overflow-x: auto;
      margin: 1.5rem 0;
      border-radius: var(--radius);
      border: 1px solid var(--border);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.875rem;
    }
    thead { background: var(--bg-card); }
    thead th {
      padding: 0.85rem 1rem;
      text-align: left;
      font-weight: 600;
      color: var(--text-secondary);
      border-bottom: 1px solid var(--border);
      white-space: nowrap;
    }
    tbody tr { border-bottom: 1px solid var(--border); transition: background 0.15s; }
    tbody tr:last-child { border-bottom: none; }
    tbody tr:hover { background: var(--bg-card-hover); }
    tbody td {
      padding: 0.8rem 1rem;
      color: var(--text-secondary);
    }
    tbody td:first-child { color: var(--text); font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; }
    .tag {
      display: inline-block;
      background: var(--purple-subtle);
      color: var(--purple);
      border-radius: 999px;
      padding: 0.15rem 0.6rem;
      font-size: 0.75rem;
      font-weight: 600;
    }

    /* COMMISSION BOX */
    .commission-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }
    .commission-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1.25rem;
      text-align: center;
      transition: border-color 0.2s;
    }
    .commission-card:hover { border-color: var(--border-hover); }
    .commission-pct {
      font-size: 2rem;
      font-weight: 800;
      color: var(--purple);
      line-height: 1.1;
    }
    .commission-label {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-top: 0.3rem;
    }

    /* REVEAL ANIMATION */
    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.55s ease, transform 0.55s ease;
    }
    .reveal.visible {
      opacity: 1;
      transform: none;
    }

    /* FOOTER */
    footer {
      border-top: 1px solid var(--border);
      padding: 3rem 2rem;
      margin-top: 4rem;
    }
    .footer-inner {
      max-width: 900px;
      margin: 0 auto;
    }
    .footer-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      margin-bottom: 2.5rem;
    }
    @media (max-width: 640px) {
      .footer-grid { grid-template-columns: 1fr; }
    }
    .footer-col h4 {
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      margin-bottom: 1rem;
    }
    .footer-col ul { list-style: none; }
    .footer-col ul li { margin-bottom: 0.5rem; }
    .footer-col ul li a {
      color: var(--text-secondary);
      font-size: 0.875rem;
      text-decoration: none;
      transition: color 0.2s;
    }
    .footer-col ul li a:hover { color: var(--purple); }
    .footer-bottom {
      border-top: 1px solid var(--border);
      padding-top: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: gap;
      gap: 1rem;
    }
    .footer-logo {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-weight: 700;
      color: var(--text);
      text-decoration: none;
      font-size: 0.95rem;
    }
    .footer-logo span { color: var(--purple); }
    .footer-copy {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    @media (max-width: 768px) {
      nav { padding: 0 1rem; }
      .nav-links { display: none; }
      .hero { padding: 110px 1.25rem 60px; }
      .section { padding: 52px 1.25rem; }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav id="navbar">
    <a href="/" class="nav-logo"><span>‚ô¢</span> Purple Flea</a>
    <ul class="nav-links">
      <li><a href="/">Products</a></li>
      <li><a href="/docs">Docs</a></li>
      <li><a href="/for-agents">For Agents</a></li>
      <li><a href="/pricing">Pricing</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="https://github.com/Purple-flea" class="nav-cta">GitHub</a></li>
    </ul>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-badge reveal">Microsoft AutoGen Integration</div>
    <h1 class="reveal">Purple Flea for AutoGen</h1>
    <p class="hero-sub reveal">
      Give your AutoGen ConversableAgent, AssistantAgent, and UserProxyAgent the ability to trade perpetual futures, manage crypto wallets, run casino games, and register domains ‚Äî all through clean Python function calls.
    </p>
    <div class="hero-actions reveal">
      <a href="https://github.com/Purple-flea" class="btn-primary">View on GitHub</a>
      <a href="/docs" class="btn-secondary">Read the Docs</a>
    </div>
  </section>

  <!-- INSTALL -->
  <div class="install-strip reveal">
    <div class="install-code">pip install purpleflea-autogen</div>
  </div>

  <!-- WHAT IS AUTOGEN -->
  <section class="section reveal">
    <div class="section-label">The Framework</div>
    <h2>Microsoft AutoGen: Multi-Agent Conversations at Scale</h2>
    <p>
      Microsoft AutoGen is an open-source framework for building multi-agent applications where agents can converse with each other, use tools, and collaborate to solve complex tasks. At its core, AutoGen defines three primary agent types that work together: the <strong>ConversableAgent</strong>, the base class for all agents; the <strong>AssistantAgent</strong>, which is backed by an LLM and reasons about tasks; and the <strong>UserProxyAgent</strong>, which executes code and calls functions on behalf of the conversation.
    </p>
    <p>
      AutoGen's power comes from its conversation-driven architecture. Rather than hard-coding a fixed pipeline, agents negotiate tasks through natural language, request tool executions, and iteratively refine results. This makes AutoGen ideal for financial workflows, autonomous trading systems, and any scenario that requires multi-step reasoning followed by real-world action.
    </p>
    <p>
      Purple Flea slots directly into AutoGen's <code>function_map</code> and <code>tool_calls</code> patterns, giving your agents access to live crypto infrastructure ‚Äî no custom API clients, no key management headaches.
    </p>
  </section>

  <hr class="divider" />

  <!-- INTEGRATION PATTERN -->
  <section class="section reveal">
    <div class="section-label">Integration</div>
    <h2>Two Ways to Wire In Purple Flea</h2>
    <p>
      Purple Flea supports both of AutoGen's primary tool-registration patterns. For <strong>UserProxyAgent</strong>-driven execution, register functions via the <code>function_map</code> dictionary so the proxy executes them whenever the AssistantAgent emits a function call. For <strong>AssistantAgent</strong>-driven tool calls in AutoGen 0.4+, use <code>register_function</code> to bind Purple Flea functions directly to the assistant's tool schema.
    </p>

    <div class="code-block">
      <div class="code-header">
        <div class="code-dots">
          <i class="dot-red"></i><i class="dot-yellow"></i><i class="dot-green"></i>
        </div>
        <span>autogen_purpleflea_basic.py</span>
      </div>
      <pre>
<span class="kw">import</span> autogen
<span class="kw">from</span> purpleflea_autogen <span class="kw">import</span> wallet, trading, casino, domains

<span class="cm"># --- Configuration ---</span>
config_list = [{<span class="str">"model"</span>: <span class="str">"gpt-4o"</span>, <span class="str">"api_key"</span>: <span class="str">"YOUR_OPENAI_KEY"</span>}]
pf_config = {<span class="str">"api_key"</span>: <span class="str">"YOUR_PURPLEFLEA_KEY"</span>}

<span class="cm"># --- Agents ---</span>
assistant = autogen.AssistantAgent(
    name=<span class="str">"financial_analyst"</span>,
    llm_config={<span class="str">"config_list"</span>: config_list},
    system_message=<span class="str">"""You are a crypto trading analyst.
    Analyze market conditions and recommend trades.
    Call functions to execute when ready."""</span>
)

user_proxy = autogen.UserProxyAgent(
    name=<span class="str">"trade_executor"</span>,
    human_input_mode=<span class="str">"NEVER"</span>,
    max_consecutive_auto_reply=<span class="num">10</span>,
    function_map={
        <span class="cm"># Wallet functions</span>
        <span class="str">"get_address"</span>: wallet.get_address(pf_config),
        <span class="str">"get_balance"</span>: wallet.get_balance(pf_config),
        <span class="str">"send_crypto"</span>: wallet.send(pf_config),
        <span class="str">"swap_tokens"</span>: wallet.swap(pf_config),
        <span class="cm"># Trading functions</span>
        <span class="str">"open_position"</span>: trading.open_position(pf_config),
        <span class="str">"close_position"</span>: trading.close_position(pf_config),
        <span class="str">"get_markets"</span>: trading.get_markets(pf_config),
        <span class="cm"># Casino functions</span>
        <span class="str">"coin_flip"</span>: casino.coin_flip(pf_config),
        <span class="str">"dice_roll"</span>: casino.dice(pf_config),
        <span class="str">"play_crash"</span>: casino.crash(pf_config),
        <span class="cm"># Domain functions</span>
        <span class="str">"check_domain"</span>: domains.check(pf_config),
        <span class="str">"register_domain"</span>: domains.register(pf_config),
        <span class="str">"set_dns"</span>: domains.set_dns(pf_config),
    }
)

<span class="cm"># --- Start conversation ---</span>
user_proxy.initiate_chat(
    assistant,
    message=<span class="str">"Check the current BTC-PERP funding rate, then open a 0.1 BTC long if funding is below 0.01%."</span>
)
      </pre>
    </div>
  </section>

  <hr class="divider" />

  <!-- FULL EXAMPLE -->
  <section class="section reveal">
    <div class="section-label">Full Example</div>
    <h2>2-Agent Trading Conversation</h2>
    <p>
      The following example demonstrates a complete AutoGen conversation where the AssistantAgent reasons about a momentum trade opportunity and the UserProxyAgent executes it via Purple Flea. The assistant checks live market data, evaluates conditions, and issues function calls that the proxy executes against the Purple Flea API.
    </p>

    <div class="code-block">
      <div class="code-header">
        <div class="code-dots">
          <i class="dot-red"></i><i class="dot-yellow"></i><i class="dot-green"></i>
        </div>
        <span>autogen_trading_conversation.py</span>
      </div>
      <pre>
<span class="kw">import</span> autogen
<span class="kw">from</span> purpleflea_autogen <span class="kw">import</span> trading, wallet
<span class="kw">from</span> purpleflea_autogen.utils <span class="kw">import</span> register_all_tools

config_list = [{<span class="str">"model"</span>: <span class="str">"gpt-4o"</span>, <span class="str">"api_key"</span>: <span class="str">"YOUR_OPENAI_KEY"</span>}]
pf_key = <span class="str">"pf_live_xxxxxxxxxxxxxxxxxxxx"</span>

<span class="cm"># AssistantAgent: does the reasoning</span>
analyst = autogen.AssistantAgent(
    name=<span class="str">"CryptoAnalyst"</span>,
    llm_config={
        <span class="str">"config_list"</span>: config_list,
        <span class="str">"functions"</span>: trading.get_function_schemas() + wallet.get_function_schemas(),
    },
    system_message=<span class="str">"""You are an expert crypto trading analyst.
    Steps you MUST follow:
    1. Call get_markets() to fetch available perpetual markets.
    2. Call get_ticker(symbol) to get current price and funding rate.
    3. Check wallet balance before sizing the position.
    4. If conditions are favorable, call open_position().
    5. Report the trade outcome clearly."""</span>
)

<span class="cm"># UserProxyAgent: executes the function calls</span>
executor = autogen.UserProxyAgent(
    name=<span class="str">"TradeExecutor"</span>,
    human_input_mode=<span class="str">"NEVER"</span>,
    max_consecutive_auto_reply=<span class="num">8</span>,
    code_execution_config=<span class="kw">False</span>,
    function_map=register_all_tools(pf_key)
)

<span class="cm"># Initiate the trade workflow</span>
result = executor.initiate_chat(
    analyst,
    message=<span class="str">"""
    I want to implement a momentum trade on BTC or ETH perpetuals.
    - Only open if 24h price change > +2%
    - Maximum position size: $500 USDC
    - Use 3x leverage
    - Check my wallet balance first
    Execute the best opportunity you find.
    """</span>
)

<span class="fn">print</span>(<span class="str">f"\nFinal result: {result.summary}"</span>)
      </pre>
    </div>

    <p>
      When you run this script, AutoGen initiates a multi-turn conversation. The analyst calls <code>get_markets()</code> to list all available perpetual pairs, then <code>get_ticker("BTC-PERP")</code> and <code>get_ticker("ETH-PERP")</code> to compare momentum. The executor runs each function, returns the results to the analyst, and the analyst issues a final <code>open_position()</code> call. Every step is logged in the conversation history.
    </p>
  </section>

  <hr class="divider" />

  <!-- FUNCTION GROUPS -->
  <section class="section reveal">
    <div class="section-label">Available Tools</div>
    <h2>Four Function Groups, Forty-Plus Actions</h2>
    <p>
      Purple Flea organizes its AutoGen tools into four logical groups. Each group is independently importable, so you can give an agent only the capabilities it needs ‚Äî a wallet-only agent won't accidentally place trades.
    </p>

    <div class="cards-grid">
      <div class="card">
        <div class="card-icon">üí≥</div>
        <h3>Wallet Functions</h3>
        <ul>
          <li>get_address(chain)</li>
          <li>get_balance(asset)</li>
          <li>send(to, amount, asset)</li>
          <li>swap(from_asset, to_asset, amount)</li>
          <li>get_transactions(limit)</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-icon">üìà</div>
        <h3>Trading Functions</h3>
        <ul>
          <li>open_position(symbol, side, size)</li>
          <li>close_position(position_id)</li>
          <li>get_markets()</li>
          <li>get_ticker(symbol)</li>
          <li>get_positions()</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-icon">üé≤</div>
        <h3>Casino Functions</h3>
        <ul>
          <li>coin_flip(wager, side)</li>
          <li>dice(wager, prediction)</li>
          <li>crash(wager, auto_cashout)</li>
          <li>get_game_history()</li>
          <li>get_house_edge(game)</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-icon">üåê</div>
        <h3>Domain Functions</h3>
        <ul>
          <li>check(domain)</li>
          <li>register(domain, years)</li>
          <li>set_dns(domain, records)</li>
          <li>list_domains()</li>
          <li>renew(domain, years)</li>
        </ul>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- GROUP CHAT -->
  <section class="section reveal">
    <div class="section-label">Advanced Pattern</div>
    <h2>3-Agent Group Chat: Analyst + Trader + Risk Manager</h2>
    <p>
      AutoGen's GroupChat enables more than two agents to collaborate. The following pattern creates a specialized financial advisory crew where each agent has a distinct role and only the designated executor has access to live Purple Flea functions. The risk manager acts as a veto gate before any position is opened.
    </p>

    <div class="code-block">
      <div class="code-header">
        <div class="code-dots">
          <i class="dot-red"></i><i class="dot-yellow"></i><i class="dot-green"></i>
        </div>
        <span>autogen_group_chat.py</span>
      </div>
      <pre>
<span class="kw">import</span> autogen
<span class="kw">from</span> purpleflea_autogen <span class="kw">import</span> trading, wallet

cfg = [{<span class="str">"model"</span>: <span class="str">"gpt-4o"</span>, <span class="str">"api_key"</span>: <span class="str">"YOUR_OPENAI_KEY"</span>}]
pf_key = <span class="str">"pf_live_xxxxxxxxxxxxxxxxxxxx"</span>

analyst = autogen.AssistantAgent(
    name=<span class="str">"MarketAnalyst"</span>,
    llm_config={<span class="str">"config_list"</span>: cfg},
    system_message=<span class="str">"Analyze crypto market conditions and suggest trades with rationale."</span>
)

risk_manager = autogen.AssistantAgent(
    name=<span class="str">"RiskManager"</span>,
    llm_config={<span class="str">"config_list"</span>: cfg},
    system_message=<span class="str">"""Review every proposed trade.
    REJECT if: leverage > 5x, position > 10% of balance, funding rate > 0.05%.
    APPROVE with 'EXECUTE:' prefix if safe."""</span>
)

executor = autogen.UserProxyAgent(
    name=<span class="str">"TradeExecutor"</span>,
    human_input_mode=<span class="str">"NEVER"</span>,
    max_consecutive_auto_reply=<span class="num">5</span>,
    function_map={
        <span class="str">"open_position"</span>: trading.open_position({<span class="str">"api_key"</span>: pf_key}),
        <span class="str">"get_markets"</span>: trading.get_markets({<span class="str">"api_key"</span>: pf_key}),
        <span class="str">"get_balance"</span>: wallet.get_balance({<span class="str">"api_key"</span>: pf_key}),
    }
)

groupchat = autogen.GroupChat(
    agents=[analyst, risk_manager, executor],
    messages=[],
    max_round=<span class="num">12</span>,
    speaker_selection_method=<span class="str">"auto"</span>
)

manager = autogen.GroupChatManager(
    groupchat=groupchat,
    llm_config={<span class="str">"config_list"</span>: cfg}
)

executor.initiate_chat(
    manager,
    message=<span class="str">"Find and execute the best perpetual futures trade available right now."</span>
)
      </pre>
    </div>
    <p>
      In this group chat, the MarketAnalyst proposes a trade, the RiskManager evaluates it against position limits and funding rates, and the TradeExecutor only fires the Purple Flea function call after receiving an <code>EXECUTE:</code> approval message. This pattern is directly applicable to production trading systems where risk controls must be enforced programmatically.
    </p>
  </section>

  <hr class="divider" />

  <!-- COMMISSIONS -->
  <section class="section reveal">
    <div class="section-label">Referral Program</div>
    <h2>Earn While Your Agents Trade</h2>
    <p>
      Every Purple Flea integration includes a built-in referral program. When you deploy AutoGen agents using your API key, you earn a percentage of every transaction those agents execute ‚Äî for the lifetime of the account.
    </p>
    <div class="commission-grid">
      <div class="commission-card">
        <div class="commission-pct">20%</div>
        <div class="commission-label">Trading API Fees</div>
      </div>
      <div class="commission-card">
        <div class="commission-pct">10%</div>
        <div class="commission-label">Wallet Swap Fees</div>
      </div>
      <div class="commission-card">
        <div class="commission-pct">10%</div>
        <div class="commission-label">Casino Wagers</div>
      </div>
      <div class="commission-card">
        <div class="commission-pct">15%</div>
        <div class="commission-label">Domain Registrations</div>
      </div>
    </div>
    <p>See full commission details at <a href="/ai-agent-referral-program">/ai-agent-referral-program</a>.</p>
  </section>

  <hr class="divider" />

  <!-- RELATED LINKS -->
  <section class="section reveal">
    <div class="section-label">Related</div>
    <h2>More Integrations</h2>
    <p>
      Purple Flea supports all major agent frameworks. If you use LangChain, CrewAI, or Claude's tool-use API directly, we have dedicated integration packages and documentation:
    </p>
    <div class="cards-grid">
      <div class="card">
        <h3><a href="/for-langchain">LangChain Tools</a></h3>
        <p>BaseTool subclasses for LangChain agents. Works with AgentExecutor and LCEL chains.</p>
      </div>
      <div class="card">
        <h3><a href="/for-crewai">CrewAI Tools</a></h3>
        <p>Drop-in tools for CrewAI agents. Define a crew of specialized crypto specialists.</p>
      </div>
      <div class="card">
        <h3><a href="/for-claude">Claude Integration</a></h3>
        <p>Tool definitions for Anthropic's Claude API with tool_use content blocks.</p>
      </div>
      <div class="card">
        <h3><a href="/trading-api">Trading API</a></h3>
        <p>Full perpetual futures REST API documentation. 275+ markets, sub-second execution.</p>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-inner">
      <div class="footer-grid">
        <div class="footer-col">
          <h4>Products</h4>
          <ul>
            <li><a href="/casino-api">Casino API</a></li>
            <li><a href="/trading-api">Trading API</a></li>
            <li><a href="/crypto-wallet-api">Wallet API</a></li>
            <li><a href="/domain-registration-api">Domains API</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Integrations</h4>
          <ul>
            <li><a href="/for-langchain">LangChain</a></li>
            <li><a href="/for-crewai">CrewAI</a></li>
            <li><a href="/for-claude">Claude</a></li>
            <li><a href="/docs">Docs</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Company</h4>
          <ul>
            <li><a href="/pricing">Pricing</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="https://github.com/Purple-flea">GitHub</a></li>
            <li><a href="/contact">Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <a href="/" class="footer-logo"><span>‚ô¢</span> Purple Flea</a>
        <p class="footer-copy">¬© 2025 Purple Flea. Crypto infrastructure for AI agents.</p>
      </div>
    </div>
  </footer>

  <script>
    // Navbar scroll effect
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
      navbar.classList.toggle('scrolled', window.scrollY > 20);
    });

    // Reveal on scroll
    const revealEls = document.querySelectorAll('.reveal');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });
    revealEls.forEach(el => observer.observe(el));
  </script>
</body>
</html>
